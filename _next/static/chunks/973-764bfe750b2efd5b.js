(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{9196:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return(n+r)*3/4-r},e.toByteArray=function(t){var e,n,o=u(t),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(t,e,r){for(var i,o=[],s=e;s<r;s+=3)o.push(n[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(t,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(e=t[r-1])>>2]+n[e<<4&63]+"=="):2===i&&o.push(n[(e=(t[r-2]<<8)+t[r-1])>>10]+n[e>>4&63]+n[e<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2957:function(t,e,n){"use strict";let r=n(9196),i=n(8848),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,n){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!a.isEncoding(e))throw TypeError("Unknown encoding: "+e);let n=0|p(t,e),r=s(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if($(t,Uint8Array)){let e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($(t,ArrayBuffer)||t&&$(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&($(t,SharedArrayBuffer)||t&&$(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');let r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return a.from(r,e,n);let i=function(t){var e;if(a.isBuffer(t)){let e=0|d(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?s(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return c(t),s(t<0?0:0|d(t))}function h(t){let e=t.length<0?0:0|d(t.length),n=s(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){let r;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),a.prototype),r}function d(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(t).length;default:if(i)return r?-1:M(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,n){let r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=N[t[r]];return i}(this,e,n);case"utf8":case"utf-8":return b(this,e,n);case"ascii":return function(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}(this,e,n);case"latin1":case"binary":return function(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}(this,e,n);case"base64":var o,s;return o=e,s=n,0===o&&s===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){let r=t.slice(e,n),i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}(this,e,n);default:if(i)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function y(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){var o;if(0===t.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(o=n=+n)!=o&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return -1;n=t.length-1}else if(n<0){if(!i)return -1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){let o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return -1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else -1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(t,o+r)!==c(e,r)){n=!1;break}if(n)return o}return -1}function b(t,e,n){n=Math.min(t.length,n);let r=[],i=e;for(;i<n;){let e=t[i],o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:e<128&&(o=e);break;case 2:(192&(n=t[i+1]))==128&&(u=(31&e)<<6|63&n)>127&&(o=u);break;case 3:n=t[i+1],r=t[i+2],(192&n)==128&&(192&r)==128&&(u=(15&e)<<12|(63&n)<<6|63&r)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],(192&n)==128&&(192&r)==128&&(192&a)==128&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){let e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function w(t,e,n){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>n)throw RangeError("Trying to access beyond buffer length")}function x(t,e,n,r,i,o){if(!a.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw RangeError('"value" argument is out of bounds');if(n+r>t.length)throw RangeError("Index out of range")}function _(t,e,n,r,i){T(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function k(t,e,n,r,i){T(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function P(t,e,n,r,i,o){if(n+r>t.length||n<0)throw RangeError("Index out of range")}function E(t,e,n,r,o){return e=+e,n>>>=0,o||P(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function S(t,e,n,r,o){return e=+e,n>>>=0,o||P(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}e.lW=a,e.h2=50,a.TYPED_ARRAY_SUPPORT=function(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,n){return(c(t),t<=0)?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if($(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),$(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){let n;if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);if(void 0===e)for(n=0,e=0;n<t.length;++n)e+=t[n].length;let r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){let e=t[n];if($(e,Uint8Array))i+e.length>r.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else if(a.isBuffer(e))e.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=e.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},a.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},a.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},a.prototype.toString=function(){let t=this.length;return 0===t?"":0==arguments.length?b(this,0,t):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let t="",n=e.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(t,e,n,r,i){if($(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return -1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;let o=i-r,s=n-e,u=Math.min(o,s),c=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<u;++t)if(c[t]!==l[t]){o=c[t],s=l[t];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return -1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){var i,o,s,a,u,c,l,h;if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-e;if((void 0===n||n>f)&&(n=f),t.length>0&&(n<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let d=!1;for(;;)switch(r){case"hex":return function(t,e,n,r){let i;n=Number(n)||0;let o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;let s=e.length;for(r>s/2&&(r=s/2),i=0;i<r;++i){let r=parseInt(e.substr(2*i,2),16);if(r!=r)break;t[n+i]=r}return i}(this,t,e,n);case"utf8":case"utf-8":return i=e,o=n,B(M(t,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=e,a=n,B(function(t){let e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(t),this,s,a);case"base64":return u=e,c=n,B(R(t),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=e,h=n,B(function(t,e){let n,r;let i=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,this.length-l),this,l,h);default:if(d)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(t,e){let n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);let r=this.subarray(t,e);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||w(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||w(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||w(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||w(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||w(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||w(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||w(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=F(function(t){C(t>>>=0,"offset");let e=this[t],n=this[t+7];(void 0===e||void 0===n)&&j(t,this.length-8);let r=e+256*this[++t]+65536*this[++t]+16777216*this[++t],i=this[++t]+256*this[++t]+65536*this[++t]+16777216*n;return BigInt(r)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=F(function(t){C(t>>>=0,"offset");let e=this[t],n=this[t+7];(void 0===e||void 0===n)&&j(t,this.length-8);let r=16777216*e+65536*this[++t]+256*this[++t]+this[++t],i=16777216*this[++t]+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||w(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||w(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return(t>>>=0,e||w(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||w(t,2,this.length);let n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||w(t,2,this.length);let n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||w(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||w(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=F(function(t){C(t>>>=0,"offset");let e=this[t],n=this[t+7];return(void 0===e||void 0===n)&&j(t,this.length-8),(BigInt(this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24))<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+16777216*this[++t])}),a.prototype.readBigInt64BE=F(function(t){C(t>>>=0,"offset");let e=this[t],n=this[t+7];return(void 0===e||void 0===n)&&j(t,this.length-8),(BigInt((e<<24)+65536*this[++t]+256*this[++t]+this[++t])<<BigInt(32))+BigInt(16777216*this[++t]+65536*this[++t]+256*this[++t]+n)}),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||w(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||w(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||w(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||w(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;x(this,t,e,n,r,0)}let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;x(this,t,e,n,r,0)}let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=F(function(t,e=0){return _(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=F(function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){let r=Math.pow(2,8*n-1);x(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){let r=Math.pow(2,8*n-1);x(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=F(function(t,e=0){return _(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=F(function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(t,e,n){return E(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return E(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return S(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return S(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(!a.isBuffer(t))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);let i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},a.prototype.fill=function(t,e,n,r){let i;if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===t.length){let e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{let o=a.isBuffer(t)?t:a.from(t,r),s=o.length;if(0===s)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};let O={};function A(t,e,n){O[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",n=t.length,r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function T(t,e,n,r,i,o){if(t>n||t<e){let r;let i="bigint"==typeof e?"n":"";throw r=o>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${e}${i} and <= ${n}${i}`,new O.ERR_OUT_OF_RANGE("value",r,t)}C(i,"offset"),(void 0===r[i]||void 0===r[i+o])&&j(i,r.length-(o+1))}function C(t,e){if("number"!=typeof t)throw new O.ERR_INVALID_ARG_TYPE(e,"number",t)}function j(t,e,n){if(Math.floor(t)!==t)throw C(t,n),new O.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new O.ERR_BUFFER_OUT_OF_BOUNDS;throw new O.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}A("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),A("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),A("ERR_OUT_OF_RANGE",function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?i=D(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=D(i)),i+="n"),r+=` It must be ${e}. Received ${i}`},RangeError);let I=/[^+/0-9A-Za-z-_]/g;function M(t,e){let n;e=e||1/0;let r=t.length,i=null,o=[];for(let s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function R(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length)&&!(i>=t.length);++i)e[i+n]=t[i];return i}function $(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}let N=function(){let t="0123456789abcdef",e=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function F(t){return"undefined"==typeof BigInt?q:t}function q(){throw Error("BigInt not supported")}},8848:function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?5960464477539062e-23:0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?e+=f/u:e+=f*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*m}},6597:function(t,e,n){"use strict";n.d(e,{j:function(){return s}});var r=n(4490),i=n(3358),o=n(3106);class s{constructor(t,e){this.pipeline=t,this.options=(0,r.Tc)(e)}stream(t){let e=(0,i.oM)(t),n=this.options.processingMode;(n==r.qD.CLONE_ALL||n==r.qD.CLONE_INPUT)&&e.map(o.Xh);let s=[];if(!(0,o.xb)(this.pipeline))for(let t of this.pipeline){let n=Object.keys(t),i=n[0],a=(0,r.jQ)(r.$M.PIPELINE,i,this.options);(0,o.hu)(1===n.length&&!!a,`invalid pipeline operator ${i}`),s.push(i),e=a(e,t[i],this.options)}return(n==r.qD.CLONE_OUTPUT||n==r.qD.CLONE_ALL&&(0,o.jV)([["$group","$unwind"],s]).length)&&e.map(o.Xh),e}run(t){return this.stream(t).value()}}},4490:function(t,e,n){"use strict";n.d(e,{$M:function(){return c},Cw:function(){return a},Kr:function(){return y},Qs:function(){return f},Tc:function(){return u},jQ:function(){return d},qD:function(){return s}});var r,i,o=n(3106),s=((r=s||{}).CLONE_ALL="CLONE_ALL",r.CLONE_INPUT="CLONE_INPUT",r.CLONE_OUTPUT="CLONE_OUTPUT",r.CLONE_OFF="CLONE_OFF",r);class a{constructor(t,e,n,r=Date.now()){this._opts=t,this._root=e,this._local=n,this.timestamp=r,this.update(e,n)}static init(t,e,n){return t instanceof a?new a(t._opts,(0,o.kK)(t.root)?e:t.root,Object.assign({},t.local,n)):new a(t,e,n)}update(t,e){return this._root=t,this._local=e?Object.assign({},e,{variables:Object.assign({},this._local?.variables,e?.variables)}):e,this}getOptions(){return Object.freeze({...this._opts,context:l.from(this._opts.context)})}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){return this._opts?.collation}get processingMode(){return this._opts?.processingMode||"CLONE_OFF"}get useStrictMode(){return this._opts?.useStrictMode}get scriptEnabled(){return this._opts?.scriptEnabled}get useGlobalContext(){return this._opts?.useGlobalContext}get hashFunction(){return this._opts?.hashFunction}get collectionResolver(){return this._opts?.collectionResolver}get jsonSchemaValidator(){return this._opts?.jsonSchemaValidator}get variables(){return this._opts?.variables}get context(){return this._opts?.context}}function u(t){return t instanceof a?t.getOptions():Object.freeze({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:"CLONE_OFF",...t,context:t?.context?l.from(t?.context):l.init({})})}var c=((i=c||{}).ACCUMULATOR="accumulator",i.EXPRESSION="expression",i.PIPELINE="pipeline",i.PROJECTION="projection",i.QUERY="query",i.WINDOW="window",i);class l{constructor(t){for(let[e,n]of(this.operators={accumulator:{},expression:{},pipeline:{},projection:{},query:{},window:{}},Object.entries(t)))this.addOperators(e,n)}static init(t={}){return new l(t)}static from(t){return new l(t.operators)}addOperators(t,e){for(let[n,r]of Object.entries(e))this.getOperator(t,n)||(this.operators[t][n]=r);return this}addAccumulatorOps(t){return this.addOperators("accumulator",t)}addExpressionOps(t){return this.addOperators("expression",t)}addQueryOps(t){return this.addOperators("query",t)}addPipelineOps(t){return this.addOperators("pipeline",t)}addProjectionOps(t){return this.addOperators("projection",t)}addWindowOps(t){return this.addOperators("window",t)}getOperator(t,e){return t in this.operators&&this.operators[t][e]||null}}let h=l.init();function f(t,e){for(let[n,r]of Object.entries(e)){(0,o.hu)((0,o.mf)(r)&&(0,o.S6)(n),`'${n}' is not a valid operator`);let e=d(t,n,null);(0,o.hu)(!e||r===e,`${n} already exists for '${t}' operators. Cannot change operator function once registered.`)}switch(t){case"accumulator":h.addAccumulatorOps(e);break;case"expression":h.addExpressionOps(e);break;case"pipeline":h.addPipelineOps(e);break;case"projection":h.addProjectionOps(e);break;case"query":h.addQueryOps(e);break;case"window":h.addWindowOps(e)}}function d(t,e,n){let{context:r,useGlobalContext:i}=n||{},o=r?r.getOperator(t,e):null;return!o&&i?h.getOperator(t,e):o}let p={$$ROOT:(t,e,n)=>n.root,$$CURRENT:(t,e,n)=>t,$$REMOVE(t,e,n){},$$NOW:(t,e,n)=>new Date(n.timestamp)},m={$$KEEP:(t,e,n)=>t,$$PRUNE(t,e,n){},$$DESCEND(t,e,n){let r;if(!(0,o.e$)(e,"$cond"))return t;for(let[i,s]of Object.entries(t))if((0,o.yD)(s)){if(s instanceof Array){let t=[];for(let r of s)(0,o.Kn)(r)&&(r=v(r,e,n.update(r))),(0,o.kK)(r)||t.push(r);r=t}else r=v(s,e,n.update(s));(0,o.kK)(r)?delete t[i]:t[i]=r}return t}};function y(t,e,n,r){let i=a.init(r,t);if(n=n||"",(0,o.S6)(n)){let s=d("expression",n,r);if(s)return s(t,e,i);let a=d("accumulator",n,r);if(a)return t instanceof Array||(t=y(t,e,null,i),e=null),(0,o.hu)(t instanceof Array,`'${n}' target must be an array.`),a(t,e,i.update(null,i.local));throw new o.QF(`operator '${n}' is not registered`)}if((0,o.HD)(e)&&e.length>0&&"$"===e[0]){if((0,o.e$)(m,e))return e;let n=i.root,r=e.split(".");if((0,o.e$)(p,r[0]))n=p[r[0]](t,null,i),e=e.slice(r[0].length+1);else if("$$"===r[0].slice(0,2)){n=Object.assign({},i.variables,{this:t},i.local?.variables);let s=r[0].slice(2);(0,o.hu)((0,o.e$)(n,s),`Use of undefined variable: ${s}`),e=e.slice(2)}else e=e.slice(1);return""===e?n:(0,o.DB)(n,e)}if((0,o.kJ)(e))return e.map(e=>y(t,e,null,i));if((0,o.Kn)(e)){let n={};for(let[s,a]of Object.entries(e))if(n[s]=y(t,a,s,i),["expression","accumulator"].some(t=>!!d(t,s,r)))return(0,o.hu)(1===Object.keys(e).length,"Invalid aggregation expression '"+JSON.stringify(e)+"'"),n[s];return n}return e}function v(t,e,n){let r=y(t,e,null,n);return(0,o.e$)(m,r)?m[r](t,e,n):r}},3358:function(t,e,n){"use strict";n.d(e,{oM:function(){return o},qC:function(){return s}});var r,i=n(3106);function o(t){return t instanceof c?t:new c(t)}function s(...t){let e=0;return o(()=>{for(;e<t.length;){let n=t[e].next();if(!n.done)return n;e++}return{done:!0}})}let a=Error();var u=((r=u||{})[r.MAP=0]="MAP",r[r.FILTER=1]="FILTER",r[r.TAKE=2]="TAKE",r[r.DROP=3]="DROP",r);class c{constructor(t){var e,n,r,o;let s,u,c,l;if(this.iteratees=[],this.yieldedValues=[],this.isDone=!1,t instanceof Function&&(t={next:t}),(e=t)&&"object"==typeof e&&e?.next instanceof Function){let e=t;s=()=>{let t=e.next();if(t.done)throw a;return t.value}}else if(t instanceof Array){let e=t,n=e.length,r=0;s=()=>{if(r<n)return e[r++];throw a}}else if(!(t instanceof Function))throw new i.QF("Lazy must be initialized with an array, generator, or function.");this.getNext=(n=s,r=this.iteratees,o=this.yieldedValues,u=!1,c=-1,l=0,function(t){try{t:for(;!u;){let e=n();c++;let i=-1,s=r.length,a=!1;for(;++i<s;){let t=r[i];switch(t.action){case 0:e=t.func(e,c);break;case 1:if(!t.func(e,c))continue t;break;case 2:--t.count,t.count||(a=!0);break;case 3:--t.count,t.count||function(t,e){let n=t.slice(e+1);t.splice(e),Array.prototype.push.apply(t,n)}(r,i);continue t;default:break t}}if(u=a,!t)return{value:e,done:!1};o[l++]=e}}catch(t){if(t!==a)throw t}return{done:u=!0}})}push(t,e){return"function"==typeof e?this.iteratees.push({action:t,func:e}):"number"==typeof e&&this.iteratees.push({action:t,count:e}),this}next(){return this.getNext()}map(t){return this.push(0,t)}filter(t){return this.push(1,t)}take(t){return t>0?this.push(2,t):this}drop(t){return t>0?this.push(3,t):this}transform(t){let e;let n=this;return o(()=>(e||(e=o(t(n.value()))),e.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){let e=this.next();if(e.done)break;if(!1===t(e.value))return!1}return!0}reduce(t,e){let n=this.next();for(void 0!==e||n.done||(e=n.value,n=this.next());!n.done;)e=t(e,n.value),n=this.next();return e}size(){return this.reduce((t,e)=>++t,0)}[Symbol.iterator](){return this}}},1744:function(t,e,n){"use strict";n.d(e,{FI:function(){return l},G6:function(){return g},GO:function(){return v},HG:function(){return d},IS:function(){return h},JD:function(){return y},Ns:function(){return b},QH:function(){return w},Ty:function(){return f},ey:function(){return A},hk:function(){return a},iG:function(){return s},l3:function(){return u},m9:function(){return m},ny:function(){return c},ok:function(){return p},rr:function(){return _}});var r=n(4490),i=n(4950),o=n(3106);function s(t){let e=(e,n,r)=>{let i={unwrapArray:!0},s=Math.max(1,e.split(".").length-1);return a=>t((0,o.DB)(a,e,i),n,{...r,depth:s})};return e.op="query",e}function a(t){return(e,n,i)=>t(...(0,r.Kr)(e,n,null,i))}function u(t,e,n){if((0,o.Xy)(t,e)||(0,o.kK)(t)&&(0,o.kK)(e))return!0;if(t instanceof Array){let r=o.Xy.bind(null,e);return t.some(r)||(0,o.xH)(t,n?.depth).some(r)}return!1}function c(t,e,n){return!u(t,e,n)}function l(t,e,n){return(0,o.kK)(t)?e.some(t=>null===t):(0,o.jV)([(0,o.rY)(t),e],n?.hashFunction).length>0}function h(t,e,n){return!l(t,e,n)}function f(t,e,n){return D(t,e,(t,e)=>0>(0,o.qu)(t,e))}function d(t,e,n){return D(t,e,(t,e)=>0>=(0,o.qu)(t,e))}function p(t,e,n){return D(t,e,(t,e)=>(0,o.qu)(t,e)>0)}function m(t,e,n){return D(t,e,(t,e)=>(0,o.qu)(t,e)>=0)}function y(t,e,n){return(0,o.rY)(t).some(t=>2===e.length&&t%e[0]===e[1])}function v(t,e,n){let r=(0,o.rY)(t),i=t=>(0,o.HD)(t)&&(0,o.yb)(e.exec(t),n?.useStrictMode);return r.some(i)||(0,o.xH)(r,1).some(i)}function g(t,e,n){return(!1===e||0===e)&&void 0===t||(!0===e||1===e)&&void 0!==t}function b(t,e,n){if(!(0,o.kJ)(t)||!(0,o.kJ)(e)||!t.length||!e.length)return!1;let r=!0;for(let i of e){if(!r)break;r=(0,o.Kn)(i)&&(0,o.d3)(Object.keys(i),"$elemMatch")?_(t,i.$elemMatch,n):i instanceof RegExp?t.some(t=>"string"==typeof t&&i.test(t)):t.some(t=>(0,o.Xy)(i,t))}return r}function w(t,e,n){return Array.isArray(t)&&t.length===e}function x(t){return(0,o.S6)(t)&&-1===["$and","$or","$nor"].indexOf(t)}function _(t,e,n){if((0,o.kJ)(t)&&!(0,o.xb)(t)){let r=t=>t,o=e;Object.keys(e).every(x)&&(o={temp:e},r=t=>({temp:t}));let s=new i.A(o,n);for(let e=0,n=t.length;e<n;e++)if(s.test(r(t[e])))return!0}return!1}let k=t=>null===t,P=t=>(0,o.hj)(t)&&t>=o.xm&&t<=o.n1&&-1===t.toString().indexOf("."),E=t=>(0,o.hj)(t)&&t>=o.Hu&&t<=o.JV&&-1===t.toString().indexOf("."),S={array:o.kJ,bool:o.jn,boolean:o.jn,date:o.J_,decimal:o.hj,double:o.hj,int:P,long:E,number:o.hj,null:k,object:o.Kn,regex:o.Kj,regexp:o.Kj,string:o.HD,undefined:o.kK,function:t=>{throw new o.QF("unsupported type key `function`.")},1:o.hj,2:o.HD,3:o.Kn,4:o.kJ,6:o.kK,8:o.jn,9:o.J_,10:k,11:o.Kj,16:P,18:E,19:o.hj};function O(t,e,n){let r=S[e];return!!r&&r(t)}function A(t,e,n){return Array.isArray(e)?e.findIndex(e=>O(t,e,n))>=0:O(t,e,n)}function D(t,e,n){return(0,o.rY)(t).some(t=>(0,o.oL)(t)===(0,o.oL)(e)&&n(t,e))}},9087:function(t,e,n){"use strict";n.r(e),n.d(e,{$and:function(){return o},$not:function(){return s},$or:function(){return a}});var r=n(4490),i=n(3106);let o=(t,e,n)=>{let o=(0,r.Kr)(t,e,null,n);return(0,i.yb)(o,n.useStrictMode)&&o.every(t=>(0,i.yb)(t,n.useStrictMode))},s=(t,e,n)=>{let o=(0,i.rY)(e);if(0==o.length)return!1;if(1==o.length)return!(0,r.Kr)(t,o[0],null,n);throw"Expression $not takes exactly 1 argument"},a=(t,e,n)=>{let o=(0,r.Kr)(t,e,null,n),s=n.useStrictMode;return(0,i.yb)(o,s)&&o.some(t=>(0,i.yb)(t,s))}},9075:function(t,e,n){"use strict";n.r(e),n.d(e,{$cmp:function(){return i},$eq:function(){return s},$gt:function(){return a},$gte:function(){return u},$lt:function(){return c},$lte:function(){return l},$ne:function(){return h}});var r=n(4490);let i=(t,e,n)=>{let i=(0,r.Kr)(t,e,null,n);return i[0]>i[1]?1:i[0]<i[1]?-1:0};var o=n(1744);let s=(0,o.hk)(o.l3),a=(0,o.hk)(o.ok),u=(0,o.hk)(o.m9),c=(0,o.hk)(o.Ty),l=(0,o.hk)(o.HG),h=(0,o.hk)(o.ny)},2624:function(t,e,n){"use strict";n.d(e,{Ns:function(){return i},rr:function(){return o},QH:function(){return s}});var r=n(1744);let i=(0,r.iG)(r.Ns),o=(0,r.iG)(r.rr),s=(0,r.iG)(r.QH)},5009:function(t,e,n){"use strict";n.d(e,{l3:function(){return i},ok:function(){return o},m9:function(){return s},FI:function(){return a},Ty:function(){return u},HG:function(){return c},ny:function(){return l},IS:function(){return h}});var r=n(1744);let i=(0,r.iG)(r.l3),o=(0,r.iG)(r.ok),s=(0,r.iG)(r.m9),a=(0,r.iG)(r.FI),u=(0,r.iG)(r.Ty),c=(0,r.iG)(r.HG),l=(0,r.iG)(r.ny),h=(0,r.iG)(r.IS)},7584:function(t,e,n){"use strict";n.d(e,{G:function(){return i},e:function(){return o}});var r=n(1744);let i=(0,r.iG)(r.G6),o=(0,r.iG)(r.ey)},7470:function(t,e,n){"use strict";n.d(e,{Vb:function(){return i},vc:function(){return s},JD:function(){return u},GO:function(){return c},eY:function(){return l}});var r=n(4490);function i(t,e,n){return t=>(0,r.Kr)(t,e,null,n)}var o=n(3106);function s(t,e,n){if(!n?.jsonSchemaValidator)throw new o.QF("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");let r=n?.jsonSchemaValidator(e);return t=>r(t)}var a=n(1744);let u=(0,a.iG)(a.JD),c=(0,a.iG)(a.GO);function l(t,e,n){return(0,o.hu)(n.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true"),(0,o.hu)((0,o.mf)(e),"$where only accepts a Function object"),t=>(0,o.yb)(e.call(t),n?.useStrictMode)}},2135:function(t,e,n){"use strict";n.d(e,{h$:function(){return o},ps:function(){return a},_w:function(){return u},Ko:function(){return s}});var r=n(4950),i=n(3106);let o=(t,e,n)=>{(0,i.hu)((0,i.kJ)(e),"Invalid expression: $and expects value to be an Array.");let o=e.map(t=>new r.A(t,n));return t=>o.every(e=>e.test(t))},s=(t,e,n)=>{(0,i.hu)((0,i.kJ)(e),"Invalid expression. $or expects value to be an Array");let o=e.map(t=>new r.A(t,n));return t=>o.some(e=>e.test(t))},a=(t,e,n)=>{(0,i.hu)((0,i.kJ)(e),"Invalid expression. $nor expects value to be an array.");let r=s("$or",e,n);return t=>!r(t)},u=(t,e,n)=>{let o={};o[t]=(0,i.Fv)(e);let s=new r.A(o,n);return t=>!s.test(t)}},4950:function(t,e,n){"use strict";n.d(e,{A:function(){return u}});var r=n(4490),i=n(6597),o=n(3358),s=n(3106);class a{constructor(t,e,n,r){this.source=t,this.predicate=e,this.projection=n,this.options=r,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result||((0,s.Kn)(this.projection)&&this.operators.push({$project:this.projection}),this.result=(0,o.oM)(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new i.j(this.operators,this.options).stream(this.result))),this.result}fetchAll(){let t=(0,o.oM)([...this.buffer]);return this.buffer=[],(0,o.qC)(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options={...this.options,collation:t},this}next(){if(this.buffer.length>0)return this.buffer.pop();let t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;let t=this.fetch().next();return!t.done&&(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}class u{constructor(t,e){this.condition=t,this.options=(0,r.Tc)(e),this.compiled=[],this.compile()}compile(){(0,s.hu)((0,s.Kn)(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);let t={};for(let[e,n]of Object.entries(this.condition)){if("$where"===e)Object.assign(t,{field:e,expr:n});else if((0,s.d3)(["$and","$or","$nor","$expr","$jsonSchema"],e))this.processOperator(e,e,n);else for(let[t,r]of((0,s.hu)(!(0,s.S6)(e),`unknown top level operator: ${e}`),Object.entries((0,s.Fv)(n))))this.processOperator(e,t,r);t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,e,n){let i=(0,r.jQ)(r.$M.QUERY,e,this.options);if(!i)throw new s.QF(`unknown query operator ${e}`);let o=i(t,n,this.options);this.compiled.push(o)}test(t){for(let e=0,n=this.compiled.length;e<n;e++)if(!this.compiled[e](t))return!1;return!0}find(t,e){return new a(t,t=>this.test(t),e||{},this.options)}remove(t){return t.reduce((t,e)=>(this.test(e)||t.push(e),t),[])}}},3106:function(t,e,n){"use strict";n.d(e,{DB:function(){return X},Fv:function(){return ti},HD:function(){return g},Hu:function(){return a},JV:function(){return s},J_:function(){return k},Kj:function(){return P},Kn:function(){return x},Nl:function(){return A},QF:function(){return r},S6:function(){return tr},TO:function(){return function t(e){if(e instanceof Array)for(let n=e.length-1;n>=0;n--)e[n]===u?e.splice(n,1):t(e[n]);else if(x(e))for(let n in e)I(e,n)&&t(e[n])}},TS:function(){return function t(e,n,r){if(r=r||{flatten:!1},C(e)||S(e))return n;if(C(n)||S(n))return e;if(!N(e,n)){if(r.skipValidation)return n||e;throw Error("mismatched types. must both be array or object")}if(r.skipValidation=!0,w(e)){if(r.flatten){let i=0,o=0;for(;i<e.length&&o<n.length;)e[i]=t(e[i++],n[o++],r);for(;o<n.length;)e.push(n[o++])}else Y(e,n)}else for(let i in n)e[i]=t(e[i],n[i],r);return e}},Tw:function(){return V},Xh:function(){return $},Xy:function(){return U},_p:function(){return Z},d3:function(){return O},e$:function(){return I},fY:function(){return te},gi:function(){return Y},hB:function(){return function t(e,n,r){let i,o;let s=n.split("."),a=s[0],c=s.slice(1).join("."),l=null!==/^\d+$/.exec(a),h=s.length>1;if(e instanceof Array){if(l)i=G(e,Number(a)),h&&(i=t(i,c,r)),i=[i];else for(let s of(i=[],e))o=t(s,n,r),r?.preserveMissing?(void 0===o&&(o=u),i.push(o)):void 0!==o&&i.push(o)}else{if(o=G(e,a),h&&(o=t(o,c,r)),void 0===o)return;(i=r?.preserveKeys?{...e}:{})[a]=o}return i}},hj:function(){return b},hu:function(){return m},jV:function(){return q},jn:function(){return v},kJ:function(){return w},kK:function(){return S},mf:function(){return E},n1:function(){return i},oL:function(){return y},qu:function(){return p},rY:function(){return j},sO:function(){return tt},vM:function(){return H},xH:function(){return L},xb:function(){return T},xm:function(){return o},yD:function(){return _},yb:function(){return D}});class r extends Error{}let i=2147483647,o=-2147483648,s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,u=Symbol("missing"),c=Object.freeze(Error("mingo: cycle detected while processing object/array")),l=/^\[object ([a-zA-Z0-9]+)\]$/,h=t=>{let e=W(t),n=0,r=e.length;for(;r;)n=(n<<5)-n^e.charCodeAt(--r);return n>>>0},f=new Set(["null","undefined","boolean","number","string","date","regexp"]),d={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},p=(t,e)=>{t===u&&(t=void 0),e===u&&(e=void 0);let[n,r]=[t,e].map(t=>d[y(t).toLowerCase()]);return n!==r?n-r:1===n||2===n||6===n?t<e?-1:t>e?1:0:U(t,e)?0:t<e?-1:t>e?1:0};function m(t,e){if(!t)throw new r(e)}let y=t=>l.exec(Object.prototype.toString.call(t))[1],v=t=>"boolean"==typeof t,g=t=>"string"==typeof t,b=t=>!isNaN(t)&&"number"==typeof t,w=Array.isArray,x=t=>{if(!t)return!1;let e=Object.getPrototypeOf(t);return(e===Object.prototype||null===e)&&"[object Object]"===Object.prototype.toString.call(t)},_=t=>t===Object(t),k=t=>t instanceof Date,P=t=>t instanceof RegExp,E=t=>"function"==typeof t,S=t=>null==t,O=(t,e)=>t.includes(e),A=(t,e)=>!O(t,e),D=(t,e=!0)=>!!t||e&&""===t,T=t=>S(t)||g(t)&&!t||t instanceof Array&&0===t.length||x(t)&&0===Object.keys(t).length,C=t=>t===u,j=t=>t instanceof Array?t:[t],I=(t,e)=>!!t&&Object.prototype.hasOwnProperty.call(t,e),M=t=>"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t),R=[k,P,M],B=(t,e)=>{if(S(t))return t;if(e.has(t))throw c;let n=t.constructor;if(R.some(e=>e(t)))return new n(t);try{if(e.add(t),w(t))return t.map(t=>B(t,e));if(x(t)){let n={};for(let r in t)n[r]=B(t[r],e);return n}}finally{e.delete(t)}return t},$=t=>B(t,new Set),N=(t,e)=>x(t)&&x(e)||w(t)&&w(e);function F(t,e=h){let n=new Map;return t.forEach((r,i)=>{let o=Q(r,e);n.has(o)?n.get(o).some(e=>U(t[e],r))||n.get(o).push(i):n.set(o,[i])}),n}function q(t,e=h){if(t.some(t=>0==t.length))return[];if(1===t.length)return Array.from(t);let n=function(t,e,n=p){if(T(t))return t;let r=[],i=[];for(let n=0;n<t.length;n++){let o=t[n],s=e(o,n);S(s)?i.push(o):r.push([s,o])}return r.sort((t,e)=>n(t[0],e[0])),Y(i,r.map(t=>t[1]))}(t.map((t,e)=>[e,t.length]),t=>t[1]),r=t[n[0][0]],i=F(r,e),o=new Map,s=[];return i.forEach((e,i)=>{let a=e.map(t=>r[t]),c=a.map(t=>0),l=a.map(t=>[n[0][0],0]),h=!1;for(let e=1;e<t.length;e++){let[r,s]=n[e],u=t[r];if(o.has(e)||o.set(e,F(u)),o.get(e).has(i)){let t=o.get(e).get(i).map(t=>u[t]);h=a.map((n,s)=>t.some((t,a)=>{let u=c[s];return U(n,t)&&(c[s]++,r<l[s][0]&&(l[s]=[r,o.get(e).get(i)[a]])),u<c[s]})).some(Boolean)}if(!h)return}h&&Y(s,c.map((e,n)=>e===t.length-1?[a[n],l[n]]:u).filter(t=>t!==u))}),s.sort((t,e)=>{let[n,[r,i]]=t,[o,[s,a]]=e,u=p(r,s);return 0!==u?u:p(i,a)}).map(t=>t[0])}function L(t,e=0){let n=[];return!function t(e,r){for(let i=0,o=e.length;i<o;i++)w(e[i])&&(r>0||r<0)?t(e[i],Math.max(-1,r-1)):n.push(e[i])}(t,e),n}let K=t=>{let[e,n]=[Object.getPrototypeOf(t),Object.getOwnPropertyNames(t)],r=e;for(;!n.length&&e!==Object.prototype&&e!==Array.prototype;)r=e,n=Object.getOwnPropertyNames(e),e=Object.getPrototypeOf(e);let i={};return n.forEach(e=>i[e]=t[e]),[i,r]};function U(t,e){if(t===e||Object.is(t,e))return!0;let n=!!t&&t.constructor||t;if(null===t||null===e||void 0===t||void 0===e||n!==e.constructor||n===Function)return!1;if(n===Array||n===Object){let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length||new Set([...n,...r]).size!=n.length)return!1;for(let r of n)if(!U(t[r],e[r]))return!1;return!0}let r=Object.getPrototypeOf(t);return(M(t)||r!==Object.prototype&&r!==Array.prototype&&Object.prototype.hasOwnProperty.call(r,"toString"))&&t.toString()===e.toString()}function V(t,e=h){let n=t.map(t=>u);return F(t,e).forEach((e,r)=>{e.forEach(e=>n[e]=t[e])}),n.filter(t=>t!==u)}let z=(t,e)=>{if(null===t)return"null";if(void 0===t)return"undefined";let n=t.constructor;switch(n){case RegExp:case Number:case Boolean:case Function:case Symbol:return t.toString();case String:return JSON.stringify(t);case Date:return t.toISOString()}if(M(t))return n.name+"["+t.toString()+"]";if(e.has(t))throw c;try{if(e.add(t),w(t))return"["+t.map(t=>z(t,e)).join(",")+"]";if(n===Object)return"{"+Object.keys(t).sort().map(n=>n+":"+z(t[n],e)).join(",")+"}";let r=Object.getPrototypeOf(t);if(r!==Object.prototype&&r!==Array.prototype&&Object.prototype.hasOwnProperty.call(r,"toString"))return n.name+"("+JSON.stringify(t.toString())+")";let[i,o]=K(t);return n.name+z(i,e)}finally{e.delete(t)}},W=t=>z(t,new Set);function Q(t,e){return(e=e||h,S(t))?null:e(t).toString()}function H(t,e,n=h){if(t.length<1)return new Map;let r=new Map,i=new Map;for(let o=0;o<t.length;o++){let s=t[o],a=e(s,o),u=Q(a,n);if(null===u)i.has(null)?i.get(null).push(s):i.set(null,[s]);else{let t=r.has(u)?r.get(u).find(t=>U(t,a)):null;S(t)?(i.set(a,[s]),r.has(u)?r.get(u).push(a):r.set(u,[a])):i.get(t).push(s)}}return i}function Y(t,...e){return t instanceof Array?e.reduce((t,e)=>{let n=Math.ceil(e.length/5e4),r=0;for(;n-- >0;)Array.prototype.push.apply(t,e.slice(r,r+5e4)),r+=5e4;return t},t):e.filter(_).reduce((t,e)=>(Object.assign(t,e),t),t)}function G(t,e){return _(t)?t[e]:void 0}function X(t,e,n){let r=0,i=f.has(y(t).toLowerCase())?t:function t(e,n){let i=e;for(let e=0;e<n.length;e++){let o=n[e];if(null===/^\d+$/.exec(o)&&i instanceof Array){if(0===e&&r>0)break;r+=1;let o=n.slice(e);i=i.reduce((e,n)=>{let r=t(n,o);return void 0!==r&&e.push(r),e},[]);break}if(void 0===(i=G(i,o)))break}return i}(t,e.split("."));return i instanceof Array&&n?.unwrapArray?function(t,e){if(e<1)return t;for(;e--&&1===t.length;)t=t[0];return t}(i,r):i}let J=/^\d+$/;function Z(t,e,n,r){let i=e.split("."),o=i[0],s=i.slice(1).join(".");if(1===i.length)(x(t)||w(t)&&J.test(o))&&n(t,o);else{r?.buildGraph&&S(t[o])&&(t[o]={});let e=t[o];if(!e)return;let a=!!(i.length>1&&J.test(i[1]));e instanceof Array&&r?.descendArray&&!a?e.forEach(t=>Z(t,s,n,r)):Z(e,s,n,r)}}function tt(t,e,n){Z(t,e,(t,e)=>{t[e]=E(n)?n(t[e]):n},{buildGraph:!0})}function te(t,e,n){Z(t,e,(t,e)=>{if(t instanceof Array){if(/^\d+$/.test(e))t.splice(parseInt(e),1);else if(n&&n.descendArray)for(let n of t)x(n)&&delete n[e]}else x(t)&&delete t[e]},n)}let tn=/^\$[a-zA-Z0-9_]+$/;function tr(t){return tn.test(t)}function ti(t){if(f.has(y(t).toLowerCase()))return P(t)?{$regex:t}:{$eq:t};if(_(t)){if(!Object.keys(t).some(tr))return{$eq:t};if(I(t,"$regex")){let e={...t};return e.$regex=new RegExp(t.$regex,t.$options),delete e.$options,e}}return t}},9376:function(t,e,n){"use strict";var r=n(5475);n.o(r,"useRouter")&&n.d(e,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(e,{useSearchParams:function(){return r.useSearchParams}})},9437:function(t,e,n){var r;r=function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,o=Object.keys,s=Array.isArray;function a(t,e){return"object"!=typeof e||o(e).forEach(function(n){t[n]=e[n]}),t}"undefined"==typeof Promise||i.Promise||(i.Promise=Promise);var u=Object.getPrototypeOf,c={}.hasOwnProperty;function l(t,e){return c.call(t,e)}function h(t,e){"function"==typeof e&&(e=e(u(t))),("undefined"==typeof Reflect?o:Reflect.ownKeys)(e).forEach(function(n){d(t,n,e[n])})}var f=Object.defineProperty;function d(t,e,n,r){f(t,e,a(n&&l(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(t){return{from:function(e){return t.prototype=Object.create(e.prototype),d(t.prototype,"constructor",t),{extend:h.bind(null,t.prototype)}}}}var m=Object.getOwnPropertyDescriptor,y=[].slice;function v(t,e,n){return y.call(t,e,n)}function g(t,e){return e(t)}function b(t){if(!t)throw Error("Assertion Failed")}function w(t){i.setImmediate?setImmediate(t):setTimeout(t,0)}function x(t,e){if("string"==typeof e&&l(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,i=e.length;r<i;++r){var o=x(t,e[r]);n.push(o)}return n}var s=e.indexOf(".");if(-1!==s){var a=t[e.substr(0,s)];return null==a?void 0:x(a,e.substr(s+1))}}function _(t,e,n){if(t&&void 0!==e&&!("isFrozen"in Object&&Object.isFrozen(t))){if("string"!=typeof e&&"length"in e){b("string"!=typeof n&&"length"in n);for(var r=0,i=e.length;r<i;++r)_(t,e[r],n[r])}else{var o,a,u=e.indexOf(".");-1!==u?(o=e.substr(0,u),""===(a=e.substr(u+1))?void 0===n?s(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n:_(u=(u=t[o])&&l(t,o)?u:t[o]={},a,n)):void 0===n?s(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}}function k(t){var e,n={};for(e in t)l(t,e)&&(n[e]=t[e]);return n}var P=[].concat;function E(t){return P.apply([],t)}var S="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(E([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return i[t]}),O=new Set(S.map(function(t){return i[t]})),A=null;function D(t){return A=new WeakMap,t=function t(e){if(!e||"object"!=typeof e)return e;var n=A.get(e);if(n)return n;if(s(e)){n=[],A.set(e,n);for(var r=0,i=e.length;r<i;++r)n.push(t(e[r]))}else if(O.has(e.constructor))n=e;else{var o,a=u(e);for(o in n=a===Object.prototype?{}:Object.create(a),A.set(e,n),e)l(e,o)&&(n[o]=t(e[o]))}return n}(t),A=null,t}var T={}.toString;function C(t){return T.call(t).slice(8,-1)}var j="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",I="symbol"==typeof j?function(t){var e;return null!=t&&(e=t[j])&&e.apply(t)}:function(){return null};function M(t,e){return 0<=(e=t.indexOf(e))&&t.splice(e,1),0<=e}var R={};function B(t){var e,n,r,i;if(1==arguments.length){if(s(t))return t.slice();if(this===R&&"string"==typeof t)return[t];if(i=I(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==t||"number"!=typeof(e=t.length))return[t];for(n=Array(e);e--;)n[e]=t[e];return n}for(e=arguments.length,n=Array(e);e--;)n[e]=arguments[e];return n}var $="undefined"!=typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},N=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],F=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(N),q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function L(t,e){this.name=t,this.message=e}function K(t,e){return t+". Errors: "+Object.keys(e).map(function(t){return e[t].toString()}).filter(function(t,e,n){return n.indexOf(t)===e}).join("\n")}function U(t,e,n,r){this.failures=e,this.failedKeys=r,this.successCount=n,this.message=K(t,e)}function V(t,e){this.name="BulkError",this.failures=Object.keys(e).map(function(t){return e[t]}),this.failuresByPos=e,this.message=K(t,this.failures)}p(L).from(Error).extend({toString:function(){return this.name+": "+this.message}}),p(U).from(L),p(V).from(L);var z=F.reduce(function(t,e){return t[e]=e+"Error",t},{}),W=F.reduce(function(t,e){var n=e+"Error";function r(t,r){this.name=n,t?"string"==typeof t?(this.message="".concat(t).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof t&&(this.message="".concat(t.name," ").concat(t.message),this.inner=t):(this.message=q[e]||n,this.inner=null)}return p(r).from(L),t[e]=r,t},{});W.Syntax=SyntaxError,W.Type=TypeError,W.Range=RangeError;var Q=N.reduce(function(t,e){return t[e+"Error"]=W[e],t},{}),H=F.reduce(function(t,e){return -1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=W[e]),t},{});function Y(){}function G(t){return t}function X(t,e){return null==t||t===G?e:function(n){return e(t(n))}}function J(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Z(t,e){return t===Y?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?J(r,this.onsuccess):r),i&&(this.onerror=this.onerror?J(i,this.onerror):i),void 0!==o?o:n}}function tt(t,e){return t===Y?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?J(n,this.onsuccess):n),r&&(this.onerror=this.onerror?J(r,this.onerror):r)}}function te(t,e){return t===Y?e:function(n){var r=t.apply(this,arguments);a(n,r);var i=this.onsuccess,o=this.onerror;return this.onsuccess=null,this.onerror=null,n=e.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?J(i,this.onsuccess):i),o&&(this.onerror=this.onerror?J(o,this.onerror):o),void 0===r?void 0===n?void 0:n:a(r,n)}}function tn(t,e){return t===Y?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function tr(t,e){return t===Y?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=Array(i);i--;)o[i]=arguments[i];return n.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}H.ModifyError=U,H.DexieError=L,H.BulkError=V;var ti="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),to={},S="undefined"==typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,u(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,u(e),t]}(),N=S[0],F=S[1],S=S[2],F=F&&F.then,ts=N&&N.constructor,ta=!!S,tu=function(t,e){ty.push([t,e]),tl&&(queueMicrotask(tS),tl=!1)},tc=!0,tl=!0,th=[],tf=[],td=G,tp={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Y,pgp:!1,env:{},finalize:Y},tm=tp,ty=[],tv=0,tg=[];function tb(t){if("object"!=typeof this)throw TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var e=this._PSD=tm;if("function"!=typeof t){if(t!==to)throw TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&t_(this,this._value))}this._state=null,this._value=null,++e.ref,function t(e,n){try{n(function(n){if(null===e._state){if(n===e)throw TypeError("A promise cannot be resolved with itself.");var r=e._lib&&tO();n&&"function"==typeof n.then?t(e,function(t,e){n instanceof tb?n._then(t,e):n.then(t,e)}):(e._state=!0,e._value=n,tk(e)),r&&tA()}},t_.bind(null,e))}catch(t){t_(e,t)}}(this,t)}var tw={get:function(){var t=tm,e=tB;function n(n,r){var i=this,o=!t.global&&(t!==tm||e!==tB),s=o&&!tq(),a=new tb(function(e,a){tP(i,new tx(tW(n,t,o,s),tW(r,t,o,s),e,a,t))});return this._consoleTask&&(a._consoleTask=this._consoleTask),a}return n.prototype=to,n},set:function(t){d(this,"then",t&&t.prototype===to?tw:{get:function(){return t},set:tw.set})}};function tx(t,e,n,r,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=i}function t_(t,e){var n;tf.push(e),null===t._state&&(n=t._lib&&tO(),e=td(e),t._state=!1,t._value=e,th.some(function(e){return e._value===t._value})||th.push(t),tk(t),n&&tA())}function tk(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)tP(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),0===tv&&(++tv,tu(function(){0==--tv&&tD()},[]))}function tP(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++tv,tu(tE,[n,t,e])}else t._listeners.push(e)}function tE(t,e,n){try{var r,i=e._value;!e._state&&tf.length&&(tf=[]),r=ti&&e._consoleTask?e._consoleTask.run(function(){return t(i)}):t(i),e._state||-1!==tf.indexOf(i)||function(t){for(var e=th.length;e;)if(th[--e]._value===t._value)return th.splice(e,1)}(e),n.resolve(r)}catch(t){n.reject(t)}finally{0==--tv&&tD(),--n.psd.ref||n.psd.finalize()}}function tS(){tz(tp,function(){tO()&&tA()})}function tO(){var t=tc;return tl=tc=!1,t}function tA(){var t,e,n;do for(;0<ty.length;)for(t=ty,ty=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(0<ty.length);tl=tc=!0}function tD(){var t=th;th=[],t.forEach(function(t){t._PSD.onunhandled.call(null,t._value,t)});for(var e=tg.slice(0),n=e.length;n;)e[--n]()}function tT(t){return new tb(to,!1,t)}function tC(t,e){var n=tm;return function(){var r=tO(),i=tm;try{return tU(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{tU(i,!1),r&&tA()}}}h(tb.prototype,{then:tw,_then:function(t,e){tP(this,new tx(null,null,t,e,tm))},catch:function(t){if(1==arguments.length)return this.then(null,t);var e=arguments[1];return"function"==typeof t?this.then(null,function(n){return(n instanceof t?e:tT)(n)}):this.then(null,function(n){return(n&&n.name===t?e:tT)(n)})},finally:function(t){return this.then(function(e){return tb.resolve(t()).then(function(){return e})},function(e){return tb.resolve(t()).then(function(){return tT(e)})})},timeout:function(t,e){var n=this;return t<1/0?new tb(function(r,i){var o=setTimeout(function(){return i(new W.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&d(tb.prototype,Symbol.toStringTag,"Dexie.Promise"),tp.env=tV(),h(tb,{all:function(){var t=B.apply(null,arguments).map(tL);return new tb(function(e,n){0===t.length&&e([]);var r=t.length;t.forEach(function(i,o){return tb.resolve(i).then(function(n){t[o]=n,--r||e(t)},n)})})},resolve:function(t){return t instanceof tb?t:t&&"function"==typeof t.then?new tb(function(e,n){t.then(e,n)}):new tb(to,!0,t)},reject:tT,race:function(){var t=B.apply(null,arguments).map(tL);return new tb(function(e,n){t.map(function(t){return tb.resolve(t).then(e,n)})})},PSD:{get:function(){return tm},set:function(t){return tm=t}},totalEchoes:{get:function(){return tB}},newPSD:tN,usePSD:tz,scheduler:{get:function(){return tu},set:function(t){tu=t}},rejectionMapper:{get:function(){return td},set:function(t){td=t}},follow:function(t,e){return new tb(function(n,r){return tN(function(e,n){var r=tm;r.unhandleds=[],r.onunhandled=n,r.finalize=J(function(){var t,r=this;t=function(){0===r.unhandleds.length?e():n(r.unhandleds[0])},tg.push(function e(){t(),tg.splice(tg.indexOf(e),1)}),++tv,tu(function(){0==--tv&&tD()},[])},r.finalize),t()},e,n,r)})}}),ts&&(ts.allSettled&&d(tb,"allSettled",function(){var t=B.apply(null,arguments).map(tL);return new tb(function(e){0===t.length&&e([]);var n=t.length,r=Array(n);t.forEach(function(t,i){return tb.resolve(t).then(function(t){return r[i]={status:"fulfilled",value:t}},function(t){return r[i]={status:"rejected",reason:t}}).then(function(){return--n||e(r)})})})}),ts.any&&"undefined"!=typeof AggregateError&&d(tb,"any",function(){var t=B.apply(null,arguments).map(tL);return new tb(function(e,n){0===t.length&&n(AggregateError([]));var r=t.length,i=Array(r);t.forEach(function(t,o){return tb.resolve(t).then(function(t){return e(t)},function(t){i[o]=t,--r||n(AggregateError(i))})})})}),ts.withResolvers&&(tb.withResolvers=ts.withResolvers));var tj={awaits:0,echoes:0,id:0},tI=0,tM=[],tR=0,tB=0,t$=0;function tN(t,e,n,r){var i=tm,o=Object.create(i);return o.parent=i,o.ref=0,o.global=!1,o.id=++t$,tp.env,o.env=ta?{Promise:tb,PromiseProp:{value:tb,configurable:!0,writable:!0},all:tb.all,race:tb.race,allSettled:tb.allSettled,any:tb.any,resolve:tb.resolve,reject:tb.reject}:{},e&&a(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()},r=tz(o,t,n,r),0===o.ref&&o.finalize(),r}function tF(){return tj.id||(tj.id=++tI),++tj.awaits,tj.echoes+=100,tj.id}function tq(){return!!tj.awaits&&(0==--tj.awaits&&(tj.id=0),tj.echoes=100*tj.awaits,!0)}function tL(t){return tj.echoes&&t&&t.constructor===ts?(tF(),t.then(function(t){return tq(),t},function(t){return tq(),tH(t)})):t}function tK(){var t=tM[tM.length-1];tM.pop(),tU(t,!1)}function tU(t,e){var n,r=tm;(e?!tj.echoes||tR++&&t===tm:!tR||--tR&&t===tm)||queueMicrotask(e?(function(t){++tB,tj.echoes&&0!=--tj.echoes||(tj.echoes=tj.awaits=tj.id=0),tM.push(tm),tU(t,!0)}).bind(null,t):tK),t!==tm&&(tm=t,r===tp&&(tp.env=tV()),ta&&(n=tp.env.Promise,e=t.env,(r.global||t.global)&&(Object.defineProperty(i,"Promise",e.PromiseProp),n.all=e.all,n.race=e.race,n.resolve=e.resolve,n.reject=e.reject,e.allSettled&&(n.allSettled=e.allSettled),e.any&&(n.any=e.any))))}function tV(){var t=i.Promise;return ta?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function tz(t,e,n,r,i){var o=tm;try{return tU(t,!0),e(n,r,i)}finally{tU(o,!1)}}function tW(t,e,n,r){return"function"!=typeof t?t:function(){var i=tm;n&&tF(),tU(e,!0);try{return t.apply(this,arguments)}finally{tU(i,!1),r&&queueMicrotask(tq)}}}function tQ(t){Promise===ts&&0===tj.echoes?0===tR?t():enqueueNativeMicroTask(t):setTimeout(t,0)}-1===(""+F).indexOf("[native code]")&&(tF=tq=Y);var tH=tb.reject,tY=String.fromCharCode(65535),tG="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",tX="String expected.",tJ=[],tZ="__dbnames",t0="readonly",t1="readwrite";function t2(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var t3={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function t5(t){return"string"!=typeof t||/\./.test(t)?function(t){return t}:function(e){return void 0===e[t]&&t in e&&delete(e=D(e))[t],e}}function t4(){throw W.Type()}function t6(t,e){try{var n=t8(t),r=t8(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e<t?1:t<e?-1:0;case"binary":return function(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,o=0;o<i;++o)if(t[o]!==e[o])return t[o]<e[o]?-1:1;return n===r?0:n<r?-1:1}(t7(t),t7(e));case"Array":return function(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,o=0;o<i;++o){var s=t6(t[o],e[o]);if(0!==s)return s}return n===r?0:n<r?-1:1}(t,e)}}catch(t){}return NaN}function t8(t){var e=typeof t;return"object"!=e?e:ArrayBuffer.isView(t)?"binary":"ArrayBuffer"===(t=C(t))?"binary":t}function t7(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var t9=(et.prototype._trans=function(t,e,n){var r=this._tx||tm.trans,i=this.name,o=ti&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===t?"read":"write"," ").concat(this.name));function s(t,n,r){if(!r.schema[i])throw new W.NotFound("Table "+i+" not part of transaction");return e(r.idbtrans,r)}var a=tO();try{var u=r&&r.db._novip===this.db._novip?r===tm.trans?r._promise(t,s,n):tN(function(){return r._promise(t,s,n)},{trans:r,transless:tm.transless||tm}):function t(e,n,r,i){if(e.idbdb&&(e._state.openComplete||tm.letThrough||e._vip)){var o=e._createTransaction(n,r,e._dbSchema);try{o.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===z.InvalidState&&e.isOpen()&&0<--e._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return t(e,n,r,i)})):tH(o)}return o._promise(n,function(t,e){return tN(function(){return tm.trans=o,i(t,e,o)})}).then(function(t){if("readwrite"===n)try{o.idbtrans.commit()}catch(t){}return"readonly"===n?t:o._completion.then(function(){return t})})}if(e._state.openComplete)return tH(new W.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return tH(new W.DatabaseClosed);e.open().catch(Y)}return e._state.dbReadyPromise.then(function(){return t(e,n,r,i)})}(this.db,t,[this.name],s);return o&&(u._consoleTask=o,u=u.catch(function(t){return console.trace(t),tH(t)})),u}finally{a&&tA()}},et.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):null==t?tH(new W.Type("Invalid argument to Table.get()")):this._trans("readonly",function(e){return n.core.get({trans:e,key:t}).then(function(t){return n.hook.reading.fire(t)})}).then(e)},et.prototype.where=function(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(s(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var e=o(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(t){if(t.compound&&e.every(function(e){return 0<=t.keyPath.indexOf(e)})){for(var n=0;n<e.length;++n)if(-1===e.indexOf(t.keyPath[n]))return!1;return!0}return!1}).sort(function(t,e){return t.keyPath.length-e.keyPath.length})[0];if(n&&this.db._maxKey!==tY){var r=n.keyPath.slice(0,e.length);return this.where(r).equals(r.map(function(e){return t[e]}))}!n&&ti&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(e.join("+"),"]"));var i=this.schema.idxByName,a=e.reduce(function(e,n){var r=e[0],o=e[1],e=i[n],a=t[n];return[r||e,r||!e?t2(o,e&&e.multi?function(t){return s(t=x(t,n))&&t.some(function(t){return 0===t6(a,t)})}:function(t){return 0===t6(a,x(t,n))}):o]},[null,null]),r=a[0],a=a[1];return r?this.where(r.name).equals(t[r.keyPath]).filter(a):n?this.filter(a):this.where(e).equals("")},et.prototype.filter=function(t){return this.toCollection().and(t)},et.prototype.count=function(t){return this.toCollection().count(t)},et.prototype.offset=function(t){return this.toCollection().offset(t)},et.prototype.limit=function(t){return this.toCollection().limit(t)},et.prototype.each=function(t){return this.toCollection().each(t)},et.prototype.toArray=function(t){return this.toCollection().toArray(t)},et.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},et.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,s(t)?"[".concat(t.join("+"),"]"):t))},et.prototype.reverse=function(){return this.toCollection().reverse()},et.prototype.mapToClass=function(e){var n,r=this.db,i=this.name;function o(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof t4&&(function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(o,n=e),Object.defineProperty(o.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),o.prototype.table=function(){return i},e=o);for(var s=new Set,a=e.prototype;a;a=u(a))Object.getOwnPropertyNames(a).forEach(function(t){return s.add(t)});function c(t){if(!t)return t;var n,r=Object.create(e.prototype);for(n in t)if(!s.has(n))try{r[n]=t[n]}catch(t){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),e},et.prototype.defineClass=function(){return this.mapToClass(function(t){a(this,t)})},et.prototype.add=function(t,e){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,s=t;return o&&i&&(s=t5(o)(t)),this._trans("readwrite",function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[s]})}).then(function(t){return t.numFailures?tb.reject(t.failures[0]):t.lastResult}).then(function(e){if(o)try{_(t,o,e)}catch(t){}return e})},et.prototype.update=function(t,e){return"object"!=typeof t||s(t)?this.where(":id").equals(t).modify(e):void 0===(t=x(t,this.schema.primKey.keyPath))?tH(new W.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(t).modify(e)},et.prototype.put=function(t,e){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,s=t;return o&&i&&(s=t5(o)(t)),this._trans("readwrite",function(t){return n.core.mutate({trans:t,type:"put",values:[s],keys:null!=e?[e]:null})}).then(function(t){return t.numFailures?tb.reject(t.failures[0]):t.lastResult}).then(function(e){if(o)try{_(t,o,e)}catch(t){}return e})},et.prototype.delete=function(t){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})}).then(function(t){return t.numFailures?tb.reject(t.failures[0]):void 0})},et.prototype.clear=function(){var t=this;return this._trans("readwrite",function(e){return t.core.mutate({trans:e,type:"deleteRange",range:t3})}).then(function(t){return t.numFailures?tb.reject(t.failures[0]):void 0})},et.prototype.bulkGet=function(t){var e=this;return this._trans("readonly",function(n){return e.core.getMany({keys:t,trans:n}).then(function(t){return t.map(function(t){return e.hook.reading.fire(t)})})})},et.prototype.bulkAdd=function(t,e,n){var r=this,i=Array.isArray(e)?e:void 0,o=(n=n||(i?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",function(e){var n=r.schema.primKey,s=n.auto,n=n.keyPath;if(n&&i)throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var a=t.length,n=n&&s?t.map(t5(n)):t;return r.core.mutate({trans:e,type:"add",keys:i,values:n,wantResults:o}).then(function(t){var e=t.numFailures,n=t.results,i=t.lastResult,t=t.failures;if(0===e)return o?n:i;throw new V("".concat(r.name,".bulkAdd(): ").concat(e," of ").concat(a," operations failed"),t)})})},et.prototype.bulkPut=function(t,e,n){var r=this,i=Array.isArray(e)?e:void 0,o=(n=n||(i?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",function(e){var n=r.schema.primKey,s=n.auto,n=n.keyPath;if(n&&i)throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var a=t.length,n=n&&s?t.map(t5(n)):t;return r.core.mutate({trans:e,type:"put",keys:i,values:n,wantResults:o}).then(function(t){var e=t.numFailures,n=t.results,i=t.lastResult,t=t.failures;if(0===e)return o?n:i;throw new V("".concat(r.name,".bulkPut(): ").concat(e," of ").concat(a," operations failed"),t)})})},et.prototype.bulkUpdate=function(t){var e=this,n=this.core,r=t.map(function(t){return t.key}),i=t.map(function(t){return t.changes}),o=[];return this._trans("readwrite",function(s){return n.getMany({trans:s,keys:r,cache:"clone"}).then(function(a){var u=[],c=[];t.forEach(function(t,n){var r=t.key,i=t.changes,s=a[n];if(s){for(var l=0,h=Object.keys(i);l<h.length;l++){var f=h[l],d=i[f];if(f===e.schema.primKey.keyPath){if(0!==t6(d,r))throw new W.Constraint("Cannot update primary key in bulkUpdate()")}else _(s,f,d)}o.push(n),u.push(r),c.push(s)}});var l=u.length;return n.mutate({trans:s,type:"put",keys:u,values:c,updates:{keys:r,changeSpecs:i}}).then(function(t){var n=t.numFailures,r=t.failures;if(0===n)return l;for(var i=0,s=Object.keys(r);i<s.length;i++){var a,u=s[i],c=o[Number(u)];null!=c&&(a=r[u],delete r[u],r[c]=a)}throw new V("".concat(e.name,".bulkUpdate(): ").concat(n," of ").concat(l," operations failed"),r)})})})},et.prototype.bulkDelete=function(t){var e=this,n=t.length;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"delete",keys:t})}).then(function(t){var r=t.numFailures,i=t.lastResult,t=t.failures;if(0===r)return i;throw new V("".concat(e.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),t)})},et);function et(){}function ee(t){function e(e,r){if(r){for(var i=arguments.length,o=Array(i-1);--i;)o[i-1]=arguments[i];return n[e].subscribe.apply(null,o),t}if("string"==typeof e)return n[e]}var n={};e.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return e;function a(t,r,i){if("object"!=typeof t){r=r||tn;var u={subscribers:[],fire:i=i||Y,subscribe:function(t){-1===u.subscribers.indexOf(t)&&(u.subscribers.push(t),u.fire=r(u.fire,t))},unsubscribe:function(t){u.subscribers=u.subscribers.filter(function(e){return e!==t}),u.fire=u.subscribers.reduce(r,i)}};return n[t]=e[t]=u}o(t).forEach(function(e){var n=t[e];if(s(n))a(e,t[e][0],t[e][1]);else{if("asap"!==n)throw new W.InvalidArgument("Invalid event config");var r=a(e,G,function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];r.subscribers.forEach(function(t){w(function(){t.apply(null,e)})})})}})}}function en(t,e){return p(e).from({prototype:t}),e}function er(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function ei(t,e){t.filter=t2(t.filter,e)}function eo(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return t2(r(),e())}:e,t.justLimit=n&&!r}function es(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new W.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function ea(t,e,n){var r=es(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function eu(t,e,n,r){var i=t.replayFilter?t2(t.filter,t.replayFilter()):t.filter;if(t.or){var o={},s=function(t,n,r){var s,a;i&&!i(n,r,function(t){return n.stop(t)},function(t){return n.fail(t)})||("[object ArrayBuffer]"==(a=""+(s=n.primaryKey))&&(a=""+new Uint8Array(s)),l(o,a)||(o[a]=!0,e(t,n,r)))};return Promise.all([t.or._iterate(s,n),ec(ea(t,r,n),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}return ec(ea(t,r,n),t2(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function ec(t,e,n,r){var i=tC(r?function(t,e,i){return n(r(t),e,i)}:n);return t.then(function(t){if(t)return t.start(function(){var n=function(){return t.continue()};e&&!e(t,function(t){return n=t},function(e){t.stop(e),n=Y},function(e){t.fail(e),n=Y})||i(t.value,t,function(t){return n=t}),n()})})}var S=Symbol(),el=(eh.prototype.execute=function(t){if(void 0!==this.add){var e=this.add;if(s(e))return r(r([],s(t)?t:[],!0),e,!0).sort();if("number"==typeof e)return(Number(t)||0)+e;if("bigint"==typeof e)try{return BigInt(t)+e}catch(t){return BigInt(0)+e}throw TypeError("Invalid term ".concat(e))}if(void 0!==this.remove){var n=this.remove;if(s(n))return s(t)?t.filter(function(t){return!n.includes(t)}).sort():[];if("number"==typeof n)return Number(t)-n;if("bigint"==typeof n)try{return BigInt(t)-n}catch(t){return BigInt(0)-n}throw TypeError("Invalid subtrahend ".concat(n))}return(e=null===(e=this.replacePrefix)||void 0===e?void 0:e[0])&&"string"==typeof t&&t.startsWith(e)?this.replacePrefix[1]+t.substring(e.length):t},eh);function eh(t){Object.assign(this,t)}var ef=(ed.prototype._read=function(t,e){var n=this._ctx;return n.error?n.table._trans(null,tH.bind(null,n.error)):n.table._trans("readonly",t).then(e)},ed.prototype._write=function(t){var e=this._ctx;return e.error?e.table._trans(null,tH.bind(null,e.error)):e.table._trans("readwrite",t,"locked")},ed.prototype._addAlgorithm=function(t){var e=this._ctx;e.algorithm=t2(e.algorithm,t)},ed.prototype._iterate=function(t,e){return eu(this._ctx,t,e,this._ctx.table.core)},ed.prototype.clone=function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&a(n,t),e._ctx=n,e},ed.prototype.raw=function(){return this._ctx.valueMapper=null,this},ed.prototype.each=function(t){var e=this._ctx;return this._read(function(n){return eu(e,t,n,e.table.core)})},ed.prototype.count=function(t){var e=this;return this._read(function(t){var n=e._ctx,r=n.table.core;if(er(n,!0))return r.count({trans:t,query:{index:es(n,r.schema),range:n.range}}).then(function(t){return Math.min(t,n.limit)});var i=0;return eu(n,function(){return++i,!1},t,r).then(function(){return i})}).then(t)},ed.prototype.sortBy=function(t,e){var n=t.split(".").reverse(),r=n[0],i=n.length-1;function o(t,e){return e?o(t[n[e]],e-1):t[r]}var s="next"===this._ctx.dir?1:-1;function a(t,e){return t6(o(t,i),o(e,i))*s}return this.toArray(function(t){return t.sort(a)}).then(e)},ed.prototype.toArray=function(t){var e=this;return this._read(function(t){var n=e._ctx;if("next"===n.dir&&er(n,!0)&&0<n.limit){var r=n.valueMapper,i=es(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(function(t){return t=t.result,r?t.map(r):t})}var o=[];return eu(n,function(t){return o.push(t)},t,n.table.core).then(function(){return o})},t)},ed.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,er(e)?eo(e,function(){var e=t;return function(t,n){return 0===e||(1===e?--e:n(function(){t.advance(e),e=0}),!1)}}):eo(e,function(){var e=t;return function(){return--e<0}})),this},ed.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),eo(this._ctx,function(){var e=t;return function(t,n,r){return--e<=0&&n(r),0<=e}},!0),this},ed.prototype.until=function(t,e){return ei(this._ctx,function(n,r,i){return!t(n.value)||(r(i),e)}),this},ed.prototype.first=function(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)},ed.prototype.last=function(t){return this.reverse().first(t)},ed.prototype.filter=function(t){var e;return ei(this._ctx,function(e){return t(e.value)}),(e=this._ctx).isMatch=t2(e.isMatch,t),this},ed.prototype.and=function(t){return this.filter(t)},ed.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},ed.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ed.prototype.desc=function(){return this.reverse()},ed.prototype.eachKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.key,n)})},ed.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},ed.prototype.eachPrimaryKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.primaryKey,n)})},ed.prototype.keys=function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.key)}).then(function(){return n}).then(t)},ed.prototype.primaryKeys=function(t){var e=this._ctx;if("next"===e.dir&&er(e,!0)&&0<e.limit)return this._read(function(t){var n=es(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})}).then(function(t){return t.result}).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.primaryKey)}).then(function(){return n}).then(t)},ed.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},ed.prototype.firstKey=function(t){return this.limit(1).keys(function(t){return t[0]}).then(t)},ed.prototype.lastKey=function(t){return this.reverse().firstKey(t)},ed.prototype.distinct=function(){var t=this._ctx,t=t.index&&t.table.schema.idxByName[t.index];if(!t||!t.multi)return this;var e={};return ei(this._ctx,function(t){var n=t.primaryKey.toString(),t=l(e,n);return e[n]=!0,!t}),this},ed.prototype.modify=function(t){var e=this,n=this._ctx;return this._write(function(r){a="function"==typeof t?t:(s=(i=o(t)).length,function(e){for(var n=!1,r=0;r<s;++r){var o=i[r],a=t[o],u=x(e,o);a instanceof el?(_(e,o,a.execute(u)),n=!0):u!==a&&(_(e,o,a),n=!0)}return n});var i,s,a,u=n.table.core,c=u.schema.primaryKey,l=c.outbound,h=c.extractKey,f=200,c=e.db._options.modifyChunkSize;function d(t,e){var n=e.failures,e=e.numFailures;m+=t-e;for(var r=0,i=o(n);r<i.length;r++){var s=i[r];p.push(n[s])}}c&&(f="object"==typeof c?c[u.name]||c["*"]||200:c);var p=[],m=0,y=[];return e.clone().primaryKeys().then(function(e){var i=er(n)&&n.limit===1/0&&("function"!=typeof t||t===ep)&&{index:n.index,range:n.range};return(function n(o){var s=Math.min(f,e.length-o);return u.getMany({trans:r,keys:e.slice(o,o+s),cache:"immutable"}).then(function(c){for(var p=[],m=[],y=l?[]:null,v=[],g=0;g<s;++g){var b=c[g],w={value:D(b),primKey:e[o+g]};!1!==a.call(w,w.value,w)&&(null==w.value?v.push(e[o+g]):l||0===t6(h(b),h(w.value))?(m.push(w.value),l&&y.push(e[o+g])):(v.push(e[o+g]),p.push(w.value)))}return Promise.resolve(0<p.length&&u.mutate({trans:r,type:"add",values:p}).then(function(t){for(var e in t.failures)v.splice(parseInt(e),1);d(p.length,t)})).then(function(){return(0<m.length||i&&"object"==typeof t)&&u.mutate({trans:r,type:"put",keys:y,values:m,criteria:i,changeSpec:"function"!=typeof t&&t,isAdditionalChunk:0<o}).then(function(t){return d(m.length,t)})}).then(function(){return(0<v.length||i&&t===ep)&&u.mutate({trans:r,type:"delete",keys:v,criteria:i,isAdditionalChunk:0<o}).then(function(t){return d(v.length,t)})}).then(function(){return e.length>o+s&&n(o+f)})})})(0).then(function(){if(0<p.length)throw new U("Error modifying one or more objects",p,m,y);return e.length})})})},ed.prototype.delete=function(){var t=this._ctx,e=t.range;return er(t)&&(t.isPrimKey||3===e.type)?this._write(function(n){var r=t.table.core.schema.primaryKey;return t.table.core.count({trans:n,query:{index:r,range:e}}).then(function(r){return t.table.core.mutate({trans:n,type:"deleteRange",range:e}).then(function(t){var e=t.failures;if(t.lastResult,t.results,t=t.numFailures)throw new U("Could not delete some values",Object.keys(e).map(function(t){return e[t]}),r-t);return r-t})})}):this.modify(ep)},ed);function ed(){}var ep=function(t,e){return e.value=null};function em(t,e){return t<e?-1:t===e?0:1}function ey(t,e){return e<t?-1:t===e?0:1}function ev(t,e,n){return(t=t instanceof e_?new t.Collection(t):t)._ctx.error=new(n||TypeError)(e),t}function eg(t){return new t.Collection(t,function(){return ex("")}).limit(0)}function eb(t,e,n,r){var i,o,s,a,u,c,l,h=n.length;if(!n.every(function(t){return"string"==typeof t}))return ev(t,tX);function f(t){i="next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()},o="next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()},s="next"===t?em:ey;var e=n.map(function(t){return{lower:o(t),upper:i(t)}}).sort(function(t,e){return s(t.lower,e.lower)});a=e.map(function(t){return t.upper}),u=e.map(function(t){return t.lower}),l="next"===(c=t)?"":r}f("next"),(t=new t.Collection(t,function(){return ew(a[0],u[h-1]+r)}))._ondirectionchange=function(t){f(t)};var d=0;return t._addAlgorithm(function(t,n,r){var i=t.key;if("string"!=typeof i)return!1;var f=o(i);if(e(f,u,d))return!0;for(var p=null,m=d;m<h;++m){var y=function(t,e,n,r,i,o){for(var s=Math.min(t.length,r.length),a=-1,u=0;u<s;++u){var c=e[u];if(c!==r[u])return 0>i(t[u],n[u])?t.substr(0,u)+n[u]+n.substr(u+1):0>i(t[u],r[u])?t.substr(0,u)+r[u]+n.substr(u+1):0<=a?t.substr(0,a)+e[a]+n.substr(a+1):null;0>i(t[u],c)&&(a=u)}return s<r.length&&"next"===o?t+n.substr(t.length):s<t.length&&"prev"===o?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}(i,f,a[m],u[m],s,c);null===y&&null===p?d=m+1:(null===p||0<s(p,y))&&(p=y)}return n(null!==p?function(){t.continue(p+l)}:r),!1}),t}function ew(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function ex(t){return{type:1,lower:t,upper:t}}var e_=(Object.defineProperty(ek.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ek.prototype.between=function(t,e,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(t,e)||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?eg(this):new this.Collection(this,function(){return ew(t,e,!n,!r)})}catch(t){return ev(this,tG)}},ek.prototype.equals=function(t){return null==t?ev(this,tG):new this.Collection(this,function(){return ex(t)})},ek.prototype.above=function(t){return null==t?ev(this,tG):new this.Collection(this,function(){return ew(t,void 0,!0)})},ek.prototype.aboveOrEqual=function(t){return null==t?ev(this,tG):new this.Collection(this,function(){return ew(t,void 0,!1)})},ek.prototype.below=function(t){return null==t?ev(this,tG):new this.Collection(this,function(){return ew(void 0,t,!1,!0)})},ek.prototype.belowOrEqual=function(t){return null==t?ev(this,tG):new this.Collection(this,function(){return ew(void 0,t)})},ek.prototype.startsWith=function(t){return"string"!=typeof t?ev(this,tX):this.between(t,t+tY,!0,!0)},ek.prototype.startsWithIgnoreCase=function(t){return""===t?this.startsWith(t):eb(this,function(t,e){return 0===t.indexOf(e[0])},[t],tY)},ek.prototype.equalsIgnoreCase=function(t){return eb(this,function(t,e){return t===e[0]},[t],"")},ek.prototype.anyOfIgnoreCase=function(){var t=B.apply(R,arguments);return 0===t.length?eg(this):eb(this,function(t,e){return -1!==e.indexOf(t)},t,"")},ek.prototype.startsWithAnyOfIgnoreCase=function(){var t=B.apply(R,arguments);return 0===t.length?eg(this):eb(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},t,tY)},ek.prototype.anyOf=function(){var t=this,e=B.apply(R,arguments),n=this._cmp;try{e.sort(n)}catch(t){return ev(this,tG)}if(0===e.length)return eg(this);var r=new this.Collection(this,function(){return ew(e[0],e[e.length-1])});r._ondirectionchange=function(r){n="next"===r?t._ascending:t._descending,e.sort(n)};var i=0;return r._addAlgorithm(function(t,r,o){for(var s=t.key;0<n(s,e[i]);)if(++i===e.length)return r(o),!1;return 0===n(s,e[i])||(r(function(){t.continue(e[i])}),!1)}),r},ek.prototype.notEqual=function(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ek.prototype.noneOf=function(){var t=B.apply(R,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return ev(this,tG)}var e=t.reduce(function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]]},null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},ek.prototype.inAnyRange=function(t,e){var n=this,r=this._cmp,i=this._ascending,o=this._descending,s=this._min,a=this._max;if(0===t.length)return eg(this);if(!t.every(function(t){return void 0!==t[0]&&void 0!==t[1]&&0>=i(t[0],t[1])}))return ev(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",W.InvalidArgument);var u,c=!e||!1!==e.includeLowers,l=e&&!0===e.includeUppers,h=i;function f(t,e){return h(t[0],e[0])}try{(u=t.reduce(function(t,e){for(var n=0,i=t.length;n<i;++n){var o=t[n];if(0>r(e[0],o[1])&&0<r(e[1],o[0])){o[0]=s(o[0],e[0]),o[1]=a(o[1],e[1]);break}}return n===i&&t.push(e),t},[])).sort(f)}catch(t){return ev(this,tG)}var d=0,p=l?function(t){return 0<i(t,u[d][1])}:function(t){return 0<=i(t,u[d][1])},m=c?function(t){return 0<o(t,u[d][0])}:function(t){return 0<=o(t,u[d][0])},y=p,t=new this.Collection(this,function(){return ew(u[0][0],u[u.length-1][1],!c,!l)});return t._ondirectionchange=function(t){h="next"===t?(y=p,i):(y=m,o),u.sort(f)},t._addAlgorithm(function(t,e,r){for(var o=t.key;y(o);)if(++d===u.length)return e(r),!1;return!p(o)&&!m(o)||(0===n._cmp(o,u[d][1])||0===n._cmp(o,u[d][0])||e(function(){h===i?t.continue(u[d][0]):t.continue(u[d][1])}),!1)}),t},ek.prototype.startsWithAnyOf=function(){var t=B.apply(R,arguments);return t.every(function(t){return"string"==typeof t})?0===t.length?eg(this):this.inAnyRange(t.map(function(t){return[t,t+tY]})):ev(this,"startsWithAnyOf() only works with strings")},ek);function ek(){}function eP(t){return tC(function(e){return eE(e),t(e.target.error),!1})}function eE(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var eS="storagemutated",eO="x-storagemutated-1",eA=ee(null,eS),eD=(eT.prototype._lock=function(){return b(!tm.global),++this._reculock,1!==this._reculock||tm.global||(tm.lockOwnerFor=this),this},eT.prototype._unlock=function(){if(b(!tm.global),0==--this._reculock)for(tm.global||(tm.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var t=this._blockedFuncs.shift();try{tz(t[1],t[0])}catch(t){}}return this},eT.prototype._locked=function(){return this._reculock&&tm.lockOwnerFor!==this},eT.prototype.create=function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(b(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new W.DatabaseClosed(r);case"MissingAPIError":throw new W.MissingAPI(r.message,r);default:throw new W.OpenFailed(r)}if(!this.active)throw new W.TransactionInactive;return b(null===this._completion._state),(t=this.idbtrans=t||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=tC(function(n){eE(n),e._reject(t.error)}),t.onabort=tC(function(n){eE(n),e.active&&e._reject(new W.Abort(t.error)),e.active=!1,e.on("abort").fire(n)}),t.oncomplete=tC(function(){e.active=!1,e._resolve(),"mutatedParts"in t&&eA.storagemutated.fire(t.mutatedParts)}),this},eT.prototype._promise=function(t,e,n){var r=this;if("readwrite"===t&&"readwrite"!==this.mode)return tH(new W.ReadOnly("Transaction is readonly"));if(!this.active)return tH(new W.TransactionInactive);if(this._locked())return new tb(function(i,o){r._blockedFuncs.push([function(){r._promise(t,e,n).then(i,o)},tm])});if(n)return tN(function(){var t=new tb(function(t,n){r._lock();var i=e(t,n,r);i&&i.then&&i.then(t,n)});return t.finally(function(){return r._unlock()}),t._lib=!0,t});var i=new tb(function(t,n){var i=e(t,n,r);i&&i.then&&i.then(t,n)});return i._lib=!0,i},eT.prototype._root=function(){return this.parent?this.parent._root():this},eT.prototype.waitFor=function(t){var e,n=this._root(),r=tb.resolve(t);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],e=n.idbtrans.objectStore(n.storeNames[0]),function t(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(e.get(-1/0).onsuccess=t)}());var i=n._waitingFor;return new tb(function(t,e){r.then(function(e){return n._waitingQueue.push(tC(t.bind(null,e)))},function(t){return n._waitingQueue.push(tC(e.bind(null,t)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},eT.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new W.Abort))},eT.prototype.table=function(t){var e=this._memoizedTables||(this._memoizedTables={});if(l(e,t))return e[t];var n=this.schema[t];if(!n)throw new W.NotFound("Table "+t+" not part of transaction");return(n=new this.db.Table(t,n,this)).core=this.db.core.table(t),e[t]=n},eT);function eT(){}function eC(t,e,n,r,i,o,s){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+ej(e)}}function ej(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function eI(t,e,n){var r;return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:(r=function(t){return[t.name,t]},n.reduce(function(t,e,n){return(n=r(e,n))&&(t[n[0]]=n[1]),t},{}))}}var eM=function(t){try{return t.only([[]]),eM=function(){return[[]]},[[]]}catch(t){return eM=function(){return tY},tY}};function eR(t){return null==t?function(){}:"string"==typeof t?1===t.split(".").length?function(e){return e[t]}:function(e){return x(e,t)}:function(e){return x(e,t)}}function eB(t){return[].slice.call(t)}var e$=0;function eN(t){return null==t?":id":"string"==typeof t?t:"[".concat(t.join("+"),"]")}function eF(t,n){var r,i,o,a,u=n.db,n=(r=t._middlewares,i=t._deps,o=n,a=i.IDBKeyRange,i.indexedDB,{dbcore:(o=function(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw Error("Cannot convert never type to IDBKeyRange");var n=t.lower,r=t.upper,i=t.lowerOpen,t=t.upperOpen;return void 0===n?void 0===r?null:e.upperBound(r,!!t):void 0===r?e.lowerBound(n,!!i):e.bound(n,r,!!i,!!t)}var i,o,a=(i=n,o=eB(t.objectStoreNames),{schema:{name:t.name,tables:o.map(function(t){return i.objectStore(t)}).map(function(t){var e=t.keyPath,n=t.autoIncrement,r=s(e),i={},n={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==e,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:eR(e)},indexes:eB(t.indexNames).map(function(e){return t.index(e)}).map(function(t){var e=t.name,n=t.unique,r=t.multiEntry,t=t.keyPath,r={name:e,compound:s(t),keyPath:t,unique:n,multiEntry:r,extractKey:eR(t)};return i[eN(t)]=r}),getIndexByKeyPath:function(t){return i[eN(t)]}};return i[":id"]=n.primaryKey,null!=e&&(i[eN(e)]=n.primaryKey),n})},hasGetAll:0<o.length&&"getAll"in i.objectStore(o[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),n=a.schema,u=a.hasGetAll,a=n.tables.map(function(t){var e=t.name;return{name:e,schema:t,mutate:function(t){var n=t.trans,i=t.type,o=t.keys,s=t.values,a=t.range;return new Promise(function(t,u){t=tC(t);var c=n.objectStore(e),l=null==c.keyPath,h="put"===i||"add"===i;if(!h&&"delete"!==i&&"deleteRange"!==i)throw Error("Invalid operation type: "+i);var f,d=(o||s||{length:1}).length;if(o&&s&&o.length!==s.length)throw Error("Given keys array must have same length as given values array.");if(0===d)return t({numFailures:0,failures:{},results:[],lastResult:void 0});function p(t){++v,eE(t)}var m=[],y=[],v=0;if("deleteRange"===i){if(4===a.type)return t({numFailures:v,failures:y,results:[],lastResult:void 0});3===a.type?m.push(f=c.clear()):m.push(f=c.delete(r(a)))}else{var l=h?l?[s,o]:[s,null]:[o,null],g=l[0],b=l[1];if(h)for(var w=0;w<d;++w)m.push(f=b&&void 0!==b[w]?c[i](g[w],b[w]):c[i](g[w])),f.onerror=p;else for(w=0;w<d;++w)m.push(f=c[i](g[w])),f.onerror=p}function x(e){e=e.target.result,m.forEach(function(t,e){return null!=t.error&&(y[e]=t.error)}),t({numFailures:v,failures:y,results:"delete"===i?o:m.map(function(t){return t.result}),lastResult:e})}f.onerror=function(t){p(t),x(t)},f.onsuccess=x})},getMany:function(t){var n=t.trans,r=t.keys;return new Promise(function(t,i){t=tC(t);for(var o,s=n.objectStore(e),a=r.length,u=Array(a),c=0,l=0,h=function(e){u[(e=e.target)._pos]=e.result,++l===c&&t(u)},f=eP(i),d=0;d<a;++d)null!=r[d]&&((o=s.get(r[d]))._pos=d,o.onsuccess=h,o.onerror=f,++c);0===c&&t(u)})},get:function(t){var n=t.trans,r=t.key;return new Promise(function(t,i){t=tC(t);var o=n.objectStore(e).get(r);o.onsuccess=function(e){return t(e.target.result)},o.onerror=eP(i)})},query:function(t){return new Promise(function(n,i){n=tC(n);var o,s,a,c=t.trans,l=t.values,h=t.limit,f=t.query,d=h===1/0?void 0:h,p=f.index,f=f.range,c=c.objectStore(e),p=p.isPrimaryKey?c:c.index(p.name),f=r(f);if(0===h)return n({result:[]});u?((d=l?p.getAll(f,d):p.getAllKeys(f,d)).onsuccess=function(t){return n({result:t.target.result})},d.onerror=eP(i)):(o=0,s=!l&&"openKeyCursor"in p?p.openKeyCursor(f):p.openCursor(f),a=[],s.onsuccess=function(t){var e=s.result;return e?(a.push(l?e.value:e.primaryKey),++o===h?n({result:a}):void e.continue()):n({result:a})},s.onerror=eP(i))})},openCursor:function(t){var n=t.trans,i=t.values,o=t.query,s=t.reverse,a=t.unique;return new Promise(function(t,u){t=tC(t);var c=o.index,l=o.range,h=n.objectStore(e),h=c.isPrimaryKey?h:h.index(c.name),c=s?a?"prevunique":"prev":a?"nextunique":"next",f=!i&&"openKeyCursor"in h?h.openKeyCursor(r(l),c):h.openCursor(r(l),c);f.onerror=eP(u),f.onsuccess=tC(function(e){var r,i,o,s,a=f.result;a?(a.___id=++e$,a.done=!1,r=a.continue.bind(a),i=(i=a.continuePrimaryKey)&&i.bind(a),o=a.advance.bind(a),s=function(){throw Error("Cursor not stopped")},a.trans=n,a.stop=a.continue=a.continuePrimaryKey=a.advance=function(){throw Error("Cursor not started")},a.fail=tC(u),a.next=function(){var t=this,e=1;return this.start(function(){return e--?t.continue():t.stop()}).then(function(){return t})},a.start=function(t){function e(){if(f.result)try{t()}catch(t){a.fail(t)}else a.done=!0,a.start=function(){throw Error("Cursor behind last entry")},a.stop()}var n=new Promise(function(t,e){t=tC(t),f.onerror=eP(e),a.fail=e,a.stop=function(e){a.stop=a.continue=a.continuePrimaryKey=a.advance=s,t(e)}});return f.onsuccess=tC(function(t){f.onsuccess=e,e()}),a.continue=r,a.continuePrimaryKey=i,a.advance=o,e(),n},t(a)):t(null)},u)})},count:function(t){var n=t.query,i=t.trans,o=n.index,s=n.range;return new Promise(function(t,n){var a=i.objectStore(e),u=o.isPrimaryKey?a:a.index(o.name),a=r(s),u=a?u.count(a):u.count();u.onsuccess=tC(function(e){return t(e.target.result)}),u.onerror=eP(n)})}}}),c={};return a.forEach(function(t){return c[t.name]=t}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!c[t])throw Error("Table '".concat(t,"' not found"));return c[t]},MIN_KEY:-1/0,MAX_KEY:eM(e),schema:n}}(u,a,o),r.dbcore.reduce(function(t,n){return n=n.create,e(e({},t),n(t))},o))});t.core=n.dbcore,t.tables.forEach(function(e){var n=e.name;t.core.schema.tables.some(function(t){return t.name===n})&&(e.core=t.core.table(n),t[n]instanceof t.Table&&(t[n].core=e.core))})}function eq(t,e,n,r){n.forEach(function(n){var i=r[n];e.forEach(function(e){var r=function t(e,n){return m(e,n)||(e=u(e))&&t(e,n)}(e,n);(!r||"value"in r&&void 0===r.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?d(e,n,{get:function(){return this.table(n)},set:function(t){f(this,n,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new t.Table(n,i))})})}function eL(t,e){e.forEach(function(e){for(var n in e)e[n]instanceof t.Table&&delete e[n]})}function eK(t,e){return t._cfg.version-e._cfg.version}function eU(t,e){var n,r={del:[],add:[],change:[]};for(n in t)e[n]||r.del.push(n);for(n in e){var i=t[n],o=e[n];if(i){var s={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto)s.recreate=!0,r.change.push(s);else{var a=i.idxByName,u=o.idxByName,c=void 0;for(c in a)u[c]||s.del.push(c);for(c in u){var l=a[c],h=u[c];l?l.src!==h.src&&s.change.push(h):s.add.push(h)}(0<s.del.length||0<s.add.length||0<s.change.length)&&r.change.push(s)}}else r.add.push([n,o])}return r}function eV(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(t){return eW(i,t)}),i}function ez(t,e){o(t).forEach(function(n){e.db.objectStoreNames.contains(n)||(ti&&console.debug("Dexie: Creating missing table",n),eV(e,n,t[n].primKey,t[n].indexes))})}function eW(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function eQ(t,e,n){var r={};return v(e.objectStoreNames,0).forEach(function(t){for(var e=n.objectStore(t),i=eC(ej(u=e.keyPath),u||"",!0,!1,!!e.autoIncrement,u&&"string"!=typeof u,!0),o=[],s=0;s<e.indexNames.length;++s){var a=e.index(e.indexNames[s]),u=a.keyPath,a=eC(a.name,u,!!a.unique,!!a.multiEntry,!1,u&&"string"!=typeof u,!1);o.push(a)}r[t]=eI(t,i,o)}),r}function eH(t,e,n){for(var r=n.db.objectStoreNames,o=0;o<r.length;++o){var s=r[o],a=n.objectStore(s);t._hasGetAll="getAll"in a;for(var u=0;u<a.indexNames.length;++u){var c=a.indexNames[u],l=a.index(c).keyPath,h="string"==typeof l?l:"["+v(l).join("+")+"]";!e[s]||(l=e[s].idxByName[h])&&(l.name=c,delete e[s].idxByName[h],e[s].idxByName[c]=l)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function eY(t){return t.split(",").map(function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return eC(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),s(r),0===e)})}var eG=(eX.prototype._parseStoresSpec=function(t,e){o(t).forEach(function(n){if(null!==t[n]){var r=eY(t[n]),i=r.shift();if(i.unique=!0,i.multi)throw new W.Schema("Primary key cannot be multi-valued");r.forEach(function(t){if(t.auto)throw new W.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new W.Schema("Index must have a name and cannot be an empty string")}),e[n]=eI(n,i,r)}})},eX.prototype.stores=function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,t):t;var t=e._versions,n={},r={};return t.forEach(function(t){a(n,t._cfg.storesSource),r=t._cfg.dbschema={},t._parseStoresSpec(n,r)}),e._dbSchema=r,eL(e,[e._allTables,e,e.Transaction.prototype]),eq(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],o(r),r),e._storeNames=o(r),this},eX.prototype.upgrade=function(t){return this._cfg.contentUpgrade=tr(this._cfg.contentUpgrade||Y,t),this},eX);function eX(){}function eJ(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new nP(tZ,{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function eZ(t){return t&&"function"==typeof t.databases}function e0(t){return tN(function(){return tm.letThrough=!0,t()})}function e1(t){return!("from"in t)}var e2=function(t,e){if(!this){var n=new e2;return t&&"d"in t&&a(n,t),n}a(this,arguments.length?{d:1,from:t,to:1<arguments.length?e:t}:{d:0})};function e3(t,e,n){var r=t6(e,n);if(!isNaN(r)){if(0<r)throw RangeError();if(e1(t))return a(t,{from:e,to:n,d:1});var i=t.l,r=t.r;if(0>t6(n,t.from))return i?e3(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},e8(t);if(0<t6(e,t.to))return r?e3(r,e,n):t.r={from:e,to:n,d:1,l:null,r:null},e8(t);0>t6(e,t.from)&&(t.from=e,t.l=null,t.d=r?r.d+1:1),0<t6(n,t.to)&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1),n=!t.r,i&&!t.l&&e5(t,i),r&&n&&e5(t,r)}}function e5(t,e){e1(e)||function t(e,n){var r=n.from,i=n.to,o=n.l,n=n.r;e3(e,r,i),o&&t(e,o),n&&t(e,n)}(t,e)}function e4(t,e){var n=e6(e),r=n.next();if(r.done)return!1;for(var i=r.value,o=e6(t),s=o.next(i.from),a=s.value;!r.done&&!s.done;){if(0>=t6(a.from,i.to)&&0<=t6(a.to,i.from))return!0;0>t6(i.from,a.from)?i=(r=n.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}function e6(t){var e=e1(t)?null:{s:0,n:t};return{next:function(t){for(var n=0<arguments.length;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&0>t6(t,e.n.from);)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||0>=t6(t,e.n.to))return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function e8(t){var n,r,i=((null===(n=t.r)||void 0===n?void 0:n.d)||0)-((null===(r=t.l)||void 0===r?void 0:r.d)||0),o=1<i?"r":i<-1?"l":"";o&&(n="r"==o?"l":"r",r=e({},t),i=t[o],t.from=i.from,t.to=i.to,t[o]=i[o],r[o]=i[n],(t[n]=r).d=e7(r)),t.d=e7(t)}function e7(t){var e=t.r,t=t.l;return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}function e9(t,e){return o(e).forEach(function(n){t[n]?e5(t[n],e[n]):t[n]=function t(e){var n,r,i={};for(n in e)l(e,n)&&(r=e[n],i[n]=!r||"object"!=typeof r||O.has(r.constructor)?r:t(r));return i}(e[n])}),t}function nt(t,e){return t.all||e.all||Object.keys(t).some(function(n){return e[n]&&e4(e[n],t[n])})}h(e2.prototype,((F={add:function(t){return e5(this,t),this},addKey:function(t){return e3(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(t){return e3(e,t,t)}),this},hasKey:function(t){var e=e6(this).next(t).value;return e&&0>=t6(e.from,t)&&0<=t6(e.to,t)}})[j]=function(){return e6(this)},F));var ne={},nn={},nr=!1;function ni(t){e9(nn,t),nr||(nr=!0,setTimeout(function(){nr=!1,no(nn,(nn={},!1))},0))}function no(t,e){void 0===e&&(e=!1);var n=new Set;if(t.all)for(var r=0,i=Object.values(ne);r<i.length;r++)ns(s=i[r],t,n,e);else for(var o in t){var s,a=/^idb\:\/\/(.*)\/(.*)\//.exec(o);a&&(o=a[1],a=a[2],(s=ne["idb://".concat(o,"/").concat(a)])&&ns(s,t,n,e))}n.forEach(function(t){return t()})}function ns(t,e,n,r){for(var i=[],o=0,s=Object.entries(t.queries.query);o<s.length;o++){for(var a=s[o],u=a[0],c=[],l=0,h=a[1];l<h.length;l++){var f=h[l];nt(e,f.obsSet)?f.subscribers.forEach(function(t){return n.add(t)}):r&&c.push(f)}r&&i.push([u,c])}if(r)for(var d=0;d<i.length;d++){var p=i[d],u=p[0],c=p[1];t.queries.query[u]=c}}function na(t){function e(e){return t.next(e)}var n=i(e),r=i(function(e){return t.throw(e)});function i(t){return function(e){var i=t(e),e=i.value;return i.done?e:e&&"function"==typeof e.then?e.then(n,r):s(e)?Promise.all(e).then(n,r):n(e)}}return i(e)()}function nu(t,e,n){for(var r=s(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}var nc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return e(e({},t),{table:function(n){var r=t.table(n),i=r.schema,o={},s=[];function a(t,n,r){var i=eN(t),u=o[i]=o[i]||[],c=null==t?0:"string"==typeof t?1:t.length,l=0<n,l=e(e({},r),{name:l?"".concat(i,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:l,keyTail:n,keyLength:c,extractKey:eR(t),unique:!l&&r.unique});return u.push(l),l.isPrimaryKey||s.push(l),1<c&&a(2===c?t[0]:t.slice(0,c-1),n+1,r),u.sort(function(t,e){return t.keyTail-e.keyTail}),l}n=a(i.primaryKey.keyPath,0,i.primaryKey),o[":id"]=[n];for(var u=0,c=i.indexes;u<c.length;u++){var l=c[u];a(l.keyPath,0,l)}function h(n){var r,i=n.query.index;return i.isVirtual?e(e({},n),{query:{index:i.lowLevelIndex,range:(r=n.query.range,i=i.keyTail,{type:1===r.type?2:r.type,lower:nu(r.lower,r.lowerOpen?t.MAX_KEY:t.MIN_KEY,i),lowerOpen:!0,upper:nu(r.upper,r.upperOpen?t.MIN_KEY:t.MAX_KEY,i),upperOpen:!0})}}):n}return e(e({},r),{schema:e(e({},i),{primaryKey:n,indexes:s,getIndexByKeyPath:function(t){return(t=o[eN(t)])&&t[0]}}),count:function(t){return r.count(h(t))},query:function(t){return r.query(h(t))},openCursor:function(e){var n=e.query.index,i=n.keyTail,o=n.isVirtual,s=n.keyLength;return o?r.openCursor(h(e)).then(function(n){return n&&Object.create(n,{continue:{value:function(r){null!=r?n.continue(nu(r,e.reverse?t.MAX_KEY:t.MIN_KEY,i)):e.unique?n.continue(n.key.slice(0,s).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(e,r){n.continuePrimaryKey(nu(e,t.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var t=n.key;return 1===s?t[0]:t.slice(0,s)}},value:{get:function(){return n.value}}})}):r.openCursor(e)}})}})}};function nl(t,e,n,r){return n=n||{},r=r||"",o(t).forEach(function(i){var o,s,a;l(e,i)?(o=t[i],s=e[i],"object"==typeof o&&"object"==typeof s&&o&&s?(a=C(o))!==C(s)?n[r+i]=e[i]:"Object"===a?nl(o,s,n,r+i+"."):o!==s&&(n[r+i]=e[i]):o!==s&&(n[r+i]=e[i])):n[r+i]=void 0}),o(e).forEach(function(i){l(t,i)||(n[r+i]=e[i])}),n}function nh(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}var nf={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return e(e({},t),{table:function(n){var i=t.table(n),o=i.schema.primaryKey;return e(e({},i),{mutate:function(t){var s=tm.trans,a=s.table(n).hook,u=a.deleting,c=a.creating,h=a.updating;switch(t.type){case"add":if(c.fire===Y)break;return s._promise("readwrite",function(){return f(t)},!0);case"put":if(c.fire===Y&&h.fire===Y)break;return s._promise("readwrite",function(){return f(t)},!0);case"delete":if(u.fire===Y)break;return s._promise("readwrite",function(){return f(t)},!0);case"deleteRange":if(u.fire===Y)break;return s._promise("readwrite",function(){return function t(n,r,s){return i.query({trans:n,values:!1,query:{index:o,range:r},limit:s}).then(function(i){var o=i.result;return f({type:"delete",keys:o,trans:n}).then(function(i){return 0<i.numFailures?Promise.reject(i.failures[0]):o.length<s?{failures:[],numFailures:0,lastResult:void 0}:t(n,e(e({},r),{lower:o[o.length-1],lowerOpen:!0}),s)})})}(t.trans,t.range,1e4)},!0)}return i.mutate(t);function f(t){var n,s=tm.trans,a=t.keys||nh(o,t);if(!a)throw Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?e(e({},t),{keys:a}):e({},t)).type&&(t.values=r([],t.values,!0)),t.keys&&(t.keys=r([],t.keys,!0)),("add"===(n=t).type?Promise.resolve([]):i.getMany({trans:n.trans,keys:a,cache:"immutable"})).then(function(e){var n=a.map(function(n,r){var i,a,f,d=e[r],p={onerror:null,onsuccess:null};return"delete"===t.type?u.fire.call(p,n,d,s):"add"===t.type||void 0===d?(i=c.fire.call(p,n,t.values[r],s),null==n&&null!=i&&(t.keys[r]=n=i,o.outbound||_(t.values[r],o.keyPath,n))):(i=nl(d,t.values[r]),(a=h.fire.call(p,i,n,d,s))&&(f=t.values[r],Object.keys(a).forEach(function(t){l(f,t)?f[t]=a[t]:_(f,t,a[t])}))),p});return i.mutate(t).then(function(r){for(var i=r.failures,o=r.results,s=r.numFailures,r=r.lastResult,u=0;u<a.length;++u){var c=(o||a)[u],l=n[u];null==c?l.onerror&&l.onerror(i[u]):l.onsuccess&&l.onsuccess("put"===t.type&&e[u]?t.values[u]:c)}return{failures:i,results:o,numFailures:s,lastResult:r}}).catch(function(t){return n.forEach(function(e){return e.onerror&&e.onerror(t)}),Promise.reject(t)})})}}})}})}};function nd(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],i=0,o=0;i<e.keys.length&&o<t.length;++i)0===t6(e.keys[i],t[o])&&(r.push(n?D(e.values[i]):e.values[i]),++o);return r.length===t.length?r:null}catch(t){return null}}var np={stack:"dbcore",level:-1,create:function(t){return{table:function(n){var r=t.table(n);return e(e({},r),{getMany:function(t){if(!t.cache)return r.getMany(t);var e=nd(t.keys,t.trans._cache,"clone"===t.cache);return e?tb.resolve(e):r.getMany(t).then(function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?D(e):e},e})},mutate:function(t){return"add"!==t.type&&(t.trans._cache=null),r.mutate(t)}})}}}};function nm(t,e){return"readonly"===t.trans.mode&&!!t.subscr&&!t.trans.explicit&&"disabled"!==t.trans.db._options.cache&&!e.schema.primaryKey.outbound}function ny(t,e){switch(t){case"query":return e.values&&!e.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var nv={stack:"dbcore",level:0,name:"Observability",create:function(t){var n=t.schema.name,r=new e2(t.MIN_KEY,t.MAX_KEY);return e(e({},t),{transaction:function(e,n,r){if(tm.subscr&&"readonly"!==n)throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(tm.querier));return t.transaction(e,n,r)},table:function(i){var a=t.table(i),u=a.schema,c=u.primaryKey,l=u.indexes,h=c.extractKey,f=c.outbound,d=c.autoIncrement&&l.filter(function(t){return t.compound&&t.keyPath.includes(c.keyPath)}),p=e(e({},a),{mutate:function(e){function o(t){return p[t="idb://".concat(n,"/").concat(i,"/").concat(t)]||(p[t]=new e2)}var l,h,f=e.trans,p=e.mutatedParts||(e.mutatedParts={}),m=o(""),y=o(":dels"),v=e.type,g="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[nh(c,e).filter(function(t){return t}),e.values]:[],b=g[0],w=g[1],g=e.trans._cache;return s(b)?(m.addKeys(b),(g="delete"===v||b.length===w.length?nd(b,g):null)||y.addKeys(b),(g||w)&&(l=g,h=w,u.indexes.forEach(function(t){var e=o(t.name||"");function n(e){return null!=e?t.extractKey(e):null}function r(n){return t.multiEntry&&s(n)?n.forEach(function(t){return e.addKey(t)}):e.addKey(n)}(l||h).forEach(function(t,e){var i=l&&n(l[e]),e=h&&n(h[e]);0!==t6(i,e)&&(null!=i&&r(i),null!=e&&r(e))})}))):b?(w={from:null!==(w=b.lower)&&void 0!==w?w:t.MIN_KEY,to:null!==(w=b.upper)&&void 0!==w?w:t.MAX_KEY},y.add(w),m.add(w)):(m.add(r),y.add(r),u.indexes.forEach(function(t){return o(t.name).add(r)})),a.mutate(e).then(function(t){return!b||"add"!==e.type&&"put"!==e.type||(m.addKeys(t.results),d&&d.forEach(function(n){for(var r=e.values.map(function(t){return n.extractKey(t)}),i=n.keyPath.findIndex(function(t){return t===c.keyPath}),s=0,a=t.results.length;s<a;++s)r[s][i]=t.results[s];o(n.name).addKeys(r)})),f.mutatedParts=e9(f.mutatedParts||{},p),t})}}),l=function(e){var n=e.query,e=n.index,n=n.range;return[e,new e2(null!==(e=n.lower)&&void 0!==e?e:t.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:t.MAX_KEY)]},m={get:function(t){return[c,new e2(t.key)]},getMany:function(t){return[c,(new e2).addKeys(t.keys)]},count:l,query:l,openCursor:l};return o(m).forEach(function(t){p[t]=function(o){var s=tm.subscr,u=!!s,c=nm(tm,a)&&ny(t,o)?o.obsSet={}:s;if(u){var l=function(t){return c[t="idb://".concat(n,"/").concat(i,"/").concat(t)]||(c[t]=new e2)},d=l(""),p=l(":dels"),s=m[t](o),u=s[0],s=s[1];if(("query"===t&&u.isPrimaryKey&&!o.values?p:l(u.name||"")).add(s),!u.isPrimaryKey){if("count"!==t){var y="query"===t&&f&&o.values&&a.query(e(e({},o),{values:!1}));return a[t].apply(this,arguments).then(function(e){if("query"===t){if(f&&o.values)return y.then(function(t){return t=t.result,d.addKeys(t),e});var n=o.values?e.result.map(h):e.result;(o.values?d:p).addKeys(n)}else if("openCursor"===t){var r=o.values;return e&&Object.create(e,{key:{get:function(){return p.addKey(e.primaryKey),e.key}},primaryKey:{get:function(){var t=e.primaryKey;return p.addKey(t),t}},value:{get:function(){return r&&d.addKey(e.primaryKey),e.value}}})}return e})}p.add(r)}}return a[t].apply(this,arguments)}}),p}})}};function ng(t,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var i=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===i?null:(s((n=e({},n)).keys)&&(n.keys=n.keys.filter(function(t,e){return!(e in r.failures)})),"values"in n&&s(n.values)&&(n.values=n.values.filter(function(t,e){return!(e in r.failures)})),n)}function nb(t,e){return(void 0===e.lower||(e.lowerOpen?0<t6(t,e.lower):0<=t6(t,e.lower)))&&(void 0===e.upper||(e.upperOpen?0>t6(t,e.upper):0>=t6(t,e.upper)))}function nw(t,e,n,r,i,o){if(!n||0===n.length)return t;var a=e.query.index,u=a.multiEntry,c=e.query.range,l=r.schema.primaryKey.extractKey,h=a.extractKey,f=(a.lowLevelIndex||a).extractKey,n=n.reduce(function(t,n){var r=t,i=[];if("add"===n.type||"put"===n.type)for(var o=new e2,a=n.values.length-1;0<=a;--a){var f,d=n.values[a],p=l(d);o.hasKey(p)||(f=h(d),(u&&s(f)?f.some(function(t){return nb(t,c)}):nb(f,c))&&(o.addKey(p),i.push(d)))}switch(n.type){case"add":var m=(new e2).addKeys(e.values?t.map(function(t){return l(t)}):t),r=t.concat(e.values?i.filter(function(t){return t=l(t),!m.hasKey(t)&&(m.addKey(t),!0)}):i.map(function(t){return l(t)}).filter(function(t){return!m.hasKey(t)&&(m.addKey(t),!0)}));break;case"put":var y=(new e2).addKeys(n.values.map(function(t){return l(t)}));r=t.filter(function(t){return!y.hasKey(e.values?l(t):t)}).concat(e.values?i:i.map(function(t){return l(t)}));break;case"delete":var v=(new e2).addKeys(n.keys);r=t.filter(function(t){return!v.hasKey(e.values?l(t):t)});break;case"deleteRange":var g=n.range;r=t.filter(function(t){return!nb(l(t),g)})}return r},t);return n===t?t:(n.sort(function(t,e){return t6(f(t),f(e))||t6(l(t),l(e))}),e.limit&&e.limit<1/0&&(n.length>e.limit?n.length=e.limit:t.length===e.limit&&n.length<e.limit&&(i.dirty=!0)),o?Object.freeze(n):n)}function nx(t,e){return 0===t6(t.lower,e.lower)&&0===t6(t.upper,e.upper)&&!!t.lowerOpen==!!e.lowerOpen&&!!t.upperOpen==!!e.upperOpen}var n_={stack:"dbcore",level:0,name:"Cache",create:function(t){var n=t.schema.name;return e(e({},t),{transaction:function(e,r,i){var o,s,a=t.transaction(e,r,i);return"readwrite"===r&&(s=(o=new AbortController).signal,i=function(i){return function(){if(o.abort(),"readwrite"===r){for(var s=new Set,u=0;u<e.length;u++){var c=e[u],l=ne["idb://".concat(n,"/").concat(c)];if(l){var h=t.table(c),f=l.optimisticOps.filter(function(t){return t.trans===a});if(a._explicit&&i&&a.mutatedParts)for(var d=0,p=Object.values(l.queries.query);d<p.length;d++)for(var m=0,y=(b=p[d]).slice();m<y.length;m++)nt((w=y[m]).obsSet,a.mutatedParts)&&(M(b,w),w.subscribers.forEach(function(t){return s.add(t)}));else if(0<f.length){l.optimisticOps=l.optimisticOps.filter(function(t){return t.trans!==a});for(var v=0,g=Object.values(l.queries.query);v<g.length;v++)for(var b,w,x,_=0,k=(b=g[v]).slice();_<k.length;_++)null!=(w=k[_]).res&&a.mutatedParts&&(i&&!w.dirty?(x=Object.isFrozen(w.res),x=nw(w.res,w.req,f,h,w,x),w.dirty?(M(b,w),w.subscribers.forEach(function(t){return s.add(t)})):x!==w.res&&(w.res=x,w.promise=tb.resolve({result:x}))):(w.dirty&&M(b,w),w.subscribers.forEach(function(t){return s.add(t)})))}}}s.forEach(function(t){return t()})}}},a.addEventListener("abort",i(!1),{signal:s}),a.addEventListener("error",i(!1),{signal:s}),a.addEventListener("complete",i(!0),{signal:s})),a},table:function(r){var i=t.table(r),o=i.schema.primaryKey;return e(e({},i),{mutate:function(t){var s=tm.trans;if(o.outbound||"disabled"===s.db._options.cache||s.explicit||"readwrite"!==s.idbtrans.mode)return i.mutate(t);var a=ne["idb://".concat(n,"/").concat(r)];return a?(s=i.mutate(t),("add"===t.type||"put"===t.type)&&(50<=t.values.length||nh(o,t).some(function(t){return null==t}))?s.then(function(n){var r=ng(0,e(e({},t),{values:t.values.map(function(t,r){var i;return n.failures[r]||_(t=null!==(i=o.keyPath)&&void 0!==i&&i.includes(".")?D(t):e({},t),o.keyPath,n.results[r]),t})}),n);a.optimisticOps.push(r),queueMicrotask(function(){return t.mutatedParts&&ni(t.mutatedParts)})}):(a.optimisticOps.push(t),t.mutatedParts&&ni(t.mutatedParts),s.then(function(e){0<e.numFailures&&(M(a.optimisticOps,t),(e=ng(0,t,e))&&a.optimisticOps.push(e),t.mutatedParts&&ni(t.mutatedParts))}),s.catch(function(){M(a.optimisticOps,t),t.mutatedParts&&ni(t.mutatedParts)})),s):i.mutate(t)},query:function(t){if(!nm(tm,i)||!ny("query",t))return i.query(t);var e,o,s="immutable"===(null===(l=tm.trans)||void 0===l?void 0:l.db._options.cache),a=tm,u=a.requery,c=a.signal,l=function(t,e,n,r){var i=ne["idb://".concat(t,"/").concat(e)];if(!i)return[];if(!(e=i.queries[n]))return[null,!1,i,null];var o=e[(r.query?r.query.index.name:null)||""];if(!o)return[null,!1,i,null];switch(n){case"query":var s=o.find(function(t){return t.req.limit===r.limit&&t.req.values===r.values&&nx(t.req.query.range,r.query.range)});return s?[s,!0,i,o]:[o.find(function(t){var e,n;return("limit"in t.req?t.req.limit:1/0)>=r.limit&&(!r.values||t.req.values)&&(e=t.req.query.range,n=r.query.range,0>=function(t,e,n,r){if(void 0===t)return void 0!==e?-1:0;if(void 0===e)return 1;if(0===(e=t6(t,e))){if(n&&r)return 0;if(n)return 1;if(r)return -1}return e}(e.lower,n.lower,e.lowerOpen,n.lowerOpen)&&0<=function(t,e,n,r){if(void 0===t)return void 0!==e?1:0;if(void 0===e)return -1;if(0===(e=t6(t,e))){if(n&&r)return 0;if(n)return -1;if(r)return 1}return e}(e.upper,n.upper,e.upperOpen,n.upperOpen))}),!1,i,o];case"count":return[s=o.find(function(t){return nx(t.req.query.range,r.query.range)}),!!s,i,o]}}(n,r,"query",t),h=l[0],a=l[1],f=l[2],d=l[3];return h&&a?h.obsSet=t.obsSet:(a=i.query(t).then(function(t){var e=t.result;if(h&&(h.res=e),s){for(var n=0,r=e.length;n<r;++n)Object.freeze(e[n]);Object.freeze(e)}else t.result=D(e);return t}).catch(function(t){return d&&h&&M(d,h),Promise.reject(t)}),h={obsSet:t.obsSet,promise:a,subscribers:new Set,type:"query",req:t,dirty:!1},d?d.push(h):(d=[h],(f=f||(ne["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[t.query.index.name||""]=d)),e=h,o=d,e.subscribers.add(u),c.addEventListener("abort",function(){e.subscribers.delete(u),0===e.subscribers.size&&setTimeout(function(){0===e.subscribers.size&&M(o,e)},3e3)}),h.promise.then(function(e){return{result:nw(e.result,t,null==f?void 0:f.optimisticOps,i,h,s)}})}})}})}};function nk(t,e){return new Proxy(t,{get:function(t,n,r){return"db"===n?e:Reflect.get(t,n,r)}})}var nP=(nE.prototype.version=function(t){if(isNaN(t)||t<.1)throw new W.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new W.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter(function(e){return e._cfg.version===t})[0];return n||(n=new this.Version(t),e.push(n),e.sort(eK),n.stores({}),this._state.autoSchema=!1,n)},nE.prototype._whenReady=function(t){var e=this;return this.idbdb&&(this._state.openComplete||tm.letThrough||this._vip)?t():new tb(function(t,n){if(e._state.openComplete)return n(new W.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return void n(new W.DatabaseClosed);e.open().catch(Y)}e._state.dbReadyPromise.then(t,n)}).then(t)},nE.prototype.use=function(t){var e=t.stack,n=t.create,r=t.level,i=t.name;return i&&this.unuse({stack:e,name:i}),(t=this._middlewares[e]||(this._middlewares[e]=[])).push({stack:e,create:n,level:null==r?10:r,name:i}),t.sort(function(t,e){return t.level-e.level}),this},nE.prototype.unuse=function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(function(t){return r?t.create!==r:!!n&&t.name!==n})),this},nE.prototype.open=function(){var t=this;return tz(tp,function(){return function(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?tH(e.dbOpenError):t});e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller,i=Math.round(10*t.verno),s=!1;function a(){if(e.openCanceller!==r)throw new W.DatabaseClosed("db.open() was cancelled")}var u,c=e.dbReadyResolve,l=null,h=!1;return tb.race([r,("undefined"==typeof navigator?tb.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){function e(){return indexedDB.databases().finally(t)}u=setInterval(e,100),e()}).finally(function(){return clearInterval(u)}):Promise.resolve()).then(function r(){return new tb(function(u,c){if(a(),!n)throw new W.MissingAPI;var f=t.name,d=e.autoSchema||!i?n.open(f):n.open(f,i);if(!d)throw new W.MissingAPI;d.onerror=eP(c),d.onblocked=tC(t._fireOnBlocked),d.onupgradeneeded=tC(function(r){var i,a,u,p,m,y,v;l=d.transaction,e.autoSchema&&!t._options.allowEmptyDB?(d.onerror=eE,l.abort(),d.result.close(),(i=n.deleteDatabase(f)).onsuccess=i.onerror=tC(function(){c(new W.NoSuchDatabase("Database ".concat(f," doesnt exist")))})):(l.onerror=eP(c),h=(r=r.oldVersion>0x4000000000000000?0:r.oldVersion)<1,t.idbdb=d.result,s&&function(t,e){ez(t._dbSchema,e),e.db.version%10!=0||e.objectStoreNames.contains("$meta")||e.db.createObjectStore("$meta").add(Math.ceil(e.db.version/10-1),"version");var n=eQ(0,t.idbdb,e);eH(t,t._dbSchema,e);for(var r=0,i=eU(n,t._dbSchema).change;r<i.length;r++){var o=function(t){if(t.change.length||t.recreate)return console.warn("Unable to patch indexes of table ".concat(t.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=e.objectStore(t.name);t.add.forEach(function(e){ti&&console.debug("Dexie upgrade patch: Creating missing index ".concat(t.name,".").concat(e.src)),eW(n,e)})}(i[r]);if("object"==typeof o)return o.value}}(t,l),a=r/10,u=l,p=t._dbSchema,u.objectStoreNames.contains("$meta")&&!p.$meta&&(p.$meta=eI("$meta",eY("")[0],[]),t._storeNames.push("$meta")),(m=t._createTransaction("readwrite",t._storeNames,p)).create(u),m._completion.catch(c),y=m._reject.bind(m),v=tm.transless||tm,tN(function(){return tm.trans=m,tm.transless=v,0!==a?(eF(t,u),(m.storeNames.includes("$meta")?m.table("$meta").get("version").then(function(t){return null!=t?t:a}):tb.resolve(a)).then(function(e){var n,r,i;return n=e,r=[],e=t._versions,i=t._dbSchema=eQ(0,t.idbdb,u),0!==(e=e.filter(function(t){return t._cfg.version>=n})).length?(e.forEach(function(e){r.push(function(){var r=i,s=e._cfg.dbschema;eH(t,r,u),eH(t,s,u),i=t._dbSchema=s;var a=eU(r,s);a.add.forEach(function(t){eV(u,t[0],t[1].primKey,t[1].indexes)}),a.change.forEach(function(t){if(t.recreate)throw new W.Upgrade("Not yet support for changing primary key");var e=u.objectStore(t.name);t.add.forEach(function(t){return eW(e,t)}),t.change.forEach(function(t){e.deleteIndex(t.name),eW(e,t)}),t.del.forEach(function(t){return e.deleteIndex(t)})});var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>n){eF(t,u),m._memoizedTables={};var l=k(s);a.del.forEach(function(t){l[t]=r[t]}),eL(t,[t.Transaction.prototype]),eq(t,[t.Transaction.prototype],o(l),l),m.schema=l;var h,f=$(c);return f&&tF(),a=tb.follow(function(){var t;(h=c(m))&&f&&(t=tq.bind(null,null),h.then(t,t))}),h&&"function"==typeof h.then?tb.resolve(h):a.then(function(){return h})}}),r.push(function(n){var r=e._cfg.dbschema;[].slice.call(n.db.objectStoreNames).forEach(function(t){return null==r[t]&&n.db.deleteObjectStore(t)}),eL(t,[t.Transaction.prototype]),eq(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),m.schema=t._dbSchema}),r.push(function(n){t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(t.idbdb.version/10)===e._cfg.version?(t.idbdb.deleteObjectStore("$meta"),delete t._dbSchema.$meta,t._storeNames=t._storeNames.filter(function(t){return"$meta"!==t})):n.objectStore("$meta").put(e._cfg.version,"version"))})}),(function t(){return r.length?tb.resolve(r.shift()(m.idbtrans)).then(t):tb.resolve()})().then(function(){ez(i,u)})):tb.resolve()}).catch(y)):(o(p).forEach(function(t){eV(u,t,p[t].primKey,p[t].indexes)}),eF(t,u),void tb.follow(function(){return t.on.populate.fire(m)}).catch(y))}))},c),d.onsuccess=tC(function(){l=null;var n,a,c,p=t.idbdb=d.result,m=v(p.objectStoreNames);if(0<m.length)try{var y=p.transaction(1===m.length?m[0]:m,"readonly");if(e.autoSchema)n=p,a=y,t.verno=n.version/10,a=t._dbSchema=eQ(0,n,a),t._storeNames=v(n.objectStoreNames,0),eq(t,[t._allTables],o(a),a);else if(eH(t,t._dbSchema,y),((c=eU(eQ(0,(c=t).idbdb,y),c._dbSchema)).add.length||c.change.some(function(t){return t.add.length||t.change.length}))&&!s)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),p.close(),i=p.version+1,s=!0,u(r());eF(t,y)}catch(t){}tJ.push(t),p.onversionchange=tC(function(n){e.vcFired=!0,t.on("versionchange").fire(n)}),p.onclose=tC(function(e){t.on("close").fire(e)}),h&&(c=t._deps,y=f,p=c.indexedDB,c=c.IDBKeyRange,eZ(p)||y===tZ||eJ(p,c).put({name:y}).catch(Y)),u()},c)}).catch(function(t){switch(null==t?void 0:t.name){case"UnknownError":if(0<e.PR1398_maxLoop)return e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),r();break;case"VersionError":if(0<i)return i=0,r()}return tb.reject(t)})})]).then(function(){return a(),e.onReadyBeingFired=[],tb.resolve(e0(function(){return t.on.ready.fire(t.vip)})).then(function n(){if(0<e.onReadyBeingFired.length){var r=e.onReadyBeingFired.reduce(tr,Y);return e.onReadyBeingFired=[],tb.resolve(e0(function(){return r(t.vip)})).then(n)}})}).finally(function(){e.openCanceller===r&&(e.onReadyBeingFired=null,e.isBeingOpened=!1)}).catch(function(n){e.dbOpenError=n;try{l&&l.abort()}catch(t){}return r===e.openCanceller&&t._close(),tH(n)}).finally(function(){e.openComplete=!0,c()}).then(function(){var e;return h&&(e={},t.tables.forEach(function(n){n.schema.indexes.forEach(function(r){r.name&&(e["idb://".concat(t.name,"/").concat(n.name,"/").concat(r.name)]=new e2(-1/0,[[[]]]))}),e["idb://".concat(t.name,"/").concat(n.name,"/")]=e["idb://".concat(t.name,"/").concat(n.name,"/:dels")]=new e2(-1/0,[[[]]])}),eA(eS).fire(e),no(e,!0)),t})}(t)})},nE.prototype._close=function(){var t=this._state,e=tJ.indexOf(this);if(0<=e&&tJ.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this.idbdb=null}t.isBeingOpened||(t.dbReadyPromise=new tb(function(e){t.dbReadyResolve=e}),t.openCanceller=new tb(function(e,n){t.cancelOpen=n}))},nE.prototype.close=function(t){var e=(void 0===t?{disableAutoOpen:!0}:t).disableAutoOpen,t=this._state;e?(t.isBeingOpened&&t.cancelOpen(new W.DatabaseClosed),this._close(),t.autoOpen=!1,t.dbOpenError=new W.DatabaseClosed):(this._close(),t.autoOpen=this._options.autoOpen||t.isBeingOpened,t.openComplete=!1,t.dbOpenError=null)},nE.prototype.delete=function(t){var e=this;void 0===t&&(t={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new tb(function(i,o){function s(){e.close(t);var n=e._deps.indexedDB.deleteDatabase(e.name);n.onsuccess=tC(function(){var t,n,r;t=e._deps,n=e.name,r=t.indexedDB,t=t.IDBKeyRange,eZ(r)||n===tZ||eJ(r,t).delete(n).catch(Y),i()}),n.onerror=eP(o),n.onblocked=e._fireOnBlocked}if(n)throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})},nE.prototype.backendDB=function(){return this.idbdb},nE.prototype.isOpen=function(){return null!==this.idbdb},nE.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name},nE.prototype.hasFailed=function(){return null!==this._state.dbOpenError},nE.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nE.prototype,"tables",{get:function(){var t=this;return o(this._allTables).map(function(e){return t._allTables[e]})},enumerable:!1,configurable:!0}),nE.prototype.transaction=function(){var t=(function(t,e,n){var r=arguments.length;if(r<2)throw new W.InvalidArgument("Too few arguments");for(var i=Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,E(i),n]}).apply(this,arguments);return this._transaction.apply(this,t)},nE.prototype._transaction=function(t,e,n){var r=this,i=tm.trans;i&&i.db===this&&-1===t.indexOf("!")||(i=null);var o,s,a=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(s=e.map(function(t){if(t=t instanceof r.Table?t.name:t,"string"!=typeof t)throw TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}),"r"==t||t===t0)o=t0;else{if("rw"!=t&&t!=t1)throw new W.InvalidArgument("Invalid transaction mode: "+t);o=t1}if(i){if(i.mode===t0&&o===t1){if(!a)throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(function(t){if(i&&-1===i.storeNames.indexOf(t)){if(!a)throw new W.SubTransaction("Table "+t+" not included in parent transaction.");i=null}}),a&&i&&!i.active&&(i=null)}}catch(t){return i?i._promise(null,function(e,n){n(t)}):tH(t)}var u=(function t(e,n,r,i,o){return tb.resolve().then(function(){var s=tm.transless||tm,a=e._createTransaction(n,r,e._dbSchema,i);if(a.explicit=!0,s={trans:a,transless:s},i)a.idbtrans=i.idbtrans;else try{a.create(),a.idbtrans._explicit=!0,e._state.PR1398_maxLoop=3}catch(i){return i.name===z.InvalidState&&e.isOpen()&&0<--e._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return t(e,n,r,null,o)})):tH(i)}var u,c=$(o);return c&&tF(),s=tb.follow(function(){var t;(u=o.call(a,a))&&(c?(t=tq.bind(null,null),u.then(t,t)):"function"==typeof u.next&&"function"==typeof u.throw&&(u=na(u)))},s),(u&&"function"==typeof u.then?tb.resolve(u).then(function(t){return a.active?t:tH(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):s.then(function(){return u})).then(function(t){return i&&a._resolve(),a._completion.then(function(){return t})}).catch(function(t){return a._reject(t),tH(t)})})}).bind(null,this,o,s,i,n);return i?i._promise(o,u,"lock"):tm.trans?tz(tm.transless,function(){return r._whenReady(u)}):this._whenReady(u)},nE.prototype.table=function(t){if(!l(this._allTables,t))throw new W.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]},nE);function nE(t,n){var r=this;this._middlewares={},this.verno=0;var i=nE.dependencies;this._options=n=e({addons:nE.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},i=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,s,a,u,c,l={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Y,dbReadyPromise:null,cancelOpen:Y,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};l.dbReadyPromise=new tb(function(t){l.dbReadyResolve=t}),l.openCanceller=new tb(function(t,e){l.cancelOpen=e}),this._state=l,this.name=t,this.on=ee(this,"populate","blocked","versionchange","close",{ready:[tr,Y]}),this.on.ready.subscribe=g(this.on.ready.subscribe,function(t){return function(e,n){nE.vip(function(){var i=r._state;i.openComplete?(i.dbOpenError||tb.resolve().then(e),n&&t(e)):i.onReadyBeingFired?(i.onReadyBeingFired.push(e),n&&t(e)):(t(e),n||t(function t(){r.on.ready.unsubscribe(e),r.on.ready.unsubscribe(t)}))})}}),this.Collection=(o=this,en(ef.prototype,function(t,e){this.db=o;var n=t3,r=null;if(e)try{n=e()}catch(t){r=t}var i=t._ctx,e=i.table,t=e.hook.reading.fire;this._ctx={table:e,index:i.index,isPrimKey:!i.index||e.schema.primKey.keyPath&&i.index===e.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:t!==G?t:null}})),this.Table=(s=this,en(t9.prototype,function(t,e,n){this.db=s,this._tx=n,this.name=t,this.schema=e,this.hook=s._allTables[t]?s._allTables[t].hook:ee(null,{creating:[Z,Y],reading:[X,G],updating:[te,Y],deleting:[tt,Y]})})),this.Transaction=(a=this,en(eD.prototype,function(t,e,n,r,i){var o=this;this.db=a,this.mode=t,this.storeNames=e,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=ee(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new tb(function(t,e){o._resolve=t,o._reject=e}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(t){var e=o.active;return o.active=!1,o.on.error.fire(t),o.parent?o.parent._reject(t):e&&o.idbtrans&&o.idbtrans.abort(),tH(t)})})),this.Version=(u=this,en(eG.prototype,function(t){this.db=u,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(c=this,en(e_.prototype,function(t,e,n){if(this.db=c,this._ctx={table:t,index:":id"===e?null:e,or:n},this._cmp=this._ascending=t6,this._descending=function(t,e){return t6(e,t)},this._max=function(t,e){return 0<t6(t,e)?t:e},this._min=function(t,e){return 0>t6(t,e)?t:e},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new W.MissingAPI})),this.on("versionchange",function(t){0<t.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})}),this.on("blocked",function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(t.oldVersion/10))}),this._maxKey=eM(n.IDBKeyRange),this._createTransaction=function(t,e,n,i){return new r.Transaction(t,e,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(t){r.on("blocked").fire(t),tJ.filter(function(t){return t.name===r.name&&t!==r&&!t._state.vcFired}).map(function(e){return e.on("versionchange").fire(t)})},this.use(np),this.use(n_),this.use(nv),this.use(nc),this.use(nf);var h=new Proxy(this,{get:function(t,e,n){if("_vip"===e)return!0;if("table"===e)return function(t){return nk(r.table(t),h)};var i=Reflect.get(t,e,n);return i instanceof t9?nk(i,h):"tables"===e?i.map(function(t){return nk(t,h)}):"_createTransaction"===e?function(){return nk(i.apply(this,arguments),h)}:i}});this.vip=h,i.forEach(function(t){return t(r)})}var nS,F="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",nO=(nA.prototype.subscribe=function(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})},nA.prototype[F]=function(){return this},nA);function nA(t){this._subscribe=t}try{nS={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(t){nS={indexedDB:null,IDBKeyRange:null}}function nD(t){var e,n=!1,r=new nO(function(r){var i,o=$(t),s=!1,a={},u={},c={get closed(){return s},unsubscribe:function(){s||(s=!0,i&&i.abort(),h&&eA.storagemutated.unsubscribe(d))}};r.start&&r.start(c);var h=!1,f=function(){return tQ(p)},d=function(t){e9(a,t),nt(u,a)&&f()},p=function(){var c,p;!s&&nS.indexedDB&&(a={},c={},i&&i.abort(),Promise.resolve(function(e){var n=tO();try{o&&tF();var r=tN(t,e);return r=o?r.finally(tq):r}finally{n&&tA()}}(p={subscr:c,signal:(i=new AbortController).signal,requery:f,querier:t,trans:null})).then(function(t){n=!0,e=t,s||p.signal.aborted||(a={},function(t){for(var e in t)if(l(t,e))return;return 1}(u=c)||h||(eA(eS,d),h=!0),tQ(function(){return!s&&r.next&&r.next(t)}))},function(t){n=!1,["DatabaseClosedError","AbortError"].includes(null==t?void 0:t.name)||s||tQ(function(){s||r.error&&r.error(t)})}))};return setTimeout(f,0),c});return r.hasValue=function(){return n},r.getValue=function(){return e},r}function nT(t){var e=nj;try{nj=!0,eA.storagemutated.fire(t),no(t,!0)}finally{nj=e}}h(nP,e(e({},H),{delete:function(t){return new nP(t,{addons:[]}).delete()},exists:function(t){return new nP(t,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){var e,n;try{return n=(e=nP.dependencies).indexedDB,e=e.IDBKeyRange,(eZ(n)?Promise.resolve(n.databases()).then(function(t){return t.map(function(t){return t.name}).filter(function(t){return t!==tZ})}):eJ(n,e).toCollection().primaryKeys()).then(t)}catch(t){return tH(new W.MissingAPI)}},defineClass:function(){return function(t){a(this,t)}},ignoreTransaction:function(t){return tm.trans?tz(tm.transless,t):t()},vip:e0,async:function(t){return function(){try{var e=na(t.apply(this,arguments));return e&&"function"==typeof e.then?e:tb.resolve(e)}catch(t){return tH(t)}}},spawn:function(t,e,n){try{var r=na(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:tb.resolve(r)}catch(t){return tH(t)}},currentTransaction:{get:function(){return tm.trans||null}},waitFor:function(t,e){return e=tb.resolve("function"==typeof t?nP.ignoreTransaction(t):t).timeout(e||6e4),tm.trans?tm.trans.waitFor(e):e},Promise:tb,debug:{get:function(){return ti},set:function(t){ti=t}},derive:p,extend:a,props:h,override:g,Events:ee,on:eA,liveQuery:nD,extendObservabilitySet:e9,getByKeyPath:x,setByKeyPath:_,delByKeyPath:function(t,e){"string"==typeof e?_(t,e,void 0):"length"in e&&[].map.call(e,function(e){_(t,e,void 0)})},shallowClone:k,deepClone:D,getObjectDiff:nl,cmp:t6,asap:w,minKey:-1/0,addons:[],connections:tJ,errnames:z,dependencies:nS,cache:ne,semVer:"4.0.10",version:"4.0.10".split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,2*n)})})),nP.maxKey=eM(nP.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(eA(eS,function(t){nj||(t=new CustomEvent(eO,{detail:t}),nj=!0,dispatchEvent(t),nj=!1)}),addEventListener(eO,function(t){t=t.detail,nj||nT(t)}));var nC,nj=!1,nI=function(){};return"undefined"!=typeof BroadcastChannel&&((nI=function(){(nC=new BroadcastChannel(eO)).onmessage=function(t){return t.data&&nT(t.data)}})(),"function"==typeof nC.unref&&nC.unref(),eA(eS,function(t){nj||nC.postMessage(t)})),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",function(t){if(!nP.disableBfCache&&t.persisted){ti&&console.debug("Dexie: handling persisted pagehide"),null!=nC&&nC.close();for(var e=0;e<tJ.length;e++)tJ[e].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(t){!nP.disableBfCache&&t.persisted&&(ti&&console.debug("Dexie: handling persisted pageshow"),nI(),nT({all:new e2(-1/0,[[]])}))})),tb.rejectionMapper=function(t,e){return!t||t instanceof L||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Q[t.name]?t:(e=new Q[t.name](e||t.message,t),"stack"in t&&d(e,"stack",{get:function(){return this.inner.stack}}),e)},e(nP,Object.freeze({__proto__:null,Dexie:nP,liveQuery:nD,Entity:t4,cmp:t6,PropModSymbol:S,PropModification:el,replacePrefix:function(t,e){return new el({replacePrefix:[t,e]})},add:function(t){return new el({add:t})},remove:function(t){return new el({remove:t})},default:nP,RangeSet:e2,mergeRanges:e5,rangesOverlap:e4}),{default:nP}),nP},t.exports=r()},6553:function(t,e,n){"use strict";n.d(e,{y:function(){return l}});var r=n(9825),i=n(7219),o=n(7723),s=n(5531),a=n(124),u=n(2070),c=n(9287),l=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var o,s=this,a=(o=t)&&o instanceof r.Lv||o&&(0,u.m)(o.next)&&(0,u.m)(o.error)&&(0,u.m)(o.complete)&&(0,i.Nn)(o)?t:new r.Hp(t,e,n);return(0,c.x)(function(){var t=s.operator,e=s.source;a.add(t?t.call(a,e):e?s._subscribe(a):s._trySubscribe(a))}),a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=h(e))(function(e,i){var o=new r.Hp({next:function(e){try{t(e)}catch(t){i(t),o.unsubscribe()}},error:i,complete:e});n.subscribe(o)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[o.L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===t.length?s.y:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)})(this)},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function h(t){var e;return null!==(e=null!=t?t:a.v.Promise)&&void 0!==e?e:Promise}},2863:function(t,e,n){"use strict";n.d(e,{x:function(){return c}});var r=n(6200),i=n(6553),o=n(7219),s=(0,n(7169).d)(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),a=n(325),u=n(9287),c=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return(0,r.ZT)(e,t),e.prototype.lift=function(t){var e=new l(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new s},e.prototype.next=function(t){var e=this;(0,u.x)(function(){var n,i;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var o=(0,r.XA)(e.currentObservers),s=o.next();!s.done;s=o.next())s.value.next(t)}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var e=this;(0,u.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;(0,u.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=this.hasError,r=this.isStopped,i=this.observers;return n||r?o.Lc:(this.currentObservers=null,i.push(t),new o.w0(function(){e.currentObservers=null,(0,a.P)(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,n=this.thrownError,r=this.isStopped;e?t.error(n):r&&t.complete()},e.prototype.asObservable=function(){var t=new i.y;return t.source=this,t},e.create=function(t,e){return new l(t,e)},e}(i.y),l=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return(0,r.ZT)(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:o.Lc},e}(c)},9825:function(t,e,n){"use strict";n.d(e,{Hp:function(){return v},Lv:function(){return d}});var r=n(6200),i=n(2070),o=n(7219),s=n(124),a=n(7444);function u(){}var c=l("C",void 0,void 0);function l(t,e,n){return{kind:t,value:e,error:n}}var h=n(4814),f=n(9287),d=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,(0,o.Nn)(e)&&e.add(n)):n.destination=w,n}return(0,r.ZT)(e,t),e.create=function(t,e,n){return new v(t,e,n)},e.prototype.next=function(t){this.isStopped?b(l("N",t,void 0),this):this._next(t)},e.prototype.error=function(t){this.isStopped?b(l("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?b(c,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(o.w0),p=Function.prototype.bind;function m(t,e){return p.call(t,e)}var y=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){g(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){g(t)}else g(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){g(t)}},t}(),v=function(t){function e(e,n,r){var o,a,u=t.call(this)||this;return(0,i.m)(e)||!e?o={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&s.v.useDeprecatedNextContext?((a=Object.create(e)).unsubscribe=function(){return u.unsubscribe()},o={next:e.next&&m(e.next,a),error:e.error&&m(e.error,a),complete:e.complete&&m(e.complete,a)}):o=e,u.destination=new y(o),u}return(0,r.ZT)(e,t),e}(d);function g(t){s.v.useDeprecatedSynchronousErrorHandling?(0,f.O)(t):(0,a.h)(t)}function b(t,e){var n=s.v.onStoppedNotification;n&&h.z.setTimeout(function(){return n(t,e)})}var w={closed:!0,next:u,error:function(t){throw t},complete:u}},7219:function(t,e,n){"use strict";n.d(e,{Lc:function(){return u},w0:function(){return a},Nn:function(){return c}});var r=n(6200),i=n(2070),o=(0,n(7169).d)(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}),s=n(325),a=function(){var t;function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t,e,n,s,a,u=this._parentage;if(u){if(this._parentage=null,Array.isArray(u))try{for(var c=(0,r.XA)(u),h=c.next();!h.done;h=c.next())h.value.remove(this)}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else u.remove(this)}var f=this.initialTeardown;if((0,i.m)(f))try{f()}catch(t){a=t instanceof o?t.errors:[t]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=(0,r.XA)(d),m=p.next();!m.done;m=p.next()){var y=m.value;try{l(y)}catch(t){a=null!=a?a:[],t instanceof o?a=(0,r.ev)((0,r.ev)([],(0,r.CR)(a)),(0,r.CR)(t.errors)):a.push(t)}}}catch(t){n={error:t}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}if(a)throw new o(a)}},e.prototype.add=function(t){var n;if(t&&t!==this){if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}},e.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},e.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},e.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&(0,s.P)(e,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,s.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),u=a.EMPTY;function c(t){return t instanceof a||t&&"closed"in t&&(0,i.m)(t.remove)&&(0,i.m)(t.add)&&(0,i.m)(t.unsubscribe)}function l(t){(0,i.m)(t)?t():t.unsubscribe()}},124:function(t,e,n){"use strict";n.d(e,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2828:function(t,e,n){"use strict";n.d(e,{D:function(){return w}});var r=n(6750),i=n(2903),o=n(7753),s=n(4382);function a(t,e){return void 0===e&&(e=0),(0,o.e)(function(n,r){n.subscribe((0,s.x)(r,function(n){return(0,i.f)(r,t,function(){return r.next(n)},e)},function(){return(0,i.f)(r,t,function(){return r.complete()},e)},function(n){return(0,i.f)(r,t,function(){return r.error(n)},e)}))})}function u(t,e){return void 0===e&&(e=0),(0,o.e)(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}var c=n(6553),l=n(3073),h=n(2070);function f(t,e){if(!t)throw Error("Iterable cannot be null");return new c.y(function(n){(0,i.f)(n,e,function(){var r=t[Symbol.asyncIterator]();(0,i.f)(n,e,function(){r.next().then(function(t){t.done?n.complete():n.next(t.value)})},0,!0)})})}var d=n(7229),p=n(4223),m=n(6613),y=n(6090),v=n(7555),g=n(6345),b=n(2450);function w(t,e){return e?function(t,e){if(null!=t){if((0,d.c)(t))return(0,r.Xf)(t).pipe(u(e),a(e));if((0,m.z)(t))return new c.y(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})});if((0,p.t)(t))return(0,r.Xf)(t).pipe(u(e),a(e));if((0,v.D)(t))return f(t,e);if((0,y.T)(t))return new c.y(function(n){var r;return(0,i.f)(n,e,function(){r=t[l.h](),(0,i.f)(n,e,function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(t){n.error(t);return}i?n.complete():n.next(e)},0,!0)}),function(){return(0,h.m)(null==r?void 0:r.return)&&r.return()}});if((0,b.L)(t))return f((0,b.Q)(t),e)}throw(0,g.z)(t)}(t,e):(0,r.Xf)(t)}},6750:function(t,e,n){"use strict";n.d(e,{Xf:function(){return m}});var r=n(6200),i=n(6613),o=n(4223),s=n(6553),a=n(7229),u=n(7555),c=n(6345),l=n(6090),h=n(2450),f=n(2070),d=n(7444),p=n(7723);function m(t){if(t instanceof s.y)return t;if(null!=t){if((0,a.c)(t))return new s.y(function(e){var n=t[p.L]();if((0,f.m)(n.subscribe))return n.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")});if((0,i.z)(t))return new s.y(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()});if((0,o.t)(t))return new s.y(function(e){t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,d.h)});if((0,u.D)(t))return y(t);if((0,l.T)(t))return new s.y(function(e){var n,i;try{for(var o=(0,r.XA)(t),s=o.next();!s.done;s=o.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.complete()});if((0,h.L)(t))return y((0,h.Q)(t))}throw(0,c.z)(t)}function y(t){return new s.y(function(e){(function(t,e){var n,i,o,s;return(0,r.mG)(this,void 0,void 0,function(){var a;return(0,r.Jh)(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=(0,r.KL)(t),u.label=1;case 1:return[4,n.next()];case 2:if((i=u.sent()).done)return[3,4];if(a=i.value,e.next(a),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o={error:u.sent()},[3,11];case 6:if(u.trys.push([6,,9,10]),!(i&&!i.done&&(s=n.return)))return[3,8];return[4,s.call(n)];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})})(t,e).catch(function(t){return e.error(t)})})}},4382:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n(6200);function i(t,e,n,r,i){return new o(t,e,n,r,i)}var o=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return(0,r.ZT)(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),n||null===(e=this.onFinalize)||void 0===e||e.call(this)}},e}(n(9825).Lv)},8887:function(t,e,n){"use strict";n.d(e,{x:function(){return s}});var r=n(5531),i=n(7753),o=n(4382);function s(t,e){return void 0===e&&(e=r.y),t=null!=t?t:a,(0,i.e)(function(n,r){var i,s=!0;n.subscribe((0,o.x)(r,function(n){var o=e(n);(s||!t(i,o))&&(s=!1,i=o,r.next(n))}))})}function a(t,e){return t===e}},4465:function(t,e,n){"use strict";n.d(e,{h:function(){return o}});var r=n(7753),i=n(4382);function o(t,e){return(0,r.e)(function(n,r){var o=0;n.subscribe((0,i.x)(r,function(n){return t.call(e,n,o++)&&r.next(n)}))})}},7449:function(t,e,n){"use strict";n.d(e,{U:function(){return o}});var r=n(7753),i=n(4382);function o(t,e){return(0,r.e)(function(n,r){var o=0;n.subscribe((0,i.x)(r,function(n){r.next(t.call(e,n,o++))}))})}},6904:function(t,e,n){"use strict";n.d(e,{J:function(){return o}});var r=n(5315),i=n(5531);function o(t){return void 0===t&&(t=1/0),(0,r.z)(i.y,t)}},5315:function(t,e,n){"use strict";n.d(e,{z:function(){return function t(e,n,u){return(void 0===u&&(u=1/0),(0,a.m)(n))?t(function(t,o){return(0,r.U)(function(e,r){return n(t,e,o,r)})((0,i.Xf)(e(t,o)))},u):("number"==typeof n&&(u=n),(0,o.e)(function(t,n){var r,o,a,c,l,h,f,d,p;return r=u,a=[],c=0,l=0,h=!1,f=function(){!h||a.length||c||n.complete()},d=function(t){return c<r?p(t):a.push(t)},p=function(t){c++;var u=!1;(0,i.Xf)(e(t,l++)).subscribe((0,s.x)(n,function(t){o?d(t):n.next(t)},function(){u=!0},void 0,function(){if(u)try{for(c--;a.length&&c<r;)!function(){var t=a.shift();p(t)}();f()}catch(t){n.error(t)}}))},t.subscribe((0,s.x)(n,d,function(){h=!0,f()})),function(){}}))}}});var r=n(7449),i=n(6750),o=n(7753),s=(n(2903),n(4382)),a=n(2070)},2937:function(t,e,n){"use strict";n.d(e,{d:function(){return h}});var r=n(6200),i=n(2863),o={now:function(){return(o.delegate||Date).now()},delegate:void 0},s=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=o);var i=t.call(this)||this;return i._bufferSize=e,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,e),i._windowTime=Math.max(1,n),i}return(0,r.ZT)(e,t),e.prototype.next=function(e){var n=this.isStopped,r=this._buffer,i=this._infiniteTimeWindow,o=this._timestampProvider,s=this._windowTime;!n&&(r.push(e),i||r.push(o.now()+s)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!t.closed;i+=n?1:2)t.next(r[i]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this._bufferSize,e=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,i=(r?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!r){for(var o=e.now(),s=0,a=1;a<n.length&&n[a]<=o;a+=2)s=a;s&&n.splice(0,s+1)}},e}(i.x),a=n(6750),u=n(9825),c=n(7753);function l(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!0===e){t();return}if(!1!==e){var o=new u.Hp({next:function(){o.unsubscribe(),t()}});return(0,a.Xf)(e.apply(void 0,(0,r.ev)([],(0,r.CR)(n)))).subscribe(o)}}function h(t,e,n){var r,o,h,f,d,p,m,y,v,g,b,w,x,_=!1;return t&&"object"==typeof t?(x=void 0===(g=t.bufferSize)?1/0:g,e=void 0===(b=t.windowTime)?1/0:b,_=void 0!==(w=t.refCount)&&w,n=t.scheduler):x=null!=t?t:1/0,h=void 0===(o=(r={connector:function(){return new s(x,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_}).connector)?function(){return new i.x}:o,d=void 0===(f=r.resetOnError)||f,m=void 0===(p=r.resetOnComplete)||p,v=void 0===(y=r.resetOnRefCountZero)||y,function(t){var e,n,r,i=0,o=!1,s=!1,f=function(){null==n||n.unsubscribe(),n=void 0},p=function(){f(),e=r=void 0,o=s=!1},y=function(){var t=e;p(),null==t||t.unsubscribe()};return(0,c.e)(function(t,c){i++,s||o||f();var g=r=null!=r?r:h();c.add(function(){0!=--i||s||o||(n=l(y,v))}),g.subscribe(c),!e&&i>0&&(e=new u.Hp({next:function(t){return g.next(t)},error:function(t){s=!0,f(),n=l(p,d,t),g.error(t)},complete:function(){o=!0,f(),n=l(p,m),g.complete()}}),(0,a.Xf)(t).subscribe(e))})(t)}}},1186:function(t,e,n){"use strict";n.d(e,{O:function(){return u}});var r=n(6904),i=n(4146),o=n(2828);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,r.J)(1)((0,o.D)(t,(0,i.yG)(t)))}var a=n(7753);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,i.yG)(t);return(0,a.e)(function(e,r){(n?s(t,e,n):s(t,e)).subscribe(r)})}},4814:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=n(6200),i={setTimeout:function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var s=i.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,r.ev)([t,e],(0,r.CR)(n))):setTimeout.apply(void 0,(0,r.ev)([t,e],(0,r.CR)(n)))},clearTimeout:function(t){var e=i.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0}},3073:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},7723:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},4146:function(t,e,n){"use strict";n.d(e,{_6:function(){return s},yG:function(){return o}});var r=n(2070);function i(t){return t[t.length-1]}function o(t){var e;return(e=i(t))&&(0,r.m)(e.schedule)?t.pop():void 0}function s(t,e){return"number"==typeof i(t)?t.pop():e}},325:function(t,e,n){"use strict";function r(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}n.d(e,{P:function(){return r}})},7169:function(t,e,n){"use strict";function r(t){var e=t(function(t){Error.call(t),t.stack=Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(e,{d:function(){return r}})},9287:function(t,e,n){"use strict";n.d(e,{O:function(){return s},x:function(){return o}});var r=n(124),i=null;function o(t){if(r.v.useDeprecatedSynchronousErrorHandling){var e=!i;if(e&&(i={errorThrown:!1,error:null}),t(),e){var n=i,o=n.errorThrown,s=n.error;if(i=null,o)throw s}}else t()}function s(t){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=t)}},2903:function(t,e,n){"use strict";function r(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}n.d(e,{f:function(){return r}})},5531:function(t,e,n){"use strict";function r(t){return t}n.d(e,{y:function(){return r}})},6613:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},7555:function(t,e,n){"use strict";n.d(e,{D:function(){return i}});var r=n(2070);function i(t){return Symbol.asyncIterator&&(0,r.m)(null==t?void 0:t[Symbol.asyncIterator])}},2070:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,{m:function(){return r}})},7229:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(7723),i=n(2070);function o(t){return(0,i.m)(t[r.L])}},6090:function(t,e,n){"use strict";n.d(e,{T:function(){return o}});var r=n(3073),i=n(2070);function o(t){return(0,i.m)(null==t?void 0:t[r.h])}},4223:function(t,e,n){"use strict";n.d(e,{t:function(){return i}});var r=n(2070);function i(t){return(0,r.m)(null==t?void 0:t.then)}},2450:function(t,e,n){"use strict";n.d(e,{L:function(){return s},Q:function(){return o}});var r=n(6200),i=n(2070);function o(t){return(0,r.FC)(this,arguments,function(){var e,n,i;return(0,r.Jh)(this,function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,r.qq)(e.read())];case 3:if(i=(n=o.sent()).value,!n.done)return[3,5];return[4,(0,r.qq)(void 0)];case 4:return[2,o.sent()];case 5:return[4,(0,r.qq)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function s(t){return(0,i.m)(null==t?void 0:t.getReader)}},7753:function(t,e,n){"use strict";n.d(e,{e:function(){return i}});var r=n(2070);function i(t){return function(e){if((0,r.m)(null==e?void 0:e.lift))return e.lift(function(e){try{return t(e,this)}catch(t){this.error(t)}});throw TypeError("Unable to lift unknown Observable type")}}},7444:function(t,e,n){"use strict";n.d(e,{h:function(){return o}});var r=n(124),i=n(4814);function o(t){i.z.setTimeout(function(){var e=r.v.onUnhandledError;if(e)e(t);else throw t})}},6345:function(t,e,n){"use strict";function r(t){return TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(e,{z:function(){return r}})},8198:function(t,e,n){"use strict";n.d(e,{dP:function(){return i},jE:function(){return r},vh:function(){return s},yJ:function(){return o}});let r=6048e5,i=864e5,o=6e4,s=36e5},3970:function(t,e,n){"use strict";n.d(e,{w:function(){return a}});var r=n(8198),i=n(9649);function o(t){let e=(0,i.Q)(t);return e.setHours(0,0,0,0),e}function s(t){let e=(0,i.Q)(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function a(t,e){let n=o(t),i=o(e);return Math.round((+n-s(n)-(+i-s(i)))/r.dP)}},1303:function(t,e,n){"use strict";n.d(e,{j:function(){return o}});var r=n(3970),i=n(9649);function o(t,e){let n=(0,i.Q)(t),o=(0,i.Q)(e),a=s(n,o),u=Math.abs((0,r.w)(n,o));n.setDate(n.getDate()-a*u);let c=Number(s(n,o)===-a),l=a*(u-c);return 0===l?0:l}function s(t,e){let n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}},7647:function(t,e,n){"use strict";n.d(e,{WU:function(){return N}});let r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function i(t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}let o={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function a(t){return(e,n)=>{let r;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&t.formattingValues){let e=t.defaultFormattingWidth||t.defaultWidth,i=(null==n?void 0:n.width)?String(n.width):e;r=t.formattingValues[i]||t.formattingValues[e]}else{let e=t.defaultWidth,i=(null==n?void 0:n.width)?String(n.width):t.defaultWidth;r=t.values[i]||t.values[e]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function u(t){return function(e){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.width,o=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(o);if(!s)return null;let a=s[0],u=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?function(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}(u,t=>t.test(a)):function(t,e){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}(u,t=>t.test(a));return n=t.valueCallback?t.valueCallback(c):c,{value:n=r.valueCallback?r.valueCallback(n):n,rest:e.slice(a.length)}}}let c={code:"en-US",formatDistance:(t,e,n)=>{let i;let o=r[t];return(i="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:o,formatRelative:(t,e,n,r)=>s[t],localize:{ordinalNumber:(t,e)=>{let n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:a({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:a({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:a({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:a({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:a({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(h={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(h.matchPattern);if(!n)return null;let r=n[0],i=t.match(h.parsePattern);if(!i)return null;let o=h.valueCallback?h.valueCallback(i[0]):i[0];return{value:o=e.valueCallback?e.valueCallback(o):o,rest:t.slice(r.length)}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},l={};var h,f=n(3970),d=n(9649);function p(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}var m=n(8198);function y(t,e){var n,r,i,o,s,a,u,c;let h=null!==(c=null!==(u=null!==(a=null!==(s=null==e?void 0:e.weekStartsOn)&&void 0!==s?s:null==e?void 0:null===(r=e.locale)||void 0===r?void 0:null===(n=r.options)||void 0===n?void 0:n.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==u?u:null===(o=l.locale)||void 0===o?void 0:null===(i=o.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==c?c:0,f=(0,d.Q)(t),p=f.getDay();return f.setDate(f.getDate()-((p<h?7:0)+p-h)),f.setHours(0,0,0,0),f}function v(t){return y(t,{weekStartsOn:1})}function g(t){let e=(0,d.Q)(t),n=e.getFullYear(),r=p(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let i=v(r),o=p(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);let s=v(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function b(t,e){var n,r,i,o,s,a,u,c;let h=(0,d.Q)(t),f=h.getFullYear(),m=null!==(c=null!==(u=null!==(a=null!==(s=null==e?void 0:e.firstWeekContainsDate)&&void 0!==s?s:null==e?void 0:null===(r=e.locale)||void 0===r?void 0:null===(n=r.options)||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==u?u:null===(o=l.locale)||void 0===o?void 0:null===(i=o.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==c?c:1,v=p(t,0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);let g=y(v,e),b=p(t,0);b.setFullYear(f,0,m),b.setHours(0,0,0,0);let w=y(b,e);return h.getTime()>=g.getTime()?f+1:h.getTime()>=w.getTime()?f:f-1}function w(t,e){let n=Math.abs(t).toString().padStart(e,"0");return(t<0?"-":"")+n}let x={y(t,e){let n=t.getFullYear(),r=n>0?n:1-n;return w("yy"===e?r%100:r,e.length)},M(t,e){let n=t.getMonth();return"M"===e?String(n+1):w(n+1,2)},d:(t,e)=>w(t.getDate(),e.length),a(t,e){let n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(t,e)=>w(t.getHours()%12||12,e.length),H:(t,e)=>w(t.getHours(),e.length),m:(t,e)=>w(t.getMinutes(),e.length),s:(t,e)=>w(t.getSeconds(),e.length),S(t,e){let n=e.length;return w(Math.trunc(t.getMilliseconds()*Math.pow(10,n-3)),e.length)}},_={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k={G:function(t,e,n){let r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){let e=t.getFullYear();return n.ordinalNumber(e>0?e:1-e,{unit:"year"})}return x.y(t,e)},Y:function(t,e,n,r){let i=b(t,r),o=i>0?i:1-i;return"YY"===e?w(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):w(o,e.length)},R:function(t,e){return w(g(t),e.length)},u:function(t,e){return w(t.getFullYear(),e.length)},Q:function(t,e,n){let r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return w(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){let r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return w(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){let r=t.getMonth();switch(e){case"M":case"MM":return x.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){let r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return w(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){let i=function(t,e){let n=(0,d.Q)(t);return Math.round((+y(n,e)-+function(t,e){var n,r,i,o,s,a,u,c;let h=null!==(c=null!==(u=null!==(a=null!==(s=null==e?void 0:e.firstWeekContainsDate)&&void 0!==s?s:null==e?void 0:null===(r=e.locale)||void 0===r?void 0:null===(n=r.options)||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==u?u:null===(o=l.locale)||void 0===o?void 0:null===(i=o.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==c?c:1,f=b(t,e),d=p(t,0);return d.setFullYear(f,0,h),d.setHours(0,0,0,0),y(d,e)}(n,e))/m.jE)+1}(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):w(i,e.length)},I:function(t,e,n){let r=function(t){let e=(0,d.Q)(t);return Math.round((+v(e)-+function(t){let e=g(t),n=p(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),v(n)}(e))/m.jE)+1}(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):w(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):x.d(t,e)},D:function(t,e,n){let r=function(t){let e=(0,d.Q)(t);return(0,f.w)(e,function(t){let e=(0,d.Q)(t),n=p(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}(e))+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):w(r,e.length)},E:function(t,e,n){let r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){let i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return w(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){let i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return w(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){let r=t.getDay(),i=0===r?7:r;switch(e){case"i":return String(i);case"ii":return w(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){let r;let i=t.getHours();switch(r=12===i?_.noon:0===i?_.midnight:i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){let r;let i=t.getHours();switch(r=i>=17?_.evening:i>=12?_.afternoon:i>=4?_.morning:_.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return x.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):x.H(t,e)},K:function(t,e,n){let r=t.getHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):w(r,e.length)},k:function(t,e,n){let r=t.getHours();return(0===r&&(r=24),"ko"===e)?n.ordinalNumber(r,{unit:"hour"}):w(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):x.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):x.s(t,e)},S:function(t,e){return x.S(t,e)},X:function(t,e,n){let r=t.getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return E(r);case"XXXX":case"XX":return S(r);default:return S(r,":")}},x:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"x":return E(r);case"xxxx":case"xx":return S(r);default:return S(r,":")}},O:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+P(r,":");default:return"GMT"+S(r,":")}},z:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+P(r,":");default:return"GMT"+S(r,":")}},t:function(t,e,n){return w(Math.trunc(t.getTime()/1e3),e.length)},T:function(t,e,n){return w(t.getTime(),e.length)}};function P(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+e+w(o,2)}function E(t,e){return t%60==0?(t>0?"-":"+")+w(Math.abs(t)/60,2):S(t,e)}function S(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(t);return(t>0?"-":"+")+w(Math.trunc(n/60),2)+e+w(n%60,2)}let O=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},A=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},D={p:A,P:(t,e)=>{let n;let r=t.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return O(t,e);switch(i){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",O(i,e)).replace("{{time}}",A(o,e))}},T=/^D+$/,C=/^Y+$/,j=["D","DD","YY","YYYY"],I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R=/^'([^]*?)'?$/,B=/''/g,$=/[a-zA-Z]/;function N(t,e,n){var r,i,o,s,a,u,h,f,p,m,y,v,g,b,w,x,_,P;let E=null!==(m=null!==(p=null==n?void 0:n.locale)&&void 0!==p?p:l.locale)&&void 0!==m?m:c,S=null!==(b=null!==(g=null!==(v=null!==(y=null==n?void 0:n.firstWeekContainsDate)&&void 0!==y?y:null==n?void 0:null===(i=n.locale)||void 0===i?void 0:null===(r=i.options)||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==v?v:l.firstWeekContainsDate)&&void 0!==g?g:null===(s=l.locale)||void 0===s?void 0:null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==b?b:1,O=null!==(P=null!==(_=null!==(x=null!==(w=null==n?void 0:n.weekStartsOn)&&void 0!==w?w:null==n?void 0:null===(u=n.locale)||void 0===u?void 0:null===(a=u.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==x?x:l.weekStartsOn)&&void 0!==_?_:null===(f=l.locale)||void 0===f?void 0:null===(h=f.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==P?P:0,A=(0,d.Q)(t);if(!((A instanceof Date||"object"==typeof A&&"[object Date]"===Object.prototype.toString.call(A)||"number"==typeof A)&&!isNaN(Number((0,d.Q)(A)))))throw RangeError("Invalid time value");let N=e.match(M).map(t=>{let e=t[0];return"p"===e||"P"===e?(0,D[e])(t,E.formatLong):t}).join("").match(I).map(t=>{if("''"===t)return{isToken:!1,value:"'"};let e=t[0];if("'"===e)return{isToken:!1,value:function(t){let e=t.match(R);return e?e[1].replace(B,"'"):t}(t)};if(k[e])return{isToken:!0,value:t};if(e.match($))throw RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}});E.localize.preprocessor&&(N=E.localize.preprocessor(A,N));let F={firstWeekContainsDate:S,weekStartsOn:O,locale:E};return N.map(r=>{if(!r.isToken)return r.value;let i=r.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&C.test(i)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&T.test(i))&&function(t,e,n){let r=function(t,e,n){let r="Y"===t[0]?"years":"days of the month";return"Use `".concat(t.toLowerCase(),"` instead of `").concat(t,"` (in `").concat(e,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(t,e,n);if(console.warn(r),j.includes(t))throw RangeError(r)}(i,e,String(t)),(0,k[i[0]])(A,i,E.localize,F)}).join("")}},4289:function(t,e,n){"use strict";n.d(e,{A:function(){return i}});var r=n(9649);function i(t,e){let n=(0,r.Q)(t),i=(0,r.Q)(e);return n.getTime()>i.getTime()}},3430:function(t,e,n){"use strict";n.d(e,{R:function(){return i}});var r=n(9649);function i(t,e){return+(0,r.Q)(t)<+(0,r.Q)(e)}},936:function(t,e,n){"use strict";n.d(e,{D:function(){return i}});var r=n(8198);function i(t,e){var n;let i,d;let p=null!==(n=null==e?void 0:e.additionalDigits)&&void 0!==n?n:2,m=function(t){let e;let n={},r=t.split(o.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?e=r[0]:(n.date=r[0],e=r[1],o.timeZoneDelimiter.test(n.date)&&(n.date=t.split(o.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length))),e){let t=o.timezone.exec(e);t?(n.time=e.replace(t[1],""),n.timezone=t[1]):n.time=e}return n}(t);if(m.date){let t=function(t,e){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:t.slice((r[1]||r[2]).length)}}(m.date,p);i=function(t,e){if(null===e)return new Date(NaN);let n=t.match(s);if(!n)return new Date(NaN);let r=!!n[4],i=c(n[1]),o=c(n[2])-1,a=c(n[3]),u=c(n[4]),l=c(n[5])-1;if(r)return u>=1&&u<=53&&l>=0&&l<=6?function(t,e,n){let r=new Date(0);r.setUTCFullYear(t,0,4);let i=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+((e-1)*7+n+1-i)),r}(e,u,l):new Date(NaN);{let t=new Date(0);return o>=0&&o<=11&&a>=1&&a<=(h[o]||(f(e)?29:28))&&i>=1&&i<=(f(e)?366:365)?(t.setUTCFullYear(e,o,Math.max(i,a)),t):new Date(NaN)}}(t.restDateString,t.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);let y=i.getTime(),v=0;if(m.time&&isNaN(v=function(t){let e=t.match(a);if(!e)return NaN;let n=l(e[1]),i=l(e[2]),o=l(e[3]);return(24===n?0===i&&0===o:o>=0&&o<60&&i>=0&&i<60&&n>=0&&n<25)?n*r.vh+i*r.yJ+1e3*o:NaN}(m.time)))return new Date(NaN);if(m.timezone){if(isNaN(d=function(t){if("Z"===t)return 0;let e=t.match(u);if(!e)return 0;let n="+"===e[1]?-1:1,i=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return o>=0&&o<=59?n*(i*r.vh+o*r.yJ):NaN}(m.timezone)))return new Date(NaN)}else{let t=new Date(y+v),e=new Date(0);return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e}return new Date(y+v+d)}let o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,a=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(t){return t?parseInt(t):1}function l(t){return t&&parseFloat(t.replace(",","."))||0}let h=[31,null,31,30,31,30,31,31,30,31,30,31];function f(t){return t%400==0||t%4==0&&t%100!=0}},9649:function(t,e,n){"use strict";function r(t){let e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):new Date("number"==typeof t||"[object Number]"===e||"string"==typeof t||"[object String]"===e?t:NaN)}n.d(e,{Q:function(){return r}})},3810:function(t,e,n){"use strict";let r;function i(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}n.d(e,{E:function(){return op}});let o=t=>Array.isArray(t);function s(t,e){if(!Array.isArray(e))return!1;let n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function a(t){return"string"==typeof t||Array.isArray(t)}function u(t){let e=[{},{}];return null==t||t.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function c(t,e,n,r){if("function"==typeof e){let[i,o]=u(r);e=e(void 0!==n?n:t.custom,i,o)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){let[i,o]=u(r);e=e(void 0!==n?n:t.custom,i,o)}return e}function l(t,e,n){let r=t.getProps();return c(r,e,void 0!==n?n:r.custom,t)}let h=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f=["initial",...h];function d(t){let e;return()=>(void 0===e&&(e=t()),e)}let p=d(()=>void 0!==window.ScrollTimeline);class m{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){let n=this.animations.map(n=>p()&&n.attachTimeline?n.attachTimeline(t):"function"==typeof e?e(n):void 0);return()=>{n.forEach((t,e)=>{t&&t(),this.animations[e].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class y extends m{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function v(t,e){return t?t[e]||t.default||t:void 0}function g(t){let e=0,n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e>=2e4?1/0:e}function b(t){return"function"==typeof t}function w(t,e){t.timeline=e,t.onfinish=null}let x=t=>Array.isArray(t)&&"number"==typeof t[0],_={linearEasing:void 0},k=function(t,e){let n=d(t);return()=>{var t;return null!==(t=_[e])&&void 0!==t?t:n()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),P=(t,e,n)=>{let r=e-t;return 0===r?1:(n-t)/r},E=(t,e,n=10)=>{let r="",i=Math.max(Math.round(e/n),2);for(let e=0;e<i;e++)r+=t(P(0,i-1,e))+", ";return`linear(${r.substring(0,r.length-2)})`},S=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,O={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:S([0,.65,.55,1]),circOut:S([.55,0,1,.45]),backIn:S([.31,.01,.66,-.59]),backOut:S([.33,1.53,.69,.99])},A={x:!1,y:!1};function D(t,e){let n=function(t,e,n){if(t instanceof Element)return[t];if("string"==typeof t){let e=document.querySelectorAll(t);return e?Array.from(e):[]}return Array.from(t)}(t),r=new AbortController;return[n,{passive:!0,...e,signal:r.signal},()=>r.abort()]}function T(t){return e=>{"touch"===e.pointerType||A.x||A.y||t(e)}}let C=(t,e)=>!!e&&(t===e||C(t,e.parentElement)),j=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,I=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),M=new WeakSet;function R(t){return e=>{"Enter"===e.key&&t(e)}}function B(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}let $=(t,e)=>{let n=t.currentTarget;if(!n)return;let r=R(()=>{if(M.has(n))return;B(n,"down");let t=R(()=>{B(n,"up")});n.addEventListener("keyup",t,e),n.addEventListener("blur",()=>B(n,"cancel"),e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function N(t){return j(t)&&!(A.x||A.y)}let F=t=>1e3*t,q=t=>t/1e3,L=t=>t,K=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],U=new Set(K),V=new Set(["width","height","top","left","right","bottom",...K]),z=t=>!!(t&&"object"==typeof t&&t.mix&&t.toValue),W=t=>o(t)?t[t.length-1]||0:t,Q={skipAnimations:!1,useManualTiming:!1},H=["read","resolveKeyframes","update","preRender","render","postRender"];function Y(t,e){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=H.reduce((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1};function a(e){o.has(e)&&(u.schedule(e),t()),e(s)}let u={schedule:(t,i=!1,s=!1)=>{let a=s&&r?e:n;return i&&o.add(t),a.has(t)||a.add(t),t},cancel:t=>{n.delete(t),o.delete(t)},process:t=>{if(s=t,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,u.process(t))}};return u}(o),t),{}),{read:a,resolveKeyframes:u,update:c,preRender:l,render:h,postRender:f}=s,d=()=>{let o=Q.useManualTiming?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),l.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(d))},p=()=>{n=!0,r=!0,i.isProcessing||t(d)};return{schedule:H.reduce((t,e)=>{let r=s[e];return t[e]=(t,e=!1,i=!1)=>(n||p(),r.schedule(t,e,i)),t},{}),cancel:t=>{for(let e=0;e<H.length;e++)s[H[e]].cancel(t)},state:i,steps:s}}let{schedule:G,cancel:X,state:J,steps:Z}=Y("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:L,!0);function tt(){r=void 0}let te={now:()=>(void 0===r&&te.set(J.isProcessing||Q.useManualTiming?J.timestamp:performance.now()),r),set:t=>{r=t,queueMicrotask(tt)}};function tn(t,e){-1===t.indexOf(e)&&t.push(e)}function tr(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}class ti{constructor(){this.subscriptions=[]}add(t){return tn(this.subscriptions,t),()=>tr(this.subscriptions,t)}notify(t,e,n){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(t,e,n)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let to=t=>!isNaN(parseFloat(t)),ts={current:void 0};class ta{constructor(t,e={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,e=!0)=>{let n=te.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=te.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=to(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ti);let n=this.events[t].add(e);return"change"===t?()=>{n(),G.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ts.current&&ts.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t;let e=te.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,30);return t=parseFloat(this.current)-parseFloat(this.prevFrameValue),n?1e3/n*t:0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tu(t,e){return new ta(t,e)}let tc=t=>!!(t&&t.getVelocity);function tl(t,e){let n=t.getValue("willChange");if(tc(n)&&n.add)return n.add(e)}let th=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tf="data-"+th("framerAppearId"),td={current:!1},tp=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function tm(t,e,n,r){if(t===e&&n===r)return L;let i=e=>(function(t,e,n,r,i){let o,s;let a=0;do(o=tp(s=e+(n-e)/2,r,i)-t)>0?n=s:e=s;while(Math.abs(o)>1e-7&&++a<12);return s})(e,0,1,t,n);return t=>0===t||1===t?t:tp(i(t),e,r)}let ty=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tv=t=>e=>1-t(1-e),tg=tm(.33,1.53,.69,.99),tb=tv(tg),tw=ty(tb),tx=t=>(t*=2)<1?.5*tb(t):.5*(2-Math.pow(2,-10*(t-1))),t_=t=>1-Math.sin(Math.acos(t)),tk=tv(t_),tP=ty(t_),tE=t=>/^0[^.\s]+$/u.test(t),tS=(t,e,n)=>n>e?e:n<t?t:n,tO={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},tA={...tO,transform:t=>tS(0,1,t)},tD={...tO,default:1},tT=t=>Math.round(1e5*t)/1e5,tC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,tj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tI=(t,e)=>n=>!!("string"==typeof n&&tj.test(n)&&n.startsWith(t)||e&&null!=n&&Object.prototype.hasOwnProperty.call(n,e)),tM=(t,e,n)=>r=>{if("string"!=typeof r)return r;let[i,o,s,a]=r.match(tC);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},tR=t=>tS(0,255,t),tB={...tO,transform:t=>Math.round(tR(t))},t$={test:tI("rgb","red"),parse:tM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tB.transform(t)+", "+tB.transform(e)+", "+tB.transform(n)+", "+tT(tA.transform(r))+")"},tN={test:tI("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:t$.transform},tF=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),tq=tF("deg"),tL=tF("%"),tK=tF("px"),tU=tF("vh"),tV=tF("vw"),tz={...tL,parse:t=>tL.parse(t)/100,transform:t=>tL.transform(100*t)},tW={test:tI("hsl","hue"),parse:tM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+tL.transform(tT(e))+", "+tL.transform(tT(n))+", "+tT(tA.transform(r))+")"},tQ={test:t=>t$.test(t)||tN.test(t)||tW.test(t),parse:t=>t$.test(t)?t$.parse(t):tW.test(t)?tW.parse(t):tN.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?t$.transform(t):tW.transform(t)},tH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tY="number",tG="color",tX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tJ(t){let e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[],o=0,s=e.replace(tX,t=>(tQ.test(t)?(r.color.push(o),i.push(tG),n.push(tQ.parse(t))):t.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(t)):(r.number.push(o),i.push(tY),n.push(parseFloat(t))),++o,"${}")).split("${}");return{values:n,split:s,indexes:r,types:i}}function tZ(t){return tJ(t).values}function t0(t){let{split:e,types:n}=tJ(t),r=e.length;return t=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],void 0!==t[o]){let e=n[o];e===tY?i+=tT(t[o]):e===tG?i+=tQ.transform(t[o]):i+=t[o]}return i}}let t1=t=>"number"==typeof t?0:t,t2={test:function(t){var e,n;return isNaN(t)&&"string"==typeof t&&((null===(e=t.match(tC))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(tH))||void 0===n?void 0:n.length)||0)>0},parse:tZ,createTransformer:t0,getAnimatableNone:function(t){let e=tZ(t);return t0(t)(e.map(t1))}},t3=new Set(["brightness","contrast","saturate","opacity"]);function t5(t){let[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[r]=n.match(tC)||[];if(!r)return t;let i=n.replace(r,""),o=t3.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}let t4=/\b([a-z-]*)\(.*?\)/gu,t6={...t2,getAnimatableNone:t=>{let e=t.match(t4);return e?e.map(t5).join(" "):t}},t8={...tO,transform:Math.round},t7={borderWidth:tK,borderTopWidth:tK,borderRightWidth:tK,borderBottomWidth:tK,borderLeftWidth:tK,borderRadius:tK,radius:tK,borderTopLeftRadius:tK,borderTopRightRadius:tK,borderBottomRightRadius:tK,borderBottomLeftRadius:tK,width:tK,maxWidth:tK,height:tK,maxHeight:tK,top:tK,right:tK,bottom:tK,left:tK,padding:tK,paddingTop:tK,paddingRight:tK,paddingBottom:tK,paddingLeft:tK,margin:tK,marginTop:tK,marginRight:tK,marginBottom:tK,marginLeft:tK,backgroundPositionX:tK,backgroundPositionY:tK,rotate:tq,rotateX:tq,rotateY:tq,rotateZ:tq,scale:tD,scaleX:tD,scaleY:tD,scaleZ:tD,skew:tq,skewX:tq,skewY:tq,distance:tK,translateX:tK,translateY:tK,translateZ:tK,x:tK,y:tK,z:tK,perspective:tK,transformPerspective:tK,opacity:tA,originX:tz,originY:tz,originZ:tK,zIndex:t8,size:tK,fillOpacity:tA,strokeOpacity:tA,numOctaves:t8},t9={...t7,color:tQ,backgroundColor:tQ,outlineColor:tQ,fill:tQ,stroke:tQ,borderColor:tQ,borderTopColor:tQ,borderRightColor:tQ,borderBottomColor:tQ,borderLeftColor:tQ,filter:t6,WebkitFilter:t6},et=t=>t9[t];function ee(t,e){let n=et(t);return n!==t6&&(n=t2),n.getAnimatableNone?n.getAnimatableNone(e):void 0}let en=new Set(["auto","none","0"]),er=t=>t===tO||t===tK,ei=(t,e)=>parseFloat(t.split(", ")[e]),eo=(t,e)=>(n,{transform:r})=>{if("none"===r||!r)return 0;let i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ei(i[1],e);{let e=r.match(/^matrix\((.+)\)$/u);return e?ei(e[1],t):0}},es=new Set(["x","y","z"]),ea=K.filter(t=>!es.has(t)),eu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:eo(4,13),y:eo(5,14)};eu.translateX=eu.x,eu.translateY=eu.y;let ec=new Set,el=!1,eh=!1;function ef(){if(eh){let t=Array.from(ec).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),n=new Map;e.forEach(t=>{let e=function(t){let e=[];return ea.forEach(n=>{let r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}(t);e.length&&(n.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();let e=n.get(t);e&&e.forEach(([e,n])=>{var r;null===(r=t.getValue(e))||void 0===r||r.set(n)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}eh=!1,el=!1,ec.forEach(t=>t.complete()),ec.clear()}function ed(){ec.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(eh=!0)})}class ep{constructor(t,e,n,r,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ec.add(this),el||(el=!0,G.read(ed),G.resolveKeyframes(ef))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i]){if(0===i){let i=null==r?void 0:r.get(),o=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){let r=n.readValue(e,o);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=o),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ec.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ec.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let em=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ey=t=>e=>"string"==typeof e&&e.startsWith(t),ev=ey("--"),eg=ey("var(--"),eb=t=>!!eg(t)&&ew.test(t.split("/*")[0].trim()),ew=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,e_=t=>e=>e.test(t),ek=[tO,tK,tL,tq,tV,tU,{test:t=>"auto"===t,parse:t=>t}],eP=t=>ek.find(e_(t));class eE extends ep{constructor(t,e,n,r,i){super(t,e,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let n=0;n<t.length;n++){let r=t[n];if("string"==typeof r&&eb(r=r.trim())){let i=function t(e,n,r=1){L(r<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[i,o]=function(t){let e=ex.exec(t);if(!e)return[,];let[,n,r,i]=e;return[`--${null!=n?n:r}`,i]}(e);if(!i)return;let s=window.getComputedStyle(n).getPropertyValue(i);if(s){let t=s.trim();return em(t)?parseFloat(t):t}return eb(o)?t(o,n,r+1):o}(r,e.current);void 0!==i&&(t[n]=i),n===t.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!V.has(n)||2!==t.length)return;let[r,i]=t,o=eP(r),s=eP(i);if(o!==s){if(er(o)&&er(s))for(let e=0;e<t.length;e++){let n=t[e];"string"==typeof n&&(t[e]=parseFloat(n))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:e}=this,n=[];for(let e=0;e<t.length;e++){var r;("number"==typeof(r=t[e])?0===r:null===r||"none"===r||"0"===r||tE(r))&&n.push(e)}n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){let e=t[i];"string"==typeof e&&!en.has(e)&&tJ(e).values.length&&(r=t[i]),i++}if(r&&n)for(let i of e)t[i]=ee(n,r)}(t,n,e)}measureInitialState(){let{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;let r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;let{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);let o=r.length-1,s=r[o];r[o]=eu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}let eS=(t,e)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(t2.test(t)||"0"===t)&&!t.startsWith("url(")),eO=t=>null!==t;function eA(t,{repeat:e,repeatType:n="loop"},r){let i=t.filter(eO),o=e&&"loop"!==n&&e%2==1?0:i.length-1;return o&&void 0!==r?r:i[o]}class eD{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=te.now(),this.options={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:i,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(ed(),ef()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=te.now(),this.hasAttemptedResolve=!0;let{name:n,type:r,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:u}=this.options;if(!u&&!function(t,e,n,r){let i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;let o=t[t.length-1],s=eS(i,e),a=eS(o,e);return L(s===a,`You are trying to animate ${e} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!!s&&!!a&&(function(t){let e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||b(n))&&r)}(t,n,r,i)){if(td.current||!o){a&&a(eA(t,this.options,e)),s&&s(),this.resolveFinishedPromise();return}this.options.duration=0}let c=this.initPlayback(t,e);!1!==c&&(this._resolved={keyframes:t,finalKeyframe:e,...c},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}let eT=(t,e,n)=>t+(e-t)*n;function eC(t,e,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(e-t)*6*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ej(t,e){return n=>n>0?e:t}let eI=(t,e,n)=>{let r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},eM=[tN,t$,tW],eR=t=>eM.find(e=>e.test(t));function eB(t){let e=eR(t);if(L(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`),!e)return!1;let n=e.parse(t);return e===tW&&(n=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,o=0,s=0;if(e/=100){let r=n<.5?n*(1+e):n+e-n*e,a=2*n-r;i=eC(a,r,t+1/3),o=eC(a,r,t),s=eC(a,r,t-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}(n)),n}let e$=(t,e)=>{let n=eB(t),r=eB(e);if(!n||!r)return ej(t,e);let i={...n};return t=>(i.red=eI(n.red,r.red,t),i.green=eI(n.green,r.green,t),i.blue=eI(n.blue,r.blue,t),i.alpha=eT(n.alpha,r.alpha,t),t$.transform(i))},eN=(t,e)=>n=>e(t(n)),eF=(...t)=>t.reduce(eN),eq=new Set(["none","hidden"]);function eL(t,e){return n=>eT(t,e,n)}function eK(t){return"number"==typeof t?eL:"string"==typeof t?eb(t)?ej:tQ.test(t)?e$:ez:Array.isArray(t)?eU:"object"==typeof t?tQ.test(t)?e$:eV:ej}function eU(t,e){let n=[...t],r=n.length,i=t.map((t,n)=>eK(t)(t,e[n]));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function eV(t,e){let n={...t,...e},r={};for(let i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=eK(t[i])(t[i],e[i]));return t=>{for(let e in r)n[e]=r[e](t);return n}}let ez=(t,e)=>{let n=t2.createTransformer(e),r=tJ(t),i=tJ(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?eq.has(t)&&!i.values.length||eq.has(e)&&!r.values.length?eq.has(t)?n=>n<=0?t:e:n=>n>=1?e:t:eF(eU(function(t,e){var n;let r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){let s=e.types[o],a=t.indexes[s][i[s]],u=null!==(n=t.values[a])&&void 0!==n?n:0;r[o]=u,i[s]++}return r}(r,i),i.values),n):(L(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),ej(t,e))};function eW(t,e,n){return"number"==typeof t&&"number"==typeof e&&"number"==typeof n?eT(t,e,n):eK(t)(t,e)}function eQ(t,e,n){var r,i;let o=Math.max(e-5,0);return r=n-t(o),(i=e-o)?1e3/i*r:0}let eH={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function eY(t,e){return t*Math.sqrt(1-e*e)}let eG=["duration","bounce"],eX=["stiffness","damping","mass"];function eJ(t,e){return e.some(e=>void 0!==t[e])}function eZ(t=eH.visualDuration,e=eH.bounce){let n;let r="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t,{restSpeed:i,restDelta:o}=r,s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],u={done:!1,value:s},{stiffness:c,damping:l,mass:h,duration:f,velocity:d,isResolvedFromDuration:p}=function(t){let e={velocity:eH.velocity,stiffness:eH.stiffness,damping:eH.damping,mass:eH.mass,isResolvedFromDuration:!1,...t};if(!eJ(t,eX)&&eJ(t,eG)){if(t.visualDuration){let n=2*Math.PI/(1.2*t.visualDuration),r=n*n,i=2*tS(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:eH.mass,stiffness:r,damping:i}}else{let n=function({duration:t=eH.duration,bounce:e=eH.bounce,velocity:n=eH.velocity,mass:r=eH.mass}){let i,o;L(t<=F(eH.maxDuration),"Spring duration must be 10 seconds or less");let s=1-e;s=tS(eH.minDamping,eH.maxDamping,s),t=tS(eH.minDuration,eH.maxDuration,q(t)),s<1?(i=e=>{let r=e*s,i=r*t;return .001-(r-n)/eY(e,s)*Math.exp(-i)},o=e=>{let r=e*s*t,o=Math.pow(s,2)*Math.pow(e,2)*t,a=eY(Math.pow(e,2),s);return(r*n+n-o)*Math.exp(-r)*(-i(e)+.001>0?-1:1)/a}):(i=e=>-.001+Math.exp(-e*t)*((e-n)*t+1),o=e=>t*t*(n-e)*Math.exp(-e*t));let a=function(t,e,n){let r=n;for(let n=1;n<12;n++)r-=t(r)/e(r);return r}(i,o,5/t);if(t=F(t),isNaN(a))return{stiffness:eH.stiffness,damping:eH.damping,duration:t};{let e=Math.pow(a,2)*r;return{stiffness:e,damping:2*s*Math.sqrt(r*e),duration:t}}}(t);(e={...e,...n,mass:eH.mass}).isResolvedFromDuration=!0}}return e}({...r,velocity:-q(r.velocity||0)}),m=d||0,y=l/(2*Math.sqrt(c*h)),v=a-s,b=q(Math.sqrt(c/h)),w=5>Math.abs(v);if(i||(i=w?eH.restSpeed.granular:eH.restSpeed.default),o||(o=w?eH.restDelta.granular:eH.restDelta.default),y<1){let t=eY(b,y);n=e=>a-Math.exp(-y*b*e)*((m+y*b*v)/t*Math.sin(t*e)+v*Math.cos(t*e))}else if(1===y)n=t=>a-Math.exp(-b*t)*(v+(m+b*v)*t);else{let t=b*Math.sqrt(y*y-1);n=e=>{let n=Math.exp(-y*b*e),r=Math.min(t*e,300);return a-n*((m+y*b*v)*Math.sinh(r)+t*v*Math.cosh(r))/t}}let x={calculatedDuration:p&&f||null,next:t=>{let e=n(t);if(p)u.done=t>=f;else{let r=0;y<1&&(r=0===t?F(m):eQ(n,t,e));let s=Math.abs(r)<=i,c=Math.abs(a-e)<=o;u.done=s&&c}return u.value=u.done?a:e,u},toString:()=>{let t=Math.min(g(x),2e4),e=E(e=>x.next(t*e).value,t,30);return t+"ms "+e}};return x}function e0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:u,restDelta:c=.5,restSpeed:l}){let h,f;let d=t[0],p={done:!1,value:d},m=t=>void 0!==a&&t<a||void 0!==u&&t>u,y=t=>void 0===a?u:void 0===u?a:Math.abs(a-t)<Math.abs(u-t)?a:u,v=n*e,g=d+v,b=void 0===s?g:s(g);b!==g&&(v=b-d);let w=t=>-v*Math.exp(-t/r),x=t=>b+w(t),_=t=>{let e=w(t),n=x(t);p.done=Math.abs(e)<=c,p.value=p.done?b:n},k=t=>{m(p.value)&&(h=t,f=eZ({keyframes:[p.value,y(p.value)],velocity:eQ(x,t,p.value),damping:i,stiffness:o,restDelta:c,restSpeed:l}))};return k(0),{calculatedDuration:null,next:t=>{let e=!1;return(f||void 0!==h||(e=!0,_(t),k(t)),void 0!==h&&t>=h)?f.next(t-h):(e||_(t),p)}}}let e1=tm(.42,0,1,1),e2=tm(0,0,.58,1),e3=tm(.42,0,.58,1),e5=t=>Array.isArray(t)&&"number"!=typeof t[0],e4={linear:L,easeIn:e1,easeInOut:e3,easeOut:e2,circIn:t_,circInOut:tP,circOut:tk,backIn:tb,backInOut:tw,backOut:tg,anticipate:tx},e6=t=>{if(x(t)){L(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,n,r,i]=t;return tm(e,n,r,i)}return"string"==typeof t?(L(void 0!==e4[t],`Invalid easing type '${t}'`),e4[t]):t};function e8({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){let i=e5(r)?r.map(e6):e6(r),o={done:!1,value:e[0]},s=function(t,e,{clamp:n=!0,ease:r,mixer:i}={}){let o=t.length;if(L(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];if(2===o&&e[0]===e[1])return()=>e[1];let s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());let a=function(t,e,n){let r=[],i=n||eW,o=t.length-1;for(let n=0;n<o;n++){let o=i(t[n],t[n+1]);e&&(o=eF(Array.isArray(e)?e[n]||L:e,o)),r.push(o)}return r}(e,r,i),u=a.length,c=n=>{if(s&&n<t[0])return e[0];let r=0;if(u>1)for(;r<t.length-2&&!(n<t[r+1]);r++);let i=P(t[r],t[r+1],n);return a[r](i)};return n?e=>c(tS(t[0],t[o-1],e)):c}((n&&n.length===e.length?n:function(t){let e=[0];return function(t,e){let n=t[t.length-1];for(let r=1;r<=e;r++){let i=P(0,e,r);t.push(eT(n,1,i))}}(e,t.length-1),e}(e)).map(e=>e*t),e,{ease:Array.isArray(i)?i:e.map(()=>i||e3).splice(0,e.length-1)});return{calculatedDuration:t,next:e=>(o.value=s(e),o.done=e>=t,o)}}let e7=t=>{let e=({timestamp:e})=>t(e);return{start:()=>G.update(e,!0),stop:()=>X(e),now:()=>J.isProcessing?J.timestamp:te.now()}},e9={decay:e0,inertia:e0,tween:e8,keyframes:e8,spring:eZ},nt=t=>t/100;class ne extends eD{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:t}=this.options;t&&t()};let{name:e,motionValue:n,element:r,keyframes:i}=this.options,o=(null==r?void 0:r.KeyframeResolver)||ep;this.resolver=new o(i,(t,e)=>this.onKeyframesResolved(t,e),e,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){let e,n;let{type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s,velocity:a=0}=this.options,u=b(r)?r:e9[r]||e8;u!==e8&&"number"!=typeof t[0]&&(e=eF(nt,eW(t[0],t[1])),t=[0,100]);let c=u({...this.options,keyframes:t});"mirror"===s&&(n=u({...this.options,keyframes:[...t].reverse(),velocity:-a})),null===c.calculatedDuration&&(c.calculatedDuration=g(c));let{calculatedDuration:l}=c,h=l+o;return{generator:c,mirroredGenerator:n,mapPercentToKeyframes:e,calculatedDuration:l,resolvedDuration:h,totalDuration:h*(i+1)-o}}onPostResolved(){let{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){let{resolved:n}=this;if(!n){let{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}let{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:u,totalDuration:c,resolvedDuration:l}=n;if(null===this.startTime)return i.next(0);let{delay:h,repeat:f,repeatType:d,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;let y=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>c;this.currentTime=Math.max(y,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let g=this.currentTime,b=i;if(f){let t=Math.min(this.currentTime,c)/l,e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,(e=Math.min(e,f+1))%2&&("reverse"===d?(n=1-n,p&&(n-=p/l)):"mirror"===d&&(b=o)),g=tS(0,1,n)*l}let w=v?{done:!1,value:a[0]}:b.next(g);s&&(w.value=s(w.value));let{done:x}=w;v||null===u||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);let _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return _&&void 0!==r&&(w.value=eA(a,this.options,r)),m&&m(w.value),_&&this.finish(),w}get duration(){let{resolved:t}=this;return t?q(t.calculatedDuration):0}get time(){return q(this.currentTime)}set time(t){t=F(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){let e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=q(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:t=e7,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),e&&e();let r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}let nn=new Set(["opacity","clipPath","filter","transform"]),nr=d(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ni={anticipate:tx,backInOut:tw,circInOut:tP};class no extends eD{constructor(t){super(t);let{name:e,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new eE(i,(t,e)=>this.onKeyframesResolved(t,e),e,n,r),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:u,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if("string"==typeof o&&k()&&o in ni&&(o=ni[o]),b((n=this.options).type)||"spring"===n.type||!function t(e){return!!("function"==typeof e&&k()||!e||"string"==typeof e&&(e in O||k())||x(e)||Array.isArray(e)&&e.every(t))}(n.ease)){let{onComplete:e,onUpdate:n,motionValue:a,element:u,...c}=this.options,l=function(t,e){let n=new ne({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0}),r={done:!1,value:t[0]},i=[],o=0;for(;!r.done&&o<2e4;)i.push((r=n.sample(o)).value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(t,c);1===(t=l.keyframes).length&&(t[1]=t[0]),r=l.duration,i=l.times,o=l.ease,s="keyframes"}let l=function(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:u}={}){let c={[e]:n};u&&(c.offset=u);let l=function t(e,n){if(e)return"function"==typeof e&&k()?E(e,n):x(e)?S(e):Array.isArray(e)?e.map(e=>t(e,n)||O.easeOut):O[e]}(a,i);return Array.isArray(l)&&(c.easing=l),t.animate(c,{delay:r,duration:i,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(a.owner.current,u,t,{...this.options,duration:r,times:i,ease:o});return l.startTime=null!=c?c:this.calcStartTime(),this.pendingTimeline?(w(l,this.pendingTimeline),this.pendingTimeline=void 0):l.onfinish=()=>{let{onComplete:n}=this.options;a.set(eA(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:l,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){let{resolved:t}=this;if(!t)return 0;let{duration:e}=t;return q(e)}get time(){let{resolved:t}=this;if(!t)return 0;let{animation:e}=t;return q(e.currentTime||0)}set time(t){let{resolved:e}=this;if(!e)return;let{animation:n}=e;n.currentTime=F(t)}get speed(){let{resolved:t}=this;if(!t)return 1;let{animation:e}=t;return e.playbackRate}set speed(t){let{resolved:e}=this;if(!e)return;let{animation:n}=e;n.playbackRate=t}get state(){let{resolved:t}=this;if(!t)return"idle";let{animation:e}=t;return e.playState}get startTime(){let{resolved:t}=this;if(!t)return null;let{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){let{resolved:e}=this;if(!e)return L;let{animation:n}=e;w(n,t)}else this.pendingTimeline=t;return L}play(){if(this.isStopped)return;let{resolved:t}=this;if(!t)return;let{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){let{resolved:t}=this;if(!t)return;let{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:t}=this;if(!t)return;let{animation:e,keyframes:n,duration:r,type:i,ease:o,times:s}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){let{motionValue:t,onUpdate:e,onComplete:a,element:u,...c}=this.options,l=new ne({...c,keyframes:n,duration:r,type:i,ease:o,times:s,isGenerator:!0}),h=F(this.time);t.setWithVelocity(l.sample(h-10).value,l.sample(h).value,10)}let{onStop:a}=this.options;a&&a(),this.cancel()}complete(){let{resolved:t}=this;t&&t.animation.finish()}cancel(){let{resolved:t}=this;t&&t.animation.cancel()}static supports(t){let{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:u}=e.owner.getProps();return nr()&&n&&nn.has(n)&&!a&&!u&&!r&&"mirror"!==i&&0!==o&&"inertia"!==s}}let ns={type:"spring",stiffness:500,damping:25,restSpeed:10},na=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),nu={type:"keyframes",duration:.8},nc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nl=(t,{keyframes:e})=>e.length>2?nu:U.has(t)?t.startsWith("scale")?na(e[1]):ns:nc,nh=(t,e,n,r={},i,o)=>s=>{let a=v(r,t)||{},u=a.delay||r.delay||0,{elapsed:c=0}=r;c-=F(u);let l={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:t=>{e.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};!function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:u,elapsed:c,...l}){return!!Object.keys(l).length}(a)&&(l={...l,...nl(t,l)}),l.duration&&(l.duration=F(l.duration)),l.repeatDelay&&(l.repeatDelay=F(l.repeatDelay)),void 0!==l.from&&(l.keyframes[0]=l.from);let h=!1;if(!1!==l.type&&(0!==l.duration||l.repeatDelay)||(l.duration=0,0!==l.delay||(h=!0)),(td.current||Q.skipAnimations)&&(h=!0,l.duration=0,l.delay=0),h&&!o&&void 0!==e.get()){let t=eA(l.keyframes,a);if(void 0!==t)return G.update(()=>{l.onUpdate(t),l.onComplete()}),new y([])}return!o&&no.supports(l)?new no(l):new ne(l)};function nf(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(s=r);let c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(let e in u){let r=t.getValue(e,null!==(o=t.latestValues[e])&&void 0!==o?o:null),i=u[e];if(void 0===i||h&&function({protectedKeys:t,needsAnimating:e},n){let r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}(h,e))continue;let a={delay:n,...v(s||{},e)},l=!1;if(window.MotionHandoffAnimation){let n=t.props[tf];if(n){let t=window.MotionHandoffAnimation(n,e,G);null!==t&&(a.startTime=t,l=!0)}}tl(t,e),r.start(nh(e,r,i,t.shouldReduceMotion&&V.has(e)?{type:!1}:a,t,l));let f=r.animation;f&&c.push(f)}return a&&Promise.all(c).then(()=>{G.update(()=>{a&&function(t,e){let{transitionEnd:n={},transition:r={},...i}=l(t,e)||{};for(let e in i={...i,...n}){let n=W(i[e]);t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,tu(n))}}(t,a)})}),c}function nd(t,e,n={}){var r;let i=l(t,e,"exit"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0),{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);let s=i?()=>Promise.all(nf(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(r=0)=>{let{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(t,e,n=0,r=0,i=1,o){let s=[],a=(t.variantChildren.size-1)*r,u=1===i?(t=0)=>t*r:(t=0)=>a-t*r;return Array.from(t.variantChildren).sort(np).forEach((t,r)=>{t.notify("AnimationStart",e),s.push(nd(t,e,{...o,delay:n+u(r)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(s)}(t,e,i+r,s,a,n)}:()=>Promise.resolve(),{when:u}=o;if(!u)return Promise.all([s(),a(n.delay)]);{let[t,e]="beforeChildren"===u?[s,a]:[a,s];return t().then(()=>e())}}function np(t,e){return t.sortNodePosition(e)}let nm=f.length,ny=[...h].reverse(),nv=h.length;function ng(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nb(){return{animate:ng(!0),whileInView:ng(),whileHover:ng(),whileTap:ng(),whileDrag:ng(),whileFocus:ng(),exit:ng()}}class nw{constructor(t){this.isMounted=!1,this.node=t}update(){}}class nx extends nw{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(({animation:e,options:n})=>(function(t,e,n={}){let r;if(t.notify("AnimationStart",e),Array.isArray(e))r=Promise.all(e.map(e=>nd(t,e,n)));else if("string"==typeof e)r=nd(t,e,n);else{let i="function"==typeof e?l(t,e,n.custom):e;r=Promise.all(nf(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})})(t,e,n))),n=nb(),r=!0,u=e=>(n,r)=>{var i;let o=l(t,r,"exit"===e?null===(i=t.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){let{transition:t,transitionEnd:e,...r}=o;n={...n,...r,...e}}return n};function c(c){let{props:l}=t,h=function t(e){if(!e)return;if(!e.isControllingVariants){let n=e.parent&&t(e.parent)||{};return void 0!==e.props.initial&&(n.initial=e.props.initial),n}let n={};for(let t=0;t<nm;t++){let r=f[t],i=e.props[r];(a(i)||!1===i)&&(n[r]=i)}return n}(t.parent)||{},d=[],p=new Set,m={},y=1/0;for(let e=0;e<nv;e++){var v;let f=ny[e],g=n[f],b=void 0!==l[f]?l[f]:h[f],w=a(b),x=f===c?g.isActive:null;!1===x&&(y=e);let _=b===h[f]&&b!==l[f]&&w;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...m},!g.isActive&&null===x||!b&&!g.prevProp||i(b)||"boolean"==typeof b)continue;let k=(v=g.prevProp,"string"==typeof b?b!==v:!!Array.isArray(b)&&!s(b,v)),P=k||f===c&&g.isActive&&!_&&w||e>y&&w,E=!1,S=Array.isArray(b)?b:[b],O=S.reduce(u(f),{});!1===x&&(O={});let{prevResolvedValues:A={}}=g,D={...A,...O},T=e=>{P=!0,p.has(e)&&(E=!0,p.delete(e)),g.needsAnimating[e]=!0;let n=t.getValue(e);n&&(n.liveStyle=!1)};for(let t in D){let e=O[t],n=A[t];if(!m.hasOwnProperty(t))(o(e)&&o(n)?s(e,n):e===n)?void 0!==e&&p.has(t)?T(t):g.protectedKeys[t]=!0:null!=e?T(t):p.add(t)}g.prevProp=b,g.prevResolvedValues=O,g.isActive&&(m={...m,...O}),r&&t.blockInitialAnimation&&(P=!1);let C=!(_&&k)||E;P&&C&&d.push(...S.map(t=>({animation:t,options:{type:f}})))}if(p.size){let e={};p.forEach(n=>{let r=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=null!=r?r:null}),d.push({animation:e})}let g=!!d.length;return r&&(!1===l.initial||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(d):Promise.resolve()}return{animateChanges:c,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null===(i=t.variantChildren)||void 0===i||i.forEach(t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)}),n[e].isActive=r;let o=c(e);for(let t in n)n[t].protectedKeys={};return o},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=nb(),r=!0}}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();i(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}let n_=0;class nk extends nw{constructor(){super(...arguments),this.id=n_++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;let r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}function nP(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function nE(t){return{point:{x:t.pageX,y:t.pageY}}}let nS=t=>e=>j(e)&&t(e,nE(e));function nO(t,e,n,r){return nP(t,e,nS(n),r)}let nA=(t,e)=>Math.abs(t-e);class nD{constructor(t,e,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var t,e;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let n=nj(this.lastMoveEventInfo,this.history),r=null!==this.startEvent,i=(t=n.offset,e={x:0,y:0},Math.sqrt(nA(t.x,e.x)**2+nA(t.y,e.y)**2)>=3);if(!r&&!i)return;let{point:o}=n,{timestamp:s}=J;this.history.push({...o,timestamp:s});let{onStart:a,onMove:u}=this.handlers;r||(a&&a(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),u&&u(this.lastMoveEvent,n)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=nT(e,this.transformPagePoint),G.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let o=nj("pointercancel"===t.type?this.lastMoveEventInfo:nT(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),r&&r(t,o)},!j(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;let o=nT(nE(t),this.transformPagePoint),{point:s}=o,{timestamp:a}=J;this.history=[{...s,timestamp:a}];let{onSessionStart:u}=e;u&&u(t,nj(o,this.history)),this.removeListeners=eF(nO(this.contextWindow,"pointermove",this.handlePointerMove),nO(this.contextWindow,"pointerup",this.handlePointerUp),nO(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),X(this.updatePoint)}}function nT(t,e){return e?{point:e(t.point)}:t}function nC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nj({point:t},e){return{point:t,delta:nC(t,nI(e)),offset:nC(t,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null,i=nI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>F(.1)));)n--;if(!r)return{x:0,y:0};let o=q(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};let s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(e,0)}}function nI(t){return t[t.length-1]}function nM(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function nR(t){return t.max-t.min}function nB(t,e,n,r=.5){t.origin=r,t.originPoint=eT(e.min,e.max,t.origin),t.scale=nR(n)/nR(e),t.translate=eT(n.min,n.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function n$(t,e,n,r){nB(t.x,e.x,n.x,r?r.originX:void 0),nB(t.y,e.y,n.y,r?r.originY:void 0)}function nN(t,e,n){t.min=n.min+e.min,t.max=t.min+nR(e)}function nF(t,e,n){t.min=e.min-n.min,t.max=t.min+nR(e)}function nq(t,e,n){nF(t.x,e.x,n.x),nF(t.y,e.y,n.y)}function nL(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function nK(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nU(t,e,n){return{min:nV(t,e),max:nV(t,n)}}function nV(t,e){return"number"==typeof t?t:t[e]||0}let nz=()=>({translate:0,scale:1,origin:0,originPoint:0}),nW=()=>({x:nz(),y:nz()}),nQ=()=>({min:0,max:0}),nH=()=>({x:nQ(),y:nQ()});function nY(t){return[t("x"),t("y")]}function nG({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nX(t){return void 0===t||1===t}function nJ({scale:t,scaleX:e,scaleY:n}){return!nX(t)||!nX(e)||!nX(n)}function nZ(t){return nJ(t)||n0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function n0(t){var e,n;return(e=t.x)&&"0%"!==e||(n=t.y)&&"0%"!==n}function n1(t,e,n,r,i){return void 0!==i&&(t=r+i*(t-r)),r+n*(t-r)+e}function n2(t,e=0,n=1,r,i){t.min=n1(t.min,e,n,r,i),t.max=n1(t.max,e,n,r,i)}function n3(t,{x:e,y:n}){n2(t.x,e.translate,e.scale,e.originPoint),n2(t.y,n.translate,n.scale,n.originPoint)}function n5(t,e){t.min=t.min+e,t.max=t.max+e}function n4(t,e,n,r,i=.5){let o=eT(t.min,t.max,i);n2(t,e,n,o,r)}function n6(t,e){n4(t.x,e.x,e.scaleX,e.scale,e.originX),n4(t.y,e.y,e.scaleY,e.scale,e.originY)}function n8(t,e){return nG(function(t,e){if(!e)return t;let n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}let n7=({current:t})=>t?t.ownerDocument.defaultView:null,n9=new WeakMap;class rt{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nH(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){let{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;let{dragSnapToOrigin:r}=this.getProps();this.panSession=new nD(t,{onSessionStart:t=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(nE(t).point)},onStart:(t,e)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===n||"y"===n?A[n]?null:(A[n]=!0,()=>{A[n]=!1}):A.x||A.y?null:(A.x=A.y=!0,()=>{A.x=A.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nY(t=>{let e=this.getAxisMotionValue(t).get()||0;if(tL.test(e)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[t];if(r){let t=nR(r);e=parseFloat(e)/100*t}}}this.originPoint[t]=e}),i&&G.postRender(()=>i(t,e)),tl(this.visualElement,"transform");let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(t,e)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:s}=e;if(r&&null===this.currentDirection){this.currentDirection=function(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.render(),o&&o(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>nY(t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:n7(this.visualElement)})}stop(t,e){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=e;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&G.postRender(()=>i(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){let{drag:r}=this.getProps();if(!n||!re(t,r,this.currentDirection))return;let i=this.getAxisMotionValue(t),o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,{min:e,max:n},r){return void 0!==e&&t<e?t=r?eT(e,t,r.min):Math.max(t,e):void 0!==n&&t>n&&(t=r?eT(n,t,r.max):Math.min(t,n)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;let{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,i=this.constraints;e&&nM(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(t,{top:e,left:n,bottom:r,right:i}){return{x:nL(t.x,n,i),y:nL(t.y,e,r)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:nU(t,"left","right"),y:nU(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nY(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){let n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(r.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nM(e))return!1;let r=e.current;L(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let o=function(t,e,n){let r=n8(t,n),{scroll:i}=e;return i&&(n5(r.x,i.offset.x),n5(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s={x:nK((t=i.layout.layoutBox).x,o.x),y:nK(t.y,o.y)};if(n){let t=n(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=nG(t))}return s}startAnimation(t){let{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{};return Promise.all(nY(s=>{if(!re(s,e,this.currentDirection))return;let u=a&&a[s]||{};o&&(u={min:0,max:0});let c={type:"inertia",velocity:n?t[s]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(s,c)})).then(s)}startAxisValueAnimation(t,e){let n=this.getAxisMotionValue(t);return tl(this.visualElement,t),n.start(nh(t,n,0,e,this.visualElement,!1))}stopAnimation(){nY(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nY(t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()})}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){let e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps();return n[e]||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){nY(e=>{let{drag:n}=this.getProps();if(!re(e,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){let{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-eT(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!nM(e)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};nY(t=>{let e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){let n=e.get();r[t]=function(t,e){let n=.5,r=nR(t),i=nR(e);return i>r?n=P(e.min,e.max-r,t.min):r>i&&(n=P(t.min,t.max-i,e.min)),tS(0,1,n)}({min:n,max:n},this.constraints[t])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),nY(e=>{if(!re(e,t,null))return;let n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(eT(i,o,r[e]))})}addListeners(){if(!this.visualElement.current)return;n9.set(this.visualElement,this);let t=nO(this.visualElement.current,"pointerdown",t=>{let{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)}),e=()=>{let{dragConstraints:t}=this.getProps();nM(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),G.read(e);let i=nP(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(nY(e=>{let n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),t(),r(),o&&o()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=.35,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function re(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}class rn extends nw{constructor(t){super(t),this.removeGroupControls=L,this.removeListeners=L,this.controls=new rt(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||L}unmount(){this.removeGroupControls(),this.removeListeners()}}let rr=t=>(e,n)=>{t&&G.postRender(()=>t(e,n))};class ri extends nw{constructor(){super(...arguments),this.removePointerDownListener=L}onPointerDown(t){this.session=new nD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n7(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:rr(t),onStart:rr(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&G.postRender(()=>r(t,e))}}}mount(){this.removePointerDownListener=nO(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var ro,rs,ra,ru=n(7437),rc=n(2265);let rl=(0,rc.createContext)(null),rh=(0,rc.createContext)({}),rf=(0,rc.createContext)({}),rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let rm={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!tK.test(t))return t;t=parseFloat(t)}let n=rp(t,e.target.x),r=rp(t,e.target.y);return`${n}% ${r}%`}},ry={},{schedule:rv,cancel:rg}=Y(queueMicrotask,!1);class rb extends rc.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;Object.assign(ry,rx),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent===i||(i?o.promote():o.relegate()||G.postRender(()=>{let t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rw(t){let[e,n]=function(t=!0){let e=(0,rc.useContext)(rl);if(null===e)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=e,o=(0,rc.useId)();(0,rc.useEffect)(()=>{t&&i(o)},[t]);let s=(0,rc.useCallback)(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}(),r=(0,rc.useContext)(rh);return(0,ru.jsx)(rb,{...t,layoutGroup:r,switchLayoutGroup:(0,rc.useContext)(rf),isPresent:e,safeToRemove:n})}let rx={borderRadius:{...rm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rm,borderTopRightRadius:rm,borderBottomLeftRadius:rm,borderBottomRightRadius:rm,boxShadow:{correct:(t,{treeScale:e,projectionDelta:n})=>{let r=t2.parse(t);if(r.length>5)return t;let i=t2.createTransformer(t),o="number"!=typeof r[0]?1:0,s=n.x.scale*e.x,a=n.y.scale*e.y;r[0+o]/=s,r[1+o]/=a;let u=eT(s,a,.5);return"number"==typeof r[2+o]&&(r[2+o]/=u),"number"==typeof r[3+o]&&(r[3+o]/=u),i(r)}}},r_=(t,e)=>t.depth-e.depth;class rk{constructor(){this.children=[],this.isDirty=!1}add(t){tn(this.children,t),this.isDirty=!0}remove(t){tr(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(r_),this.isDirty=!1,this.children.forEach(t)}}function rP(t){let e=tc(t)?t.get():t;return z(e)?e.toValue():e}let rE=["TopLeft","TopRight","BottomLeft","BottomRight"],rS=rE.length,rO=t=>"string"==typeof t?parseFloat(t):t,rA=t=>"number"==typeof t||tK.test(t);function rD(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let rT=rj(0,.5,tk),rC=rj(.5,.95,L);function rj(t,e,n){return r=>r<t?0:r>e?1:n(P(t,e,r))}function rI(t,e){t.min=e.min,t.max=e.max}function rM(t,e){rI(t.x,e.x),rI(t.y,e.y)}function rR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function rB(t,e,n,r,i){return t-=e,t=r+1/n*(t-r),void 0!==i&&(t=r+1/i*(t-r)),t}function r$(t,e,[n,r,i],o,s){!function(t,e=0,n=1,r=.5,i,o=t,s=t){if(tL.test(e)&&(e=parseFloat(e),e=eT(s.min,s.max,e/100)-s.min),"number"!=typeof e)return;let a=eT(o.min,o.max,r);t===o&&(a-=e),t.min=rB(t.min,e,n,a,i),t.max=rB(t.max,e,n,a,i)}(t,e[n],e[r],e[i],e.scale,o,s)}let rN=["x","scaleX","originX"],rF=["y","scaleY","originY"];function rq(t,e,n,r){r$(t.x,e,rN,n?n.x:void 0,r?r.x:void 0),r$(t.y,e,rF,n?n.y:void 0,r?r.y:void 0)}function rL(t){return 0===t.translate&&1===t.scale}function rK(t){return rL(t.x)&&rL(t.y)}function rU(t,e){return t.min===e.min&&t.max===e.max}function rV(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rz(t,e){return rV(t.x,e.x)&&rV(t.y,e.y)}function rW(t){return nR(t.x)/nR(t.y)}function rQ(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rH{constructor(){this.members=[]}add(t){tn(this.members,t),t.scheduleRender()}remove(t){if(tr(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e;let n=this.members.findIndex(e=>t===e);if(0===n)return!1;for(let t=n;t>=0;t--){let n=this.members[t];if(!1!==n.isPresent){e=n;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let rY={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},rG="undefined"!=typeof window&&void 0!==window.MotionDebug,rX=["","X","Y","Z"],rJ={visibility:"hidden"},rZ=0;function r0(t,e,n,r){let{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function r1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(t={},n=null==e?void 0:e()){this.id=rZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,rG&&(rY.totalNodes=rY.resolvedTargetDeltas=rY.recalculatedProjection=0),this.nodes.forEach(r5),this.nodes.forEach(ie),this.nodes.forEach(ir),this.nodes.forEach(r4),rG&&window.MotionDebug.record(rY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new rk)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new ti),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let n=this.eventHandlers.get(t);n&&n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;let{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),t){let n;let r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){let n=te.now(),r=({timestamp:e})=>{let i=e-n;i>=250&&(X(r),t(i-250))};return G.read(r,!0),()=>X(r)}(r,0),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(it))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||o.getDefaultTransition()||ic,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),u=!this.targetLayout||!rz(this.targetLayout,r)||n,c=!e&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||e&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);let e={...v(i,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||it(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,X(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ii),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function t(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:n}=e.options;if(!n)return;let r=n.props[tf];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",G,!(t||n))}let{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&t(i)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r8);return}this.isUpdating||this.nodes.forEach(r7),this.isUpdating=!1,this.nodes.forEach(r9),this.nodes.forEach(r2),this.nodes.forEach(r3),this.clearAllSnapshots();let t=te.now();J.delta=tS(0,1e3/60,t-J.timestamp),J.timestamp=t,J.isProcessing=!0,Z.update.process(J),Z.preRender.process(J),Z.render.process(J),J.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r6),this.sharedNodes.forEach(io)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,G.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){G.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nH(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){let e=r(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!i)return;let t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!rK(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;t&&(e||nZ(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var e;let n=this.measurePageBox(),r=this.removeElementScroll(n);return t&&(r=this.removeTransform(r)),id((e=r).x),id(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var t;let{visualElement:e}=this.options;if(!e)return nH();let n=e.measureViewportBox();if(!((null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)||this.path.some(im))){let{scroll:t}=this.root;t&&(n5(n.x,t.offset.x),n5(n.y,t.offset.y))}return n}removeElementScroll(t){var e;let n=nH();if(rM(n,t),null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)return n;for(let e=0;e<this.path.length;e++){let r=this.path[e],{scroll:i,options:o}=r;r!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&rM(n,t),n5(n.x,i.offset.x),n5(n.y,i.offset.y))}return n}applyTransform(t,e=!1){let n=nH();rM(n,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];!e&&r.options.layoutScroll&&r.scroll&&r!==r.root&&n6(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),nZ(r.latestValues)&&n6(n,r.latestValues)}return nZ(this.latestValues)&&n6(n,this.latestValues),n}removeTransform(t){let e=nH();rM(e,t);for(let t=0;t<this.path.length;t++){let n=this.path[t];if(!n.instance||!nZ(n.latestValues))continue;nJ(n.latestValues)&&n.updateSnapshot();let r=nH();rM(r,n.measurePageBox()),rq(e,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return nZ(this.latestValues)&&rq(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==J.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e,n,r,i;let o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);let s=!!this.resumingFrom||this!==o;if(!(t||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:a,layoutId:u}=this.options;if(this.layout&&(a||u)){if(this.resolvedRelativeTargetAt=J.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nH(),this.relativeTargetOrigin=nH(),nq(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),rM(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=nH(),this.targetWithTransforms=nH()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),n=this.target,r=this.relativeTarget,i=this.relativeParent.target,nN(n.x,r.x,i.x),nN(n.y,r.y,i.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rM(this.target,this.layout.layoutBox),n3(this.target,this.targetDelta)):rM(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nH(),this.relativeTargetOrigin=nH(),nq(this.relativeTargetOrigin,this.target,t.target),rM(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rG&&rY.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||nJ(this.parent.latestValues)||n0(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),n=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===J.timestamp&&(r=!1),r)return;let{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||o))return;rM(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,a=this.treeScale.y;!function(t,e,n,r=!1){let i,o;let s=n.length;if(s){e.x=e.y=1;for(let a=0;a<s;a++){o=(i=n[a]).projectionDelta;let{visualElement:s}=i.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&n6(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,n3(t,o)),r&&nZ(i.latestValues)&&n6(t,i.latestValues))}e.x<1.0000000000001&&e.x>.999999999999&&(e.x=1),e.y<1.0000000000001&&e.y>.999999999999&&(e.y=1)}}(this.layoutCorrected,this.treeScale,this.path,n),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=nH());let{target:u}=e;if(!u){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(rR(this.prevProjectionDelta.x,this.projectionDelta.x),rR(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),n$(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&rQ(this.projectionDelta.x,this.prevProjectionDelta.x)&&rQ(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),rG&&rY.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e;if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nW(),this.projectionDelta=nW(),this.projectionDeltaWithTransform=nW()}setAnimationOrigin(t,e=!1){let n;let r=this.snapshot,i=r?r.latestValues:{},o={...this.latestValues},s=nW();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let a=nH(),u=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,h=!!(u&&!l&&!0===this.options.crossfade&&!this.path.some(iu));this.animationProgress=0,this.mixTargetDelta=e=>{let r=e/1e3;if(is(s.x,t.x,r),is(s.y,t.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var c,f,d,p;nq(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d=this.relativeTarget,p=this.relativeTargetOrigin,ia(d.x,p.x,a.x,r),ia(d.y,p.y,a.y,r),n&&(c=this.relativeTarget,f=n,rU(c.x,f.x)&&rU(c.y,f.y))&&(this.isProjectionDirty=!1),n||(n=nH()),rM(n,this.relativeTarget)}u&&(this.animationValues=o,function(t,e,n,r,i,o){i?(t.opacity=eT(0,void 0!==n.opacity?n.opacity:1,rT(r)),t.opacityExit=eT(void 0!==e.opacity?e.opacity:1,0,rC(r))):o&&(t.opacity=eT(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<rS;i++){let o=`border${rE[i]}Radius`,s=rD(e,o),a=rD(n,o);(void 0!==s||void 0!==a)&&(s||(s=0),a||(a=0),0===s||0===a||rA(s)===rA(a)?(t[o]=Math.max(eT(rO(s),rO(a),r),0),(tL.test(a)||tL.test(s))&&(t[o]+="%")):t[o]=a)}(e.rotate||n.rotate)&&(t.rotate=eT(e.rotate||0,n.rotate||0,r))}(o,i,this.latestValues,r,h,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(X(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=G.update(()=>{rd.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){let r=tc(0)?0:tu(0);return r.start(nh("",r,1e3,n)),r.animation}(0,0,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&ip(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||nH();let e=nR(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;let r=nR(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}rM(e,n),n6(e,i),n$(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new rH),this.sharedNodes.get(t).add(e);let n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;let r={};n.z&&r0("z",t,r,this.animationValues);for(let e=0;e<rX.length;e++)r0(`rotate${rX[e]}`,t,r,this.animationValues),r0(`skew${rX[e]}`,t,r,this.animationValues);for(let e in t.render(),r)t.setStaticValue(e,r[e]),this.animationValues&&(this.animationValues[e]=r[e]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rJ;let r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=rP(null==t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;let o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=rP(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!nZ(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}let s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(t,e,n){let r="",i=t.x.translate/e.x,o=t.y.translate/e.y,s=(null==n?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(1!==e.x||1!==e.y)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){let{transformPerspective:t,rotate:e,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;t&&(r=`perspective(${t}px) ${r}`),e&&(r+=`rotate(${e}deg) `),i&&(r+=`rotateX(${i}deg) `),o&&(r+=`rotateY(${o}deg) `),s&&(r+=`skewX(${s}deg) `),a&&(r+=`skewY(${a}deg) `)}let a=t.x.scale*e.x,u=t.y.scale*e.y;return(1!==a||1!==u)&&(r+=`scale(${a}, ${u})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));let{x:a,y:u}=this.projectionDelta;for(let t in r.transformOrigin=`${100*a.origin}% ${100*u.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,ry){if(void 0===s[t])continue;let{correct:e,applyTo:n}=ry[t],i="none"===r.transform?s[t]:e(s[t],o);if(n){let t=n.length;for(let e=0;e<t;e++)r[n[e]]=i}else r[t]=i}return this.options.layoutId&&(r.pointerEvents=o===this?rP(null==t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(r8),this.root.sharedNodes.clear()}}}function r2(t){t.updateLayout()}function r3(t){var e;let n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?nY(t=>{let r=o?n.measuredBox[t]:n.layoutBox[t],i=nR(r);r.min=e[t].min,r.max=r.min+i}):ip(i,n.layoutBox,e)&&nY(r=>{let i=o?n.measuredBox[r]:n.layoutBox[r],s=nR(e[r]);i.max=i.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+s)});let s=nW();n$(s,e,n.layoutBox);let a=nW();o?n$(a,t.applyTransform(r,!0),n.measuredBox):n$(a,e,n.layoutBox);let u=!rK(s),c=!1;if(!t.resumeFrom){let r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:o}=r;if(i&&o){let s=nH();nq(s,n.layoutBox,i.layoutBox);let a=nH();nq(a,e,o.layoutBox),rz(s,a)||(c=!0),r.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=s,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function r5(t){rG&&rY.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r6(t){t.clearSnapshot()}function r8(t){t.clearMeasurements()}function r7(t){t.isLayoutDirty=!1}function r9(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function it(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ie(t){t.resolveTargetDelta()}function ir(t){t.calcProjection()}function ii(t){t.resetSkewAndRotation()}function io(t){t.removeLeadSnapshot()}function is(t,e,n){t.translate=eT(e.translate,0,n),t.scale=eT(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ia(t,e,n,r){t.min=eT(e.min,n.min,r),t.max=eT(e.max,n.max,r)}function iu(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let ic={duration:.45,ease:[.4,0,.1,1]},il=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ih=il("applewebkit/")&&!il("chrome/")?Math.round:L;function id(t){t.min=ih(t.min),t.max=ih(t.max)}function ip(t,e,n){return"position"===t||"preserve-aspect"===t&&!(.2>=Math.abs(rW(e)-rW(n)))}function im(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}let iy=r1({attachResizeListener:(t,e)=>nP(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iv={current:void 0},ig=r1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iv.current){let t=new iy({});t.mount(window),t.setOptions({layoutScroll:!0}),iv.current=t}return iv.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position});function ib(t,e,n){let{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover","Start"===n);let i=r["onHover"+n];i&&G.postRender(()=>i(e,nE(e)))}class iw extends nw{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e,n={}){let[r,i,o]=D(t,n),s=T(t=>{let{target:n}=t,r=e(t);if("function"!=typeof r||!n)return;let o=T(t=>{r(t),n.removeEventListener("pointerleave",o)});n.addEventListener("pointerleave",o,i)});return r.forEach(t=>{t.addEventListener("pointerenter",s,i)}),o}(t,t=>(ib(this.node,t,"Start"),t=>ib(this.node,t,"End"))))}unmount(){}}class ix extends nw{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eF(nP(this.node.current,"focus",()=>this.onFocus()),nP(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function i_(t,e,n){let{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap","Start"===n);let i=r["onTap"+("End"===n?"":n)];i&&G.postRender(()=>i(e,nE(e)))}class ik extends nw{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e,n={}){let[r,i,o]=D(t,n),s=t=>{let r=t.currentTarget;if(!N(t)||M.has(r))return;M.add(r);let o=e(t),s=(t,e)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",u),N(t)&&M.has(r)&&(M.delete(r),"function"==typeof o&&o(t,{success:e}))},a=t=>{s(t,n.useGlobalTarget||C(r,t.target))},u=t=>{s(t,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",u,i)};return r.forEach(t=>{I.has(t.tagName)||-1!==t.tabIndex||null!==t.getAttribute("tabindex")||(t.tabIndex=0),(n.useGlobalTarget?window:t).addEventListener("pointerdown",s,i),t.addEventListener("focus",t=>$(t,i),i)}),o}(t,t=>(i_(this.node,t,"Start"),(t,{success:e})=>i_(this.node,t,e?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let iP=new WeakMap,iE=new WeakMap,iS=t=>{let e=iP.get(t.target);e&&e(t)},iO=t=>{t.forEach(iS)},iA={some:0,all:1};class iD extends nw{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:iA[r]};return function(t,e,n){let r=function({root:t,...e}){let n=t||document;iE.has(n)||iE.set(n,{});let r=iE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(iO,{root:t,...e})),r[i]}(e);return iP.set(t,n),r.observe(t),()=>{iP.delete(t),r.unobserve(t)}}(this.node.current,o,t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,i&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=e?n:r;o&&o(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}let iT=(0,rc.createContext)({strict:!1}),iC=(0,rc.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ij=(0,rc.createContext)({});function iI(t){return i(t.animate)||f.some(e=>a(t[e]))}function iM(t){return!!(iI(t)||t.variants)}function iR(t){return Array.isArray(t)?t.join(" "):t}let iB="undefined"!=typeof window,i$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},iN={};for(let t in i$)iN[t]={isEnabled:e=>i$[t].some(t=>!!e[t])};let iF=Symbol.for("motionComponentSymbol"),iq=iB?rc.useLayoutEffect:rc.useEffect,iL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iK(t){if("string"!=typeof t||t.includes("-"));else if(iL.indexOf(t)>-1||/[A-Z]/u.test(t))return!0;return!1}let iU=t=>(e,n)=>{let r=(0,rc.useContext)(ij),o=(0,rc.useContext)(rl),s=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,s){let a={latestValues:function(t,e,n,r){let o={},s=r(t,{});for(let t in s)o[t]=rP(s[t]);let{initial:a,animate:u}=t,l=iI(t),h=iM(t);e&&h&&!l&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===u&&(u=e.animate));let f=!!n&&!1===n.initial,d=(f=f||!1===a)?u:a;if(d&&"boolean"!=typeof d&&!i(d)){let e=Array.isArray(d)?d:[d];for(let n=0;n<e.length;n++){let r=c(t,e[n]);if(r){let{transitionEnd:t,transition:e,...n}=r;for(let t in n){let e=n[t];if(Array.isArray(e)){let t=f?e.length-1:0;e=e[t]}null!==e&&(o[t]=e)}for(let e in t)o[e]=t[e]}}}return o}(r,o,s,t),renderState:e()};return n&&(a.onMount=t=>n({props:r,current:t,...a}),a.onUpdate=t=>n(t)),a})(t,e,r,o);return n?s():function(t){let e=(0,rc.useRef)(null);return null===e.current&&(e.current=t()),e.current}(s)},iV=(t,e)=>e&&"number"==typeof t?e.transform(t):t,iz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iW=K.length;function iQ(t,e,n){let{style:r,vars:i,transformOrigin:o}=t,s=!1,a=!1;for(let t in e){let n=e[t];if(U.has(t)){s=!0;continue}if(ev(t)){i[t]=n;continue}{let e=iV(n,t7[t]);t.startsWith("origin")?(a=!0,o[t]=e):r[t]=e}}if(!e.transform&&(s||n?r.transform=function(t,e,n){let r="",i=!0;for(let o=0;o<iW;o++){let s=K[o],a=t[s];if(void 0===a)continue;let u=!0;if(!(u="number"==typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a))||n){let t=iV(a,t7[s]);if(!u){i=!1;let e=iz[s]||s;r+=`${e}(${t}) `}n&&(e[s]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),a){let{originX:t="50%",originY:e="50%",originZ:n=0}=o;r.transformOrigin=`${t} ${e} ${n}`}}let iH={offset:"stroke-dashoffset",array:"stroke-dasharray"},iY={offset:"strokeDashoffset",array:"strokeDasharray"};function iG(t,e,n){return"string"==typeof t?t:tK.transform(e+n*t)}function iX(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...c},l,h){if(iQ(t,c,h),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:f,style:d,dimensions:p}=t;f.transform&&(p&&(d.transform=f.transform),delete f.transform),p&&(void 0!==i||void 0!==o||d.transform)&&(d.transformOrigin=function(t,e,n){let r=iG(e,t.x,t.width),i=iG(n,t.y,t.height);return`${r} ${i}`}(p,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==e&&(f.x=e),void 0!==n&&(f.y=n),void 0!==r&&(f.scale=r),void 0!==s&&function(t,e,n=1,r=0,i=!0){t.pathLength=1;let o=i?iH:iY;t[o.offset]=tK.transform(-r);let s=tK.transform(e),a=tK.transform(n);t[o.array]=`${s} ${a}`}(f,s,a,u,!1)}let iJ=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),iZ=()=>({...iJ(),attrs:{}}),i0=t=>"string"==typeof t&&"svg"===t.toLowerCase();function i1(t,{style:e,vars:n},r,i){for(let o in Object.assign(t.style,e,i&&i.getProjectionStyles(r)),n)t.style.setProperty(o,n[o])}let i2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i3(t,e,n,r){for(let n in i1(t,e,void 0,r),e.attrs)t.setAttribute(i2.has(n)?n:th(n),e.attrs[n])}function i5(t,{layout:e,layoutId:n}){return U.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!ry[t]||"opacity"===t)}function i4(t,e,n){var r;let{style:i}=t,o={};for(let s in i)(tc(i[s])||e.style&&tc(e.style[s])||i5(s,t)||(null===(r=null==n?void 0:n.getValue(s))||void 0===r?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function i6(t,e,n){let r=i4(t,e,n);for(let n in t)(tc(t[n])||tc(e[n]))&&(r[-1!==K.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=t[n]);return r}let i8=["x","y","width","height","cx","cy","r"],i7={useVisualState:iU({scrapeMotionValuesFromProps:i6,createRenderState:iZ,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(let t in i)if(U.has(t)){o=!0;break}}if(!o)return;let s=!e;if(e)for(let n=0;n<i8.length;n++){let r=i8[n];t[r]!==e[r]&&(s=!0)}s&&G.read(()=>{!function(t,e){try{e.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(t){e.dimensions={x:0,y:0,width:0,height:0}}}(n,r),G.render(()=>{iX(r,i,i0(n.tagName),t.transformTemplate),i3(n,r)})})}})},i9={useVisualState:iU({scrapeMotionValuesFromProps:i4,createRenderState:iJ})};function ot(t,e,n){for(let r in e)tc(e[r])||i5(r,n)||(t[r]=e[r])}let oe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function on(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oe.has(t)}let or=t=>!on(t);try{(ro=require("@emotion/is-prop-valid").default)&&(or=t=>t.startsWith("on")?!on(t):ro(t))}catch(t){}let oi={current:null},oo={current:!1},os=[...ek,tQ,t2],oa=t=>os.find(e_(t)),ou=new WeakMap,oc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ol{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ep,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let t=te.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,G.render(this.render,!1,!0))};let{latestValues:a,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=a,this.baseTarget={...a},this.initialValues=e.initial?{...a}:{},this.renderState=u,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=iI(e),this.isVariantNode=iM(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:l,...h}=this.scrapeMotionValuesFromProps(e,{},this);for(let t in h){let e=h[t];void 0!==a[t]&&tc(e)&&e.set(a[t],!1)}}mount(t){this.current=t,ou.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),oo.current||function(){if(oo.current=!0,iB){if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>oi.current=t.matches;t.addListener(e),e()}else oi.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||oi.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in ou.delete(this.current),this.projection&&this.projection.unmount(),X(this.notifyUpdate),X(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features){let e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){let n;this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let r=U.has(t),i=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&G.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=e.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{i(),o(),n&&n(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in iN){let e=iN[t];if(!e)continue;let{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nH()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<oc.length;e++){let n=oc[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=t["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){for(let r in e){let i=e[r],o=n[r];if(tc(i))t.addValue(r,i);else if(tc(o))t.addValue(r,tu(i,{owner:t}));else if(o!==i){if(t.hasValue(r)){let e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{let e=t.getStaticValue(r);t.addValue(r,tu(void 0!==e?e:i,{owner:t}))}}}for(let r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){let n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=tu(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];return null!=r&&("string"==typeof r&&(em(r)||tE(r))?r=parseFloat(r):!oa(r)&&t2.test(e)&&(r=ee(t,e)),this.setBaseTarget(t,tc(r)?r.get():r)),tc(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let n;let{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let i=c(this.props,r,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);i&&(n=i[t])}if(r&&void 0!==n)return n;let i=this.getBaseTargetFromProps(this.props,t);return void 0===i||tc(i)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new ti),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class oh extends ol{constructor(){super(...arguments),this.KeyframeResolver=eE}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;tc(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class of extends oh{constructor(){super(...arguments),this.type="html",this.renderInstance=i1}readValueFromInstance(t,e){if(U.has(e)){let t=et(e);return t&&t.default||0}{let n=window.getComputedStyle(t),r=(ev(e)?n.getPropertyValue(e):n[e])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return n8(t,e)}build(t,e,n){iQ(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return i4(t,e,n)}}class od extends oh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nH}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(U.has(e)){let t=et(e);return t&&t.default||0}return e=i2.has(e)?e:th(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return i6(t,e,n)}build(t,e,n){iX(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){i3(t,e,n,r)}mount(t){this.isSVGTag=i0(t.tagName),super.mount(t)}}let op=function(t){if("undefined"==typeof Proxy)return t;let e=new Map;return new Proxy((...e)=>t(...e),{get:(n,r)=>"create"===r?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}((rs={animation:{Feature:nx},exit:{Feature:nk},inView:{Feature:iD},tap:{Feature:ik},focus:{Feature:ix},hover:{Feature:iw},pan:{Feature:ri},drag:{Feature:rn,ProjectionNode:ig,MeasureLayout:rw},layout:{ProjectionNode:ig,MeasureLayout:rw}},ra=(t,e)=>iK(t)?new od(e):new of(e,{allowProjection:t!==rc.Fragment}),function(t,{forwardMotionProps:e}={forwardMotionProps:!1}){return function(t){var e,n;let{preloadedFeatures:r,createVisualElement:i,useRender:o,useVisualState:s,Component:u}=t;function c(t,e){var n;let r;let c={...(0,rc.useContext)(iC),...t,layoutId:function(t){let{layoutId:e}=t,n=(0,rc.useContext)(rh).id;return n&&void 0!==e?n+"-"+e:e}(t)},{isStatic:l}=c,h=function(t){let{initial:e,animate:n}=function(t,e){if(iI(t)){let{initial:e,animate:n}=t;return{initial:!1===e||a(e)?e:void 0,animate:a(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,rc.useContext)(ij));return(0,rc.useMemo)(()=>({initial:e,animate:n}),[iR(e),iR(n)])}(t),f=s(t,l);if(!l&&iB){(0,rc.useContext)(iT).strict;let t=function(t){let{drag:e,layout:n}=iN;if(!e&&!n)return{};let r={...e,...n};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(c);r=t.MeasureLayout,h.visualElement=function(t,e,n,r,i){var o,s;let{visualElement:a}=(0,rc.useContext)(ij),u=(0,rc.useContext)(iT),c=(0,rc.useContext)(rl),l=(0,rc.useContext)(iC).reducedMotion,h=(0,rc.useRef)(null);r=r||u.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:l}));let f=h.current,d=(0,rc.useContext)(rf);f&&!f.projection&&i&&("html"===f.type||"svg"===f.type)&&function(t,e,n,r){let{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:function t(e){if(e)return!1!==e.options.allowProjection?e.projection:t(e.parent)}(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&nM(a),visualElement:t,animationType:"string"==typeof o?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}(h.current,n,i,d);let p=(0,rc.useRef)(!1);(0,rc.useInsertionEffect)(()=>{f&&p.current&&f.update(n,c)});let m=n[tf],y=(0,rc.useRef)(!!m&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,m))&&(null===(s=window.MotionHasOptimisedAnimation)||void 0===s?void 0:s.call(window,m)));return iq(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),rv.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),(0,rc.useEffect)(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var t;null===(t=window.MotionHandoffMarkAsComplete)||void 0===t||t.call(window,m)}),y.current=!1))}),f}(u,f,c,i,t.ProjectionNode)}return(0,ru.jsxs)(ij.Provider,{value:h,children:[r&&h.visualElement?(0,ru.jsx)(r,{visualElement:h.visualElement,...c}):null,o(u,t,(n=h.visualElement,(0,rc.useCallback)(t=>{t&&f.onMount&&f.onMount(t),n&&(t?n.mount(t):n.unmount()),e&&("function"==typeof e?e(t):nM(e)&&(e.current=t))},[n])),f,l,h.visualElement)]})}r&&function(t){for(let e in t)iN[e]={...iN[e],...t[e]}}(r),c.displayName="motion.".concat("string"==typeof u?u:"create(".concat(null!==(n=null!==(e=u.displayName)&&void 0!==e?e:u.name)&&void 0!==n?n:"",")"));let l=(0,rc.forwardRef)(c);return l[iF]=u,l}({...iK(t)?i7:i9,preloadedFeatures:rs,useRender:function(t=!1){return(e,n,r,{latestValues:i},o)=>{let s=(iK(e)?function(t,e,n,r){let i=(0,rc.useMemo)(()=>{let n=iZ();return iX(n,e,i0(r),t.transformTemplate),{...n.attrs,style:{...n.style}}},[e]);if(t.style){let e={};ot(e,t.style,t),i.style={...e,...i.style}}return i}:function(t,e){let n={},r=function(t,e){let n=t.style||{},r={};return ot(r,n,t),Object.assign(r,function({transformTemplate:t},e){return(0,rc.useMemo)(()=>{let n=iJ();return iQ(n,e,t),Object.assign({},n.vars,n.style)},[e])}(t,e)),r}(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n})(n,i,o,e),a=function(t,e,n){let r={};for(let i in t)("values"!==i||"object"!=typeof t.values)&&(or(i)||!0===n&&on(i)||!e&&!on(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"==typeof e,t),u=e!==rc.Fragment?{...a,...s,ref:r}:{},{children:c}=n,l=(0,rc.useMemo)(()=>tc(c)?c.get():c,[c]);return(0,rc.createElement)(e,{...u,children:l})}}(e),createVisualElement:ra,Component:t})}))},1265:function(t,e,n){"use strict";n.d(e,{i:function(){return r}});class r{ttl;map=new Map;_to=!1;constructor(t){this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,i()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function(t){let e=i()-t.ttl,n=t.map[Symbol.iterator]();for(;;){let r=n.next().value;if(!r)return;let i=r[0];if(!(r[1]<e))return;t.map.delete(i)}}(this)},0))}clear(){this.map.clear()}}function i(){return Date.now()}},4704:function(t,e,n){"use strict";n.d(e,{B:function(){return h},K:function(){return c}});var r=n(4622),i=n(8736),o=n(4566),s=n(4807),a=n(7986),u=n(8757),c=function(){function t(t,e,n){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry(t=>{var e=t.docId,n=this.cacheItemByDocId.get(e);n&&(n[0].delete(t.revisionHeight),0===n[0].size&&this.cacheItemByDocId.delete(e))}):void 0,this.primaryPath=t,this.changes$=e,this.documentCreator=n,e.subscribe(t=>{this.tasks.add(()=>{for(var e=this.cacheItemByDocId,n=0;n<t.length;n++){var r=t[n],i=e.get(r.documentId);if(i){var o=r.documentData;o||(o=r.previousDocumentData),i[1]=o}}}),this.tasks.size<=1&&(0,i.y$)().then(()=>{this.processTasks()})})}var e=t.prototype;return e.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(t=>t()),this.tasks.clear())},e.getLatestDocumentData=function(t){return this.processTasks(),(0,o.e)(this.cacheItemByDocId,t)[1]},e.getLatestDocumentDataIfExists=function(t){this.processTasks();var e=this.cacheItemByDocId.get(t);if(e)return e[1]},(0,r.Z)(t,[{key:"getCachedRxDocuments",get:function(){var t=l(this);return(0,s.IK)(this,"getCachedRxDocuments",t)}},{key:"getCachedRxDocument",get:function(){var t=l(this);return(0,s.IK)(this,"getCachedRxDocument",e=>t([e])[0])}}])}();function l(t){var e=t.primaryPath,n=t.cacheItemByDocId,r=t.registry,o=u.j.deepFreezeWhenDevMode,s=t.documentCreator;return u=>{for(var c=Array(u.length),l=[],h=0;h<u.length;h++){var d=u[h],p=d[e],m=(0,a.Ac)(d._rev),y=void 0,v=void 0,g=n.get(p);g?v=(y=g[0]).get(m):(g=[y=new Map,d],n.set(p,g));var b=v?v.deref():void 0;!b&&(b=s(d=o(d)),y.set(m,f(b)),r&&l.push(b)),c[h]=b}return l.length>0&&r&&(t.tasks.add(()=>{for(var t=0;t<l.length;t++){var e=l[t];r.register(e,{docId:e.primary,revisionHeight:(0,a.Ac)(e.revision)})}}),t.tasks.size<=1&&(0,i.y$)().then(()=>{t.processTasks()})),c}}function h(t,e){return(0,t.getCachedRxDocuments)(e)}var f="function"==typeof WeakRef?function(t){return new WeakRef(t)}:function(t){return{deref:()=>t}}},8159:function(t,e,n){"use strict";n.d(e,{BU:function(){return o},Cb:function(){return i},cF:function(){return r}});var r={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],postCleanup:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function i(t,e){r[t].length>0&&r[t].forEach(t=>t(e))}function o(t,e){return Promise.all(r[t].map(t=>t(e)))}},9512:function(t,e,n){"use strict";n.d(e,{Ll:function(){return h},_l:function(){return l}});var r=n(4121),i=n(4566),o=n(9533),s=n(4807),a=n(3886),u=n(7986),c=n(1162),l=function(){function t(t,e,n,r){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=t,this.primaryPath=e,this.preWrite=n,this.postWrite=r}var e=t.prototype;return e.addWrite=function(t,e){var n=t[this.primaryPath],r=(0,i.c)(this.queueByDocId,n,()=>[]);return new Promise((n,i)=>{(0,o.Is)(r).push({lastKnownDocumentState:t,modifier:e,resolve:n,reject:i}),this.triggerRun()})},e.triggerRun=async function(){if(!0!==this.isRunning&&0!==this.queueByDocId.size){this.isRunning=!0;var t=[],e=this.queueByDocId;this.queueByDocId=new Map,await Promise.all(Array.from(e.entries()).map(async([e,n])=>{var r,i,o,a=(i=(r=n.map(t=>t.lastKnownDocumentState))[0],o=(0,u.Ac)(i._rev),r.forEach(t=>{var e=(0,u.Ac)(t._rev);e>o&&(i=t,o=e)}),i),c=a;for(var l of n)try{c=await l.modifier((0,s.d9)(c))}catch(t){l.reject(t),l.reject=()=>{},l.resolve=()=>{}}try{await this.preWrite(c,a)}catch(t){n.forEach(e=>e.reject(t));return}t.push({previous:a,document:c})}));var n=t.length>0?await this.storageInstance.bulkWrite(t,"incremental-write"):{error:[]};return await Promise.all((0,c.Qq)(this.primaryPath,t,n).map(t=>{var n=t[this.primaryPath];this.postWrite(t),(0,i.e)(e,n).forEach(e=>e.resolve(t))})),n.error.forEach(t=>{var n=t.documentId,s=(0,i.e)(e,n),a=(0,r.pi)(t);if(a){var u=(0,i.c)(this.queueByDocId,n,()=>[]);s.reverse().forEach(t=>{t.lastKnownDocumentState=(0,o.Is)(a.documentInDb),(0,o.Is)(u).unshift(t)})}else{var c=(0,r.A2)(t);s.forEach(t=>t.reject(c))}}),this.isRunning=!1,this.triggerRun()}},t}();function h(t){return async e=>{var n=(0,a.Ly)(e);n._deleted=e._deleted;var r=await t(n),i=Object.assign({},r,{_meta:e._meta,_attachments:e._attachments,_rev:e._rev,_deleted:void 0!==r._deleted?r._deleted:e._deleted});return void 0===i._deleted&&(i._deleted=!1),i}}},8757:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});var r={isDevMode:()=>!1,deepFreezeWhenDevMode:t=>t,tunnelErrorMessage:t=>"RxDB Error-Code "+t+".\n        Error messages are not included in RxDB core to reduce build size.\n        "}},2372:function(t,e,n){"use strict";n.d(e,{o:function(){return p}});var r=n(5486),i=n(8225),o=n(4343),s=n(5769),a=n(5627),u=n(8757),c=n(8159),l=n(4121),h={RxSchema:r.os.prototype,RxDocument:i.kJ,RxQuery:o.OX.prototype,RxCollection:s.Ko.prototype,RxDatabase:a.s2.prototype},f=new Set,d=new Set;function p(t){if((0,c.Cb)("preAddRxPlugin",{plugin:t,plugins:f}),!f.has(t)){if(d.has(t.name))throw(0,l.f3)("PL3",{name:t.name,plugin:t});if(f.add(t),d.add(t.name),!t.rxdb)throw(0,l.zU)("PL1",{plugin:t});t.init&&t.init(),t.prototypes&&Object.entries(t.prototypes).forEach(([t,e])=>e(h[t])),t.overwritable&&Object.assign(u.j,t.overwritable),t.hooks&&Object.entries(t.hooks).forEach(([t,e])=>{e.after&&c.cF[t].push(e.after),e.before&&c.cF[t].unshift(e.before)})}}},707:function(t,e,n){"use strict";n.d(e,{G3:function(){return v}});var r=["__proto__","constructor","prototype"];function i(t,e){Object.keys(e).forEach(n=>{r.includes(n)||(void 0===t[n]?t[n]=e[n]:o(e[n])?i(t[n],e[n]):t[n]=e[n])})}function o(t){return"[object Object]"===t.toString()}var s=n(4121),a=function(){function t(t,e){if(this.options={},this._conditions={},this._fields={},this._path=e,t){var n=this;t.selector&&n.find(t.selector),t.limit&&n.limit(t.limit),t.skip&&n.skip(t.skip),t.sort&&t.sort.forEach(t=>n.sort(t))}}var e=t.prototype;return e.where=function(t,e){if(!arguments.length)return this;var n=typeof arguments[0];if("string"===n)return this._path=arguments[0],2==arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===n&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw(0,s.zU)("MQ1",{path:arguments[0]})},e.equals=function(t){this._ensurePath("equals");var e=this._path;return this._conditions[e]=t,this},e.eq=function(t){this._ensurePath("eq");var e=this._path;return this._conditions[e]=t,this},e.or=function(t){var e=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.nor=function(t){var e=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.and=function(t){var e=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(t)||(t=[t]),e.push.apply(e,t),this},e.mod=function(t,e){var n,r;return 1==arguments.length?(this._ensurePath("mod"),n=arguments[0],r=this._path):2!=arguments.length||Array.isArray(arguments[1])?(n=3==arguments.length?arguments.slice(1):arguments[1],r=arguments[0]):(this._ensurePath("mod"),n=arguments.slice(),r=this._path),(this._conditions[r]||(this._conditions[r]={})).$mod=n,this},e.exists=function(t,e){var n,r;return 0==arguments.length?(this._ensurePath("exists"),n=this._path,r=!0):1==arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),n=this._path,r=arguments[0]):(n=arguments[0],r=!0):2==arguments.length&&(n=arguments[0],r=arguments[1]),(this._conditions[n]||(this._conditions[n]={})).$exists=r,this},e.elemMatch=function(e,n){var r,i,a;if(null===arguments[0])throw(0,s.zU)("MQ2");if("function"==typeof arguments[0])this._ensurePath("elemMatch"),i=this._path,r=arguments[0];else if(o(arguments[0]))this._ensurePath("elemMatch"),i=this._path,a=arguments[0];else if("function"==typeof arguments[1])i=arguments[0],r=arguments[1];else if(arguments[1]&&o(arguments[1]))i=arguments[0],a=arguments[1];else throw(0,s.zU)("MQ2");return r&&(r(a=new t),a=a._conditions),(this._conditions[i]||(this._conditions[i]={})).$elemMatch=a,this},e.sort=function(t){if(!t)return this;var e,n=typeof t;if(Array.isArray(t)){e=t.length;for(var r=0;r<t.length;++r)(function(t,e,n){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw(0,s.zU)("MQ8",{opts:t,field:e,value:n});t.sort.push([e,n])})(this.options,t[r][0],t[r][1]);return this}if(1==arguments.length&&"string"===n){e=(t=t.split(/\s+/)).length;for(var i=0;i<e;++i){var a=t[i];if(a){var u="-"===a[0]?-1:1;-1===u&&(a=a.substring(1)),l(this.options,a,u)}}return this}if(o(t))return Object.keys(t).forEach(e=>l(this.options,e,t[e])),this;throw(0,s.zU)("MQ3",{args:arguments})},e.merge=function(e){if(!e)return this;if(!h(e))throw(0,s.zU)("MQ4",{source:e});return e instanceof t?(e._conditions&&i(this._conditions,e._conditions),e._fields&&(this._fields||(this._fields={}),i(this._fields,e._fields)),e.options&&(this.options||(this.options={}),i(this.options,e.options)),e._distinct&&(this._distinct=e._distinct)):i(this._conditions,e),this},e.find=function(t){return h(t)&&this.merge(t),this},e._ensurePath=function(t){if(!this._path)throw(0,s.f3)("MQ5",{method:t})},e.toJSON=function(){var t={selector:this._conditions};return this.options.skip&&(t.skip=this.options.skip),this.options.limit&&(t.limit=this.options.limit),this.options.sort&&(t.sort=Object.entries(this.options.sort).map(([t,e])=>({[t]:1===e?"asc":"desc"}))),{query:t,path:this._path}},t}(),u=["limit","skip","maxScan","batchSize","comment"];u.forEach(function(t){a.prototype[t]=function(e){return this.options[t]=e,this}});var c=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function l(t,e,n){if(Array.isArray(t.sort))throw(0,s.zU)("MQ6",{opts:t,field:e,value:n});if(n&&n.$meta){(t.sort||(t.sort={}))[e]={$meta:n.$meta};return}var r=String(n||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(r))throw Array.isArray(n)&&(n="["+n+"]"),(0,s.zU)("MQ7",{field:e,value:n});var i=t.sort||(t.sort={}),o=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");i[e]=parseInt(o,10)}function h(t){return t instanceof a||o(t)}c.forEach(function(t){a.prototype[t]=function(){1==arguments.length?(this._ensurePath(t),n=arguments[0],e=this._path):(n=arguments[1],e=arguments[0]);var e,n,r=null===this._conditions[e]||"object"==typeof this._conditions[e]?this._conditions[e]:this._conditions[e]={};if("regex"===t){if(n instanceof RegExp)throw(0,s.f3)("QU16",{field:e,query:this._conditions});"string"==typeof n?r["$"+t]=n:(r["$"+t]=n.$regex,n.$options&&(r.$options=n.$options))}else r["$"+t]=n;return this}});var f=n(4343),d=n(4807),p=n(8757),m="queryBuilderPath";function y(t,e){t[e]=function(t){if(p.j.isDevMode()&&"findByIds"===this.op)throw(0,s.f3)("QU17",{collection:this.collection.name,query:this.mangoQuery});return function(t,e,n){var r=new a((0,d.d9)(t.mangoQuery),t.other[m]);r[e](n);var i=r.toJSON();return(0,f.uy)(t.op,i.query,t.collection,{...t.other,[m]:i.path})}(this,e,t)}}var v={name:"query-builder",rxdb:!0,prototypes:{RxQuery(t){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach(e=>{y(t,e)}),u.forEach(e=>{y(t,e)}),c.forEach(e=>{y(t,e)})}}}},6357:function(t,e,n){"use strict";n.d(e,{J:function(){return tI}});var r,i=n(9437);let o=Symbol.for("Dexie"),s=globalThis[o]||(globalThis[o]=i);if(i.semVer!==s.semVer)throw Error(`Two different versions of Dexie loaded in the same app: ${i.semVer} and ${s.semVer}`);let{liveQuery:a,mergeRanges:u,rangesOverlap:c,RangeSet:l,cmp:h,Entity:f,PropModSymbol:d,PropModification:p,replacePrefix:m,add:y,remove:v}=s;var g=n(4566),b=n(4807),w=n(8153),x=n(71),_=n(6810),k="docs",P="attachments",E="dexie",S=new Map,O=new Map;async function A(t){var e=await t,n=O.get(t)-1;0===n?(e.dexieDb.close(),O.delete(t)):O.set(t,n)}function D(t){var e=t.split(".");return e.length>1?e.map(t=>D(t)).join("."):t.startsWith("|")?"__"+t.substring(1):t}function T(t,e){return e&&(e=function t(e){if(!e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;if(Array.isArray(e))return e.map(e=>t(e));if("object"==typeof e){var n={};return Object.entries(e).forEach(([r,i])=>{("object"==typeof i||Array.isArray(e))&&(i=t(i)),n[function t(e){var n=e.split(".");return n.length>1?n.map(e=>t(e)).join("."):e.startsWith("__")?"|"+e.substring(2):e}(r)]=i}),n}}(e=(0,b.qu)(e)),t.forEach(t=>{var n=(0,w.$s)(e,t);(0,w.Hn)(e,t,"1"===n)})),e}async function C(t,e){var n=await t;return(await n.dexieTable.bulkGet(e)).map(t=>T(n.booleanIndexes,t))}var j=n(2863),I=n(5206),M={},R=n(1559),B=n(9533),$=n(1718),N=n(1048);function F(t){return t===$.eG?-1/0:t}function q(t,e,n){return t.includes(e)?n===$.PU||!0===n?"1":"0":n}function L(t,e,n){if(!n){if("undefined"==typeof window)throw Error("IDBKeyRange missing");n=window.IDBKeyRange}var r=e.startKeys.map((n,r)=>q(t,e.index[r],n)).map(F),i=e.endKeys.map((n,r)=>q(t,e.index[r],n)).map(F);return n.bound(r,i,!e.inclusiveStart,!e.inclusiveEnd)}async function K(t,e){var n=await t.internals,r=e.query,i=r.skip?r.skip:0,o=i+(r.limit?r.limit:1/0),s=e.queryPlan,a=!1;s.selectorSatisfiedByIndex||(a=(0,N.VL)(t.schema,e.query));var u=L(n.booleanIndexes,s,n.dexieDb._options.IDBKeyRange),c=s.index,l=[];if(await n.dexieDb.transaction("r",n.dexieTable,async t=>{var e,r=t.idbtrans.objectStore(k);e="["+c.map(t=>D(t)).join("+")+"]";var i=r.index(e).openCursor(u);await new Promise(t=>{i.onsuccess=function(e){var r=e.target.result;if(r){var i=T(n.booleanIndexes,r.value);(!a||a(i))&&l.push(i),s.sortSatisfiedByIndex&&l.length===o?t():r.continue()}else t()}})}),!s.sortSatisfiedByIndex){var h=(0,N.Pk)(t.schema,e.query);l=l.sort(h)}return{documents:l=l.slice(i,o)}}async function U(t,e){var n=await t.internals,r=e.queryPlan,i=r.index,o=L(n.booleanIndexes,r,n.dexieDb._options.IDBKeyRange),s=-1;return await n.dexieDb.transaction("r",n.dexieTable,async t=>{var e,n=t.idbtrans.objectStore(k);e="["+i.map(t=>D(t)).join("+")+"]";var r=n.index(e).count(o);s=await new Promise((t,e)=>{r.onsuccess=function(){t(r.result)},r.onerror=t=>e(t)})}),s}var V=n(1162),z=n(6200),W=n(7753),Q=n(6904),H=n(4146),Y=n(2828);function G(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,H.yG)(t),r=(0,H._6)(t,1/0);return(0,W.e)(function(e,i){(0,Q.J)(r)((0,Y.D)((0,z.ev)([e],(0,z.CR)(t)),n)).subscribe(i)})}Promise.resolve(!1),Promise.resolve(!0);var X=Promise.resolve();function J(t,e){return t||(t=0),new Promise(function(n){return setTimeout(function(){return n(e)},t)})}function Z(){return Math.random().toString(36).substring(2)}var tt=0;function te(){var t=1e3*Date.now();return t<=tt&&(t=tt+1),tt=t,t}var tn=n(1265);function tr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=JSON.parse(JSON.stringify(t));return void 0===e.webWorkerSupport&&(e.webWorkerSupport=!0),e.idb||(e.idb={}),e.idb.ttl||(e.idb.ttl=45e3),e.idb.fallbackInterval||(e.idb.fallbackInterval=150),t.idb&&"function"==typeof t.idb.onclose&&(e.idb.onclose=t.idb.onclose),e.localstorage||(e.localstorage={}),e.localstorage.removeTimeout||(e.localstorage.removeTimeout=6e4),t.methods&&(e.methods=t.methods),e.node||(e.node={}),e.node.ttl||(e.node.ttl=12e4),e.node.maxParallelWrites||(e.node.maxParallelWrites=2048),void 0===e.node.useFastPath&&(e.node.useFastPath=!0),e}var ti="messages",to={durability:"relaxed"};function ts(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function ta(t){t.commit&&t.commit()}function tu(t){return t.closed||!t.messagesCallback?X:(function(t,e){var n=t.transaction(ti,"readonly",to),r=n.objectStore(ti),i=[],o=IDBKeyRange.bound(e+1,1/0);if(r.getAll){var s=r.getAll(o);return new Promise(function(t,e){s.onerror=function(t){return e(t)},s.onsuccess=function(e){t(e.target.result)}})}return new Promise(function(t,s){var a=function(){try{return o=IDBKeyRange.bound(e+1,1/0),r.openCursor(o)}catch(t){return r.openCursor()}}();a.onerror=function(t){return s(t)},a.onsuccess=function(r){var o=r.target.result;o?o.value.id<e+1?o.continue(e+1):(i.push(o.value),o.continue()):(ta(n),t(i))}})})(t.db,t.lastCursorId).then(function(e){return e.filter(function(t){return!!t}).map(function(e){return e.id>t.lastCursorId&&(t.lastCursorId=e.id),e}).filter(function(e){return!(e.uuid===t.uuid||t.eMIs.has(e.id))&&!(e.data.time<t.messagesCallbackTime)}).sort(function(t,e){return t.time-e.time}).forEach(function(e){t.messagesCallback&&(t.eMIs.add(e.id),t.messagesCallback(e.data))}),X})}function tc(){var t;if("undefined"==typeof window)return null;try{t=window.localStorage,t=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return t}function tl(t){return"pubkey.broadcastChannel-"+t}function th(){var t=tc();if(!t)return!1;try{var e="__broadcastchannel_check";t.setItem(e,"works"),t.removeItem(e)}catch(t){return!1}return!0}var tf=new Set,td={create:function(t){var e={time:te(),name:t,messagesCallback:null};return tf.add(e),e},close:function(t){tf.delete(t)},onMessage:function(t,e){t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(n){return setTimeout(function(){Array.from(tf).forEach(function(n){n.name===t.name&&n!==t&&n.messagesCallback&&n.time<e.time&&n.messagesCallback(e)}),n()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:te},tp=[{create:function(t){var e={time:te(),messagesCallback:null,bc:new BroadcastChannel(t),subFns:[]};return e.bc.onmessage=function(t){e.messagesCallback&&e.messagesCallback(t.data)},e},close:function(t){t.bc.close(),t.subFns=[]},onMessage:function(t,e){t.messagesCallback=e},postMessage:function(t,e){try{return t.bc.postMessage(e,!1),X}catch(t){return Promise.reject(t)}},canBeUsed:function(){if("undefined"!=typeof globalThis&&globalThis.Deno&&globalThis.Deno.args)return!0;if("undefined"==typeof window&&"undefined"==typeof self||"function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0},type:"native",averageResponseTime:function(){return 150},microSeconds:te},{create:function(t,e){var n;return e=tr(e),((n=ts().open("pubkey.broadcast-channel-0-"+t)).onupgradeneeded=function(t){t.target.result.createObjectStore(ti,{keyPath:"id",autoIncrement:!0})},new Promise(function(t,e){n.onerror=function(t){return e(t)},n.onsuccess=function(){t(n.result)}})).then(function(n){var r={closed:!1,lastCursorId:0,channelName:t,options:e,uuid:Z(),eMIs:new tn.i(2*e.idb.ttl),writeBlockPromise:X,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,e.idb.onclose&&e.idb.onclose()},function t(e){e.closed||tu(e).then(function(){return J(e.options.idb.fallbackInterval)}).then(function(){return t(e)})}(r),r})},close:function(t){t.closed=!0,t.db.close()},onMessage:function(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e,tu(t)},postMessage:function(t,e){return t.writeBlockPromise=t.writeBlockPromise.then(function(){var n,r,i;return n=t.db,r={uuid:t.uuid,time:Date.now(),data:e},i=n.transaction([ti],"readwrite",to),new Promise(function(t,e){i.oncomplete=function(){return t()},i.onerror=function(t){return e(t)},i.objectStore(ti).add(r),ta(i)})}).then(function(){var e,n,r,i,o,s;0===Math.floor(11*Math.random()+0)&&(e=t.db,n=t.options.idb.ttl,r=Date.now()-n,o=(i=e.transaction(ti,"readonly",to)).objectStore(ti),s=[],new Promise(function(t){o.openCursor().onsuccess=function(e){var n=e.target.result;if(n){var o=n.value;o.time<r?(s.push(o),n.continue()):(ta(i),t(s))}else t(s)}})).then(function(e){return function(t,e){if(t.closed)return Promise.resolve([]);var n=t.db.transaction(ti,"readwrite",to).objectStore(ti);return Promise.all(e.map(function(t){var e=n.delete(t);return new Promise(function(t){e.onsuccess=function(){return t()}})}))}(t,e.map(function(t){return t.id}))})}),t.writeBlockPromise},canBeUsed:function(){return!!ts()},type:"idb",averageResponseTime:function(t){return 2*t.idb.fallbackInterval},microSeconds:te},{create:function(t,e){if(e=tr(e),!th())throw Error("BroadcastChannel: localstorage cannot be used");var n,r,i,o=Z(),s=new tn.i(e.localstorage.removeTimeout),a={channelName:t,uuid:o,eMIs:s};return a.listener=(n=function(t){!(!a.messagesCallback||t.uuid===o||!t.token||s.has(t.token))&&(t.data.time&&t.data.time<a.messagesCallbackTime||(s.add(t.token),a.messagesCallback(t.data)))},r=tl(t),i=function(t){t.key===r&&n(JSON.parse(t.newValue))},window.addEventListener("storage",i),i),a},close:function(t){var e;e=t.listener,window.removeEventListener("storage",e)},onMessage:function(t,e,n){t.messagesCallbackTime=n,t.messagesCallback=e},postMessage:function(t,e){return new Promise(function(n){J().then(function(){var r=tl(t.channelName),i=JSON.stringify({token:Z(),time:Date.now(),data:e,uuid:t.uuid});tc().setItem(r,i);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=i,window.dispatchEvent(o),n()})})},canBeUsed:th,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:te}],tm=new Set,ty=0,tv=function(t,e){var n,i;this.id=ty++,tm.add(this),this.name=t,r&&(e=r),this.options=tr(e),this.method=function(t){var e=[].concat(t.methods,tp).filter(Boolean);if(t.type){if("simulate"===t.type)return td;var n=e.find(function(e){return e.type===t.type});if(n)return n;throw Error("method-type "+t.type+" not found")}t.webWorkerSupport||(e=e.filter(function(t){return"idb"!==t.type}));var r=e.find(function(t){return t.canBeUsed()});if(r)return r;throw Error("No usable method found in "+JSON.stringify(tp.map(function(t){return t.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,n=this,(i=n.method.create(n.name,n.options))&&"function"==typeof i.then?(n._prepP=i,i.then(function(t){n._state=t})):n._state=i};function tg(t,e,n){var r={time:t.method.microSeconds(),type:e,data:n};return(t._prepP?t._prepP:X).then(function(){var e=t.method.postMessage(t._state,r);return t._uMP.add(e),e.catch().then(function(){return t._uMP.delete(e)}),e})}function tb(t){return t._addEL.message.length>0||t._addEL.internal.length>0}function tw(t,e,n){t._addEL[e].push(n),function(t){if(!t._iL&&tb(t)){var e=function(e){t._addEL[e.type].forEach(function(t){e.time>=t.time&&t.fn(e.data)})},n=t.method.microSeconds();t._prepP?t._prepP.then(function(){t._iL=!0,t.method.onMessage(t._state,e,n)}):(t._iL=!0,t.method.onMessage(t._state,e,n))}}(t)}function tx(t,e,n){t._addEL[e]=t._addEL[e].filter(function(t){return t!==n}),function(t){if(t._iL&&!tb(t)){t._iL=!1;var e=t.method.microSeconds();t.method.onMessage(t._state,null,e)}}(t)}tv._pubkey=!0,tv.prototype={postMessage:function(t){if(this.closed)throw Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return tg(this,"message",t)},postInternal:function(t){return tg(this,"internal",t)},set onmessage(fn){var t_={time:this.method.microSeconds(),fn:fn};tx(this,"message",this._onML),fn&&"function"==typeof fn?(this._onML=t_,tw(this,"message",t_)):this._onML=null},addEventListener:function(t,e){tw(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){var n=this._addEL[t].find(function(t){return t.fn===e});tx(this,t,n)},close:function(){var t=this;if(!this.closed){tm.delete(this),this.closed=!0;var e=this._prepP?this._prepP:X;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(t){return t()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var tk=new Map;function tP(t,e){var n=tk.get(t);if(n&&(n.refs.delete(e),0===n.refs.size))return tk.delete(t),n.bc.close()}var tE=n(4121),tS=(0,I.z)(),tO=!1,tA=function(){function t(t,e,n,r,i,o,s,a){this.changes$=new j.x,this.instanceId=tS++,this.storage=t,this.databaseName=e,this.collectionName=n,this.schema=r,this.internals=i,this.options=o,this.settings=s,this.devMode=a,this.primaryPath=(0,_.CT)(this.schema.primaryKey)}var e=t.prototype;return e.bulkWrite=async function(t,e){tT(this),tO||M.premium&&"string"==typeof M.premium&&await (0,R.nt)(M.premium)==="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93"||console.warn("-------------- RxDB Open Core RxStorage -------------------------------\nYou are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie \nWhile this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.\nFor professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability.\n https://rxdb.info/premium?console=dexie \nIf you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.\n---------------------------------------------------------------------"),tO=!0,t.forEach(t=>{if(!t.document._rev||t.previous&&!t.previous._rev)throw(0,tE.f3)("SNH",{args:{row:t}})});var n,r=await this.internals,i={error:[]};this.devMode&&(t=t.map(t=>{var e=(0,V._$)(t.document);return{previous:t.previous,document:e}}));var o=t.map(t=>t.document[this.primaryPath]);if(await r.dexieDb.transaction("rw",r.dexieTable,r.dexieAttachmentsTable,async()=>{var s=new Map;(await C(this.internals,o)).forEach(t=>(t&&s.set(t[this.primaryPath],t),t)),n=(0,V.DF)(this,this.primaryPath,s,t,e),i.error=n.errors;var a=[];n.bulkInsertDocs.forEach(t=>{a.push(t.document)}),n.bulkUpdateDocs.forEach(t=>{a.push(t.document)}),(a=a.map(t=>(function(t,e){if(!e)return e;var n=(0,b.qu)(e);return n=function t(e){if(!e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;if(Array.isArray(e))return e.map(e=>t(e));if("object"==typeof e){var n={};return Object.entries(e).forEach(([e,r])=>{"object"==typeof r&&(r=t(r)),n[D(e)]=r}),n}}(n),t.forEach(t=>{var r=(0,w.$s)(e,t),i=D(t);(0,w.Hn)(n,i,r?"1":"0")}),n})(r.booleanIndexes,t))).length>0&&await r.dexieTable.bulkPut(a);var u=[];n.attachmentsAdd.forEach(t=>{u.push({id:t.documentId+"||"+t.attachmentId,data:t.attachmentData.data})}),n.attachmentsUpdate.forEach(t=>{u.push({id:t.documentId+"||"+t.attachmentId,data:t.attachmentData.data})}),await r.dexieAttachmentsTable.bulkPut(u),await r.dexieAttachmentsTable.bulkDelete(n.attachmentsRemove.map(t=>t.documentId+"||"+t.attachmentId))}),(n=(0,B.Is)(n)).eventBulk.events.length>0){var s=(0,B.Is)(n.newestRow).document;n.eventBulk.checkpoint={id:s[this.primaryPath],lwt:s._meta.lwt},n.eventBulk.endTime=(0,I.z)(),this.changes$.next(n.eventBulk)}return i},e.findDocumentsById=async function(t,e){tT(this);var n=await this.internals,r=[];return await n.dexieDb.transaction("r",n.dexieTable,async()=>{(await C(this.internals,t)).forEach(t=>{t&&(!t._deleted||e)&&r.push(t)})}),r},e.query=function(t){return tT(this),K(this,t)},e.count=async function(t){return t.queryPlan.selectorSatisfiedByIndex?{count:await U(this,t),mode:"fast"}:{count:(await K(this,t)).documents.length,mode:"slow"}},e.changeStream=function(){return tT(this),this.changes$.asObservable()},e.cleanup=async function(t){tT(this);var e=await this.internals;return await e.dexieDb.transaction("rw",e.dexieTable,async()=>{var n=(0,I.z)()-t,r=await e.dexieTable.where("_meta.lwt").below(n).toArray(),i=[];r.forEach(t=>{"1"===t._deleted&&i.push(t[this.primaryPath])}),await e.dexieTable.bulkDelete(i)}),!0},e.getAttachmentData=async function(t,e,n){tT(this);var r=await this.internals,i=t+"||"+e;return await r.dexieDb.transaction("r",r.dexieAttachmentsTable,async()=>{var n=await r.dexieAttachmentsTable.get(i);if(n)return n.data;throw Error("attachment missing documentId: "+t+" attachmentId: "+e)})},e.remove=async function(){tT(this);var t=await this.internals;return await t.dexieTable.clear(),this.close()},e.close=function(){return this.closed||(this.closed=(async()=>{this.changes$.complete(),await A(this.internals)})()),this.closed},e.conflictResultionTasks=function(){return new j.x},e.resolveConflictResultionTask=async function(t){},t}();async function tD(t,e,n){var r,i,o,a,u,c=(r=e.databaseName,i=e.collectionName,a="rxdb-dexie-"+r+"--"+(o=e.schema).version+"--"+i,u=(0,g.c)(S,a,()=>{var t=(async()=>{var t,e,r,i,u,c=(0,b.qu)(n);c.autoOpen=!1;var l=new s(a,c),h={[k]:(t=[],e=(0,_.CT)(o.primaryKey),t.push([e]),t.push(["_deleted",e]),o.indexes&&o.indexes.forEach(e=>{var n=(0,x.qo)(e);t.push(n)}),t.push(["_meta.lwt",e]),t.push(["_meta.lwt"]),(t=t.map(t=>t.map(t=>D(t)))).map(t=>1===t.length?t[0]:"["+t.join("+")+"]").filter((t,e,n)=>n.indexOf(t)===e).join(", ")),changes:"++sequence, id",[P]:"id"};return l.version(1).stores(h),await l.open(),{dexieDb:l,dexieTable:l[k],dexieAttachmentsTable:l[P],booleanIndexes:(i=new Set,u=[],o.indexes?(o.indexes.forEach(t=>{(0,x.qo)(t).forEach(t=>{i.has(t)||(i.add(t),"boolean"===(0,_._F)(o,t).type&&u.push(t))})}),u.push("_deleted"),(0,x.Nb)(u)):u)}})();return S.set(a,u),O.set(u,0),t})),l=new tA(t,e.databaseName,e.collectionName,e.schema,c,e.options,n,e.devMode);return await function(t,e,n,r){if(e.multiInstance){var i,o,s,a=(i=e.databaseInstanceToken,o=n.databaseName,(s=tk.get(i))||(s={bc:new tv(["RxDB:",t,o].join("|")),refs:new Set},tk.set(i,s)),s.refs.add(n),s.bc),u=new j.x,c=n=>{n.storageName===t&&n.databaseName===e.databaseName&&n.collectionName===e.collectionName&&n.version===e.schema.version&&u.next(n.eventBulk)};a.addEventListener("message",c);var l=n.changeStream(),h=!1,f=l.subscribe(n=>{h||a.postMessage({storageName:t,databaseName:e.databaseName,collectionName:e.collectionName,version:e.schema.version,eventBulk:n})});n.changeStream=function(){return u.asObservable().pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return G.apply(void 0,(0,z.ev)([],(0,z.CR)(t)))}(l))};var d=n.close.bind(n);n.close=async function(){return h=!0,f.unsubscribe(),a.removeEventListener("message",c),r||await tP(e.databaseInstanceToken,n),d()};var p=n.remove.bind(n);n.remove=async function(){return h=!0,f.unsubscribe(),a.removeEventListener("message",c),r||await tP(e.databaseInstanceToken,n),p()}}}(E,e,l),Promise.resolve(l)}function tT(t){if(t.closed)throw Error("RxStorageInstanceDexie is closed "+t.databaseName+"-"+t.collectionName)}var tC=n(8292),tj=function(){function t(t){this.name=E,this.rxdbVersion=tC.j,this.settings=t}return t.prototype.createStorageInstance=function(t){return(0,V.nR)(t),tD(this,t,this.settings)},t}();function tI(t={}){return new tj(t)}},4073:function(t,e,n){"use strict";n.d(e,{Rf:function(){return Y}});var r,i={};n.r(i),n.d(i,{$all:function(){return l.Ns},$and:function(){return w.h$},$bitsAllClear:function(){return d},$bitsAllSet:function(){return p},$bitsAnyClear:function(){return m},$bitsAnySet:function(){return y},$elemMatch:function(){return l.rr},$eq:function(){return v.l3},$exists:function(){return g.G},$expr:function(){return b.Vb},$gt:function(){return v.ok},$gte:function(){return v.m9},$in:function(){return v.FI},$jsonSchema:function(){return b.vc},$lt:function(){return v.Ty},$lte:function(){return v.HG},$mod:function(){return b.JD},$ne:function(){return v.ny},$nin:function(){return v.IS},$nor:function(){return w.ps},$not:function(){return w._w},$or:function(){return w.Ko},$regex:function(){return b.GO},$size:function(){return l.QH},$type:function(){return g.e},$where:function(){return b.eY}});var o={};n.r(o),n.d(o,{$addToSet:function(){return O},$bit:function(){return D},$currentDate:function(){return T},$inc:function(){return C},$max:function(){return j},$min:function(){return I},$mul:function(){return M},$pop:function(){return R},$pull:function(){return B},$pullAll:function(){return $},$push:function(){return F},$rename:function(){return L},$set:function(){return q},$unset:function(){return K}});var s=n(1048),a=n(4490),u=n(9087),c=n(9075),l=n(2624),h=n(1744);let f=t=>(0,h.iG)((e,n,r)=>{let i=0;if(n instanceof Array)for(let t of n)i|=1<<t;else i=n;return t(e&i,i)}),d=f((t,e)=>0==t),p=f((t,e)=>t==e),m=f((t,e)=>t<e),y=f((t,e)=>t>0);var v=n(5009),g=n(7584),b=n(7470),w=n(2135),x=n(3106),_=n(4950);let k=(t,e)=>{switch(t){case"deep":return(0,x.Xh)(e);case"copy":if((0,x.J_)(e))return new Date(e);if((0,x.kJ)(e))return[...e];if((0,x.Kn)(e))return{...e};return e;default:return e}},P=/^[a-z]+[a-zA-Z0-9]*$/,E=(t,e,n,r,i)=>{let{parent:o,child:s,next:a}=e;if(!s){let e=!1;return(0,x._p)(t,o,(t,n)=>e=!!r(t,n)||e,i),e}let u=(0,x.DB)(t,o);return!!(0,x.kJ)(u)&&u.map((t,e)=>(!n[s]||!!n[s].test({[s]:t}))&&(a?E(t,a,n,r,i):r(u,e))).some(Boolean)};function S(t,e,n,r){let i=[];for(let[o,s]of Object.entries(t)){let[t,a]=function t(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];let n=e.indexOf(".$"),r=e.indexOf("]"),i=e.substring(0,n),o=e.substring(n+3,r);(0,x.hu)(""===o||P.test(o),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");let s=e.substring(r+2),[a,u]=s?t(s):[];return[{selector:e,parent:i,child:o||"$",next:a},[o,...u||[]].filter(Boolean)]}(o);if(a.length){let o={};e.forEach(t=>{Object.keys(t).forEach(e=>{a.forEach(n=>{(e===n||e.startsWith(n+"."))&&(o[n]=o[n]||{},Object.assign(o[n],{[e]:t[e]}))})})});let u={};for(let[t,e]of Object.entries(o))u[t]=new _.A(e,n.queryOptions);r(s,t,u)&&i.push(t.parent)}else r(s,t,{})&&i.push(t.parent)}return i}let O=(t,e,n=[],r={})=>S(e,n,r,(e,n,i)=>{let o={$each:[e]};return(0,x.Kn)(e)&&(0,x.e$)(e,"$each")&&Object.assign(o,e),E(t,n,i,(t,e)=>{let n=t[e]||=[];return(0,x.jV)([n,o.$each]).length!==o.$each.length&&(t[e]=k(r.cloneMode,(0,x.Tw)(n.concat(o.$each))),!0)},{buildGraph:!0})}),A=new Set(["and","or","xor"]),D=(t,e,n=[],r={})=>S(e,n,r,(e,n,r)=>{let i=Object.keys(e);return(0,x.hu)(1===i.length&&A.has(i[0]),`Invalid bit operator '${i[0]}'. Must be one of 'and', 'or', or 'xor'.`),E(t,n,r,(t,n)=>{let r=t[n],o=e[i[0]];if(void 0!==r&&!((0,x.hj)(r)&&(0,x.hj)(o)))return!1;switch(r=r||0,i[0]){case"and":t[n]=r&o;break;case"or":t[n]=r|o;break;case"xor":t[n]=r^o}return t[n]!==r},{buildGraph:!0})}),T=(t,e,n=[],r={})=>{let i=Date.now();return S(e,n,r,(e,n,r)=>E(t,n,r,(t,e)=>(t[e]=i,!0),{buildGraph:!0}))},C=(t,e,n=[],r={})=>S(e,n,r,(e,n,r)=>{if(!n.child){let e=(0,x.DB)(t,n.parent);(0,x.hu)(void 0===e||(0,x.hj)(e),"cannot apply $inc to a value of non-numeric type")}return E(t,n,r,(t,n)=>(t[n]=(t[n]||=0)+e,!0),{buildGraph:!0})}),j=(t,e,n=[],r={})=>S(e,n,r,(e,n,r)=>E(t,n,r,(t,n)=>!(void 0!==t[n]&&(0,x.qu)(t[n],e)>-1)&&(t[n]=e,!0),{buildGraph:!0})),I=(t,e,n=[],r={})=>S(e,n,r,(e,n,r)=>E(t,n,r,(t,n)=>!(void 0!==t[n]&&1>(0,x.qu)(t[n],e))&&(t[n]=e,!0),{buildGraph:!0})),M=(t,e,n=[],r={})=>S(e,n,r,(e,n,r)=>E(t,n,r,(t,n)=>{let r=t[n];return t[n]=void 0===t[n]?0:t[n]*e,t[n]!==r},{buildGraph:!0})),R=(t,e,n=[],r={})=>S(e,n,r,(e,n,r)=>E(t,n,r,(t,r)=>{let i=t[r];return(0,x.hu)((0,x.kJ)(i),`path '${n.selector}' contains an element of non-array type.`),!!i.length&&(-1===e?i.splice(0,1):i.pop(),!0)})),B=(t,e,n=[],r={})=>S(e,n,r,(e,n,i)=>{let o=!(0,x.Kn)(e)||Object.keys(e).some(x.S6),s=new _.A(o?{k:e}:e,r.queryOptions),a=o?t=>s.test({k:t}):t=>s.test(t);return E(t,n,i,(t,e)=>{let n=t[e],r=[];return!!n.map(t=>{let e=a(t);return e||r.push(t),e}).some(Boolean)&&(t[e]=r,!0)})}),$=(t,e,n=[],r={})=>{let i={};return Object.entries(e).forEach(([t,e])=>{i[t]={$in:e}}),B(t,i,n,r)},N=Object.freeze(["$each","$slice","$sort","$position"]),F=(t,e,n=[],r={})=>S(e,n,r,(e,n,i)=>{let o={$each:[e]};return(0,x.Kn)(e)&&N.some(t=>(0,x.e$)(e,t))&&Object.assign(o,e),E(t,n,i,(t,e)=>{let n=t[e]||=[],i=n.slice(0,o.$slice||n.length),s=n.length,a=(0,x.hj)(o.$position)?o.$position:n.length;if(n.splice(a,0,...k(r.cloneMode,o.$each)),o.$sort){let t=(0,x.Kn)(o.$sort)?Object.keys(o.$sort||{}).pop():"",e=t?o.$sort[t]:o.$sort,r=t?e=>(0,x.DB)(e,t):t=>t;n.sort((t,n)=>e*(0,x.qu)(r(t),r(n)))}return(0,x.hj)(o.$slice)&&(o.$slice<0?n.splice(0,n.length+o.$slice):n.splice(o.$slice)),s!=n.length||!(0,x.Xy)(i,n)},{descendArray:!0,buildGraph:!0})}),q=(t,e,n=[],r={})=>S(e,n,r,(e,n,i)=>E(t,n,i,(t,n)=>!(0,x.Xy)(t[n],e)&&(t[n]=k(r.cloneMode,e),!0),{buildGraph:!0})),L=(t,e,n=[],r={})=>{let i=[];return Array.from(new Set(S(e,n,r,(e,o,s)=>E(t,o,s,(o,s)=>!!(0,x.e$)(o,s)&&(i.push(...q(t,{[e]:o[s]},n,r)),delete o[s],!0))).concat(i)))},K=(t,e,n=[],r={})=>S(e,n,r,(e,n,r)=>E(t,n,r,(t,e)=>!!(0,x.e$)(t,e)&&((0,x.kJ)(t)?t[e]=null:delete t[e],!0)));function U(t){return(t={...t,queryOptions:(0,a.Tc)(t.queryOptions)}).queryOptions.context.addQueryOps(i).addExpressionOps(u).addExpressionOps(c),(e,n,r=[],i={},s={})=>{let u=Object.assign({cloneMode:"copy"},t,s);Object.assign(u,{queryOptions:(0,a.Tc)(Object.assign({useStrictMode:!1},u?.queryOptions))}),r=r||[],i=i||{};let c=Object.entries(n);(0,x.hu)(1===c.length,"Update expression must contain only one operator.");let[l,h]=c[0];(0,x.hu)((0,x.e$)(o,l),`Update operator '${l}' is not supported.`);let f=o[l];return Object.keys(i).length&&!(i instanceof _.A?i:new _.A(i,u.queryOptions)).test(e)?[]:f(e,h,r,u)}}U({});var V=n(4807);function z(t,e){if(!r){var n=U({cloneMode:"none"});r=(t,e)=>{var r=(0,V.d9)(t);return n(r,e),r}}return r(t,e)}function W(t){return this.incrementalModify(e=>z(e,t))}function Q(t){var e=this._data,n=z(e,t);return this._saveData(n,e)}async function H(t){return(0,s.yA)(this.asRxQuery,e=>e.update(t))}var Y={name:"update",rxdb:!0,prototypes:{RxDocument:t=>{t.update=Q,t.incrementalUpdate=W},RxQuery:t=>{t.update=H}}}},71:function(t,e,n){"use strict";function r(t){return Array.isArray(t)?t.slice(0):[t]}function i(t){return Array.isArray(t)}function o(t){return null!=t}function s(t,e){var n=0,r=-1;for(var i of t)if(e(i,r+=1))n+=1;else break;return n}function a(t,e){var n=e.length;if(0!==n){var r=t.length;t.length=r+e.length;for(var i=0;i<n;++i)t[r+i]=e[i]}}function u(t){return t.filter(function(t,e,n){return n.indexOf(t)===e})}n.d(e,{AD:function(){return i},Nb:function(){return u},S7:function(){return o},gu:function(){return a},qo:function(){return r},r0:function(){return s}})},3886:function(t,e,n){"use strict";n.d(e,{Ly:function(){return s},Oy:function(){return a},aA:function(){return r},dy:function(){return i},i1:function(){return o}});var r=1;function i(){return{lwt:r}}function o(){return""}function s(t){return Object.assign({},t,{_meta:void 0,_deleted:void 0,_rev:void 0})}function a(t,e,n){if(e.length!==n.length)return!1;for(var r=0,i=e.length;r<i;){var o=e[r],s=n[r];if(r++,o._rev!==s._rev||o[t]!==s[t])return!1}return!0}},504:function(t,e,n){"use strict";n.d(e,{k:function(){return i}});var r=n(3615);function i(t){var e=t.split("-"),n="RxDB";return e.forEach(t=>{n+=(0,r.Ps)(t)}),Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+(n+="Plugin")+" } from 'rxdb/plugins/"+t+"';\n            addRxPlugin("+n+");\n        ")}},1559:function(t,e,n){"use strict";n.d(e,{nt:function(){return w}}),n(2957).lW,Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0}),Object.freeze(["prototype","__proto__","constructor"]);var r=Object.defineProperty,i=(t,e,n)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o=(t,e,n)=>(i(t,"symbol"!=typeof e?e+"":e,n),n);class s{constructor(t,e){o(this,"words"),o(this,"sigBytes"),t=this.words=t||[],this.sigBytes=void 0===e?4*t.length:e}toString(t){return(t||a).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let e=0;e<t.sigBytes;e++){let n=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new s([...this.words])}}let a={stringify(t){let e=[];for(let n=0;n<t.sigBytes;n++){let r=t.words[n>>>2]>>>24-n%4*8&255;e.push((r>>>4).toString(16),(15&r).toString(16))}return e.join("")}},u={parse(t){let e=t.length,n=[];for(let r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s(n,e)}},c={parse:t=>u.parse(unescape(encodeURIComponent(t)))};class l{constructor(){o(this,"_data",new s),o(this,"_nDataBytes",0),o(this,"_minBufferSize",0),o(this,"blockSize",16)}reset(){this._data=new s,this._nDataBytes=0}_append(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,e){}_process(t){let e;let n=this._data.sigBytes/(4*this.blockSize),r=(n=t?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0))*this.blockSize,i=Math.min(4*r,this._data.sigBytes);if(r){for(let t=0;t<r;t+=this.blockSize)this._doProcessBlock(this._data.words,t);e=this._data.words.splice(0,r),this._data.sigBytes-=i}return new s(e,i)}}class h extends l{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}var f=Object.defineProperty,d=(t,e,n)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p=(t,e,n)=>(d(t,"symbol"!=typeof e?e+"":e,n),n);let m=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],y=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],v=[];class g extends h{constructor(){super(...arguments),p(this,"_hash",new s([...m]))}reset(){super.reset(),this._hash=new s([...m])}_doProcessBlock(t,e){let n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],c=n[6],l=n[7];for(let n=0;n<64;n++){if(n<16)v[n]=0|t[e+n];else{let t=v[n-15],e=(t<<25|t>>>7)^(t<<14|t>>>18)^t>>>3,r=v[n-2],i=(r<<15|r>>>17)^(r<<13|r>>>19)^r>>>10;v[n]=e+v[n-7]+i+v[n-16]}let h=a&u^~a&c,f=r&i^r&o^i&o,d=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),p=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+h+y[n]+v[n],m=d+f;l=c,c=u,u=a,a=s+p|0,s=o,o=i,i=r,r=p+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+l|0}finalize(t){super.finalize(t);let e=8*this._nDataBytes,n=8*this._data.sigBytes;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[(n+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(n+64>>>9<<4)+15]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}async function b(t){var e=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",e);return Array.prototype.map.call(new Uint8Array(n),t=>("00"+t.toString(16)).slice(-2)).join("")}var w="undefined"!=typeof crypto&&void 0!==crypto.subtle&&"function"==typeof crypto.subtle.digest?b:function(t){return Promise.resolve(new g().finalize(t).toString())}},4566:function(t,e,n){"use strict";function r(t,e){var n=t.get(e);if(void 0===n)throw Error("missing value from map "+e);return n}function i(t,e,n,r){var i=t.get(e);return void 0===i?(i=n(),t.set(e,i)):r&&r(i),i}n.d(e,{c:function(){return i},e:function(){return r}})},701:function(t,e,n){"use strict";n.d(e,{v:function(){return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;if(Array.isArray(e)){if((r=e.length)!==n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();var r,i,o=Object.keys(e);if((r=o.length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n}}})},8153:function(t,e,n){"use strict";n.d(e,{$s:function(){return u},Hn:function(){return c}});var r=t=>{var e=typeof t;return null!==t&&("object"===e||"function"===e)},i=new Set(["__proto__","prototype","constructor"]),o=new Set("0123456789");function s(t){var e=[],n="",r="start",s=!1;for(var a of t)switch(a){case"\\":if("index"===r)throw Error("Invalid character in an index");if("indexEnd"===r)throw Error("Invalid character after an index");s&&(n+=a),r="property",s=!s;break;case".":if("index"===r)throw Error("Invalid character in an index");if("indexEnd"===r){r="property";break}if(s){s=!1,n+=a;break}if(i.has(n))return[];e.push(n),n="",r="property";break;case"[":if("index"===r)throw Error("Invalid character in an index");if("indexEnd"===r){r="index";break}if(s){s=!1,n+=a;break}if("property"===r){if(i.has(n))return[];e.push(n),n=""}r="index";break;case"]":if("index"===r){e.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if("indexEnd"===r)throw Error("Invalid character after an index");default:if("index"===r&&!o.has(a))throw Error("Invalid character in an index");if("indexEnd"===r)throw Error("Invalid character after an index");"start"===r&&(r="property"),s&&(s=!1,n+="\\"),n+=a}switch(s&&(n+="\\"),r){case"property":if(i.has(n))return[];e.push(n);break;case"index":throw Error("Index was not closed");case"start":e.push("")}return e}function a(t,e){if("number"!=typeof e&&Array.isArray(t)){var n=Number.parseInt(e,10);return Number.isInteger(n)&&t[n]===t[e]}return!1}function u(t,e,n){if(Array.isArray(e)&&(e=e.join(".")),!e.includes(".")&&!e.includes("["))return t[e];if(!r(t)||"string"!=typeof e)return void 0===n?t:n;var i=s(e);if(0===i.length)return n;for(var o=0;o<i.length;o++){var u=i[o];if(null==(t=a(t,u)?o===i.length-1?void 0:null:t[u])){if(o!==i.length-1)return n;break}}return void 0===t?n:t}function c(t,e,n){if(Array.isArray(e)&&(e=e.join(".")),!r(t)||"string"!=typeof e)return t;for(var i=t,o=s(e),u=0;u<o.length;u++){var c=o[u];!function(t,e){if(a(t,e))throw Error("Cannot use string index")}(t,c),u===o.length-1?t[c]=n:r(t[c])||(t[c]="number"==typeof o[u+1]?[]:{}),t=t[c]}return i}},4807:function(t,e,n){"use strict";function r(t){var e=t.split("."),n=e.length;return 1===n?e=>e[t]:t=>{for(var r=t,i=0;i<n&&void 0!==(r=r[e[i]]);++i);return r}}function i(t){return Object.assign({},t)}function o(t){return Object.keys(t)[0]}n.d(e,{BT:function(){return o},CV:function(){return function t(e,n=!1){if(!e)return e;if(!n&&Array.isArray(e))return e.sort((t,e)=>"string"==typeof t&&"string"==typeof e?t.localeCompare(e):"object"==typeof t?1:-1).map(e=>t(e,n));if("object"==typeof e&&!Array.isArray(e)){var r={};return Object.keys(e).sort((t,e)=>t.localeCompare(e)).forEach(i=>{r[i]=t(e[i],n)}),r}return e}},IK:function(){return a},d9:function(){return s},qu:function(){return i},wN:function(){return r}});var s=function t(e){if(!e||null===e||"object"!=typeof e)return e;if(Array.isArray(e)){for(var n=Array(e.length),r=n.length;r--;)n[r]=t(e[r]);return n}var i={};for(var o in e)i[o]=t(e[o]);return i};function a(t,e,n){return Object.defineProperty(t,e,{get:function(){return n}}),n}},9533:function(t,e,n){"use strict";function r(t,e){if(!t)throw e||(e=""),Error("ensureNotFalsy() is falsy: "+e);return t}n.d(e,{Is:function(){return r},kv:function(){return i}});var i={bufferSize:1,refCount:!0}},8736:function(t,e,n){"use strict";function r(){return new Promise(t=>setTimeout(t,0))}n.d(e,{$Y:function(){return s},C2:function(){return c},Y3:function(){return r},Ze:function(){return l},kZ:function(){return i},m5:function(){return o},y$:function(){return a}}),Promise.resolve(!0);var i=Promise.resolve(!1),o=Promise.resolve(null),s=Promise.resolve();function a(t=1e4){return"function"==typeof requestIdleCallback?new Promise(e=>{requestIdleCallback(()=>e(),{timeout:t})}):function(t=0){return new Promise(e=>setTimeout(e,t))}(0)}var u=s;function c(t){return u=u.then(()=>a(t))}function l(t,e){return t.reduce((t,e)=>t.then(e),Promise.resolve(e))}},7986:function(t,e,n){"use strict";function r(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if("-"===r)return parseInt(e,10);e+=r}throw Error("malformatted revision: "+t)}function i(t,e){return(e?r(e._rev)+1:1)+"-"+t}n.d(e,{Ac:function(){return r},Zo:function(){return i}})},8292:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});var r="15.39.0"},3615:function(t,e,n){"use strict";n.d(e,{Ny:function(){return s},Ps:function(){return o},sc:function(){return i}});var r="abcdefghijklmnopqrstuvwxyz";function i(t=10){for(var e="",n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}function o(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)}function s(t){for(;"."===t.charAt(0);)t=t.substr(1);for(;"."===t.slice(-1);)t=t.slice(0,-1);return t}},5206:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=0;function i(){var t=Date.now();(t+=.01)<=r&&(t=r+.01);var e=parseFloat(t.toFixed(2));return r=e,e}},7611:function(t,e,n){"use strict";n.d(e,{KQ:function(){return a},XY:function(){return c},vT:function(){return h}});var r=n(4566),i=n(5206),o=n(8736),s=function(){function t(){this._map=new Map}return t.prototype.getByQuery=function(t){var e=t.toString();return(0,r.c)(this._map,e,()=>t)},t}();function a(){return new s}function u(t,e){e.uncached=!0;var n=e.toString();t._map.delete(n)}var c=(t,e)=>{if(!(e._map.size<100)){var n=(0,i.z)()-3e4,r=[];for(var o of Array.from(e._map.values()))if(!(o.refCount$.observers.length>0)){if(0===o._lastEnsureEqual&&o._creationTime<n){u(e,o);continue}r.push(o)}var s=r.length-100;s<=0||r.sort((t,e)=>t._lastEnsureEqual-e._lastEnsureEqual).slice(0,s).forEach(t=>u(e,t))}},l=new WeakSet;function h(t){l.has(t)||(l.add(t),(0,o.Y3)().then(()=>(0,o.C2)(200)).then(()=>{t.destroyed||t.cacheReplacementPolicy(t,t._queryCache),l.delete(t)}))}},1718:function(t,e,n){"use strict";n.d(e,{O7:function(){return u},Os:function(){return c},PU:function(){return s},eG:function(){return a}});var r=n(71),i=n(4121),o=n(6810),s=String.fromCharCode(65535),a=Number.MIN_SAFE_INTEGER;function u(t,e){var n,u=e.selector,f=t.indexes?t.indexes.slice(0):[];e.index&&(f=[e.index]);var d=!!e.sort.find(t=>"desc"===Object.values(t)[0]),p=new Set;Object.keys(u).forEach(e=>{var n=(0,o._F)(t,e);n&&"boolean"===n.type&&Object.prototype.hasOwnProperty.call(u[e],"$eq")&&p.add(e)});var m=e.sort.map(t=>Object.keys(t)[0]).filter(t=>!p.has(t)).join(","),y=-1;if(f.forEach(t=>{var i,o,f=!0,v=!0,g=t.map(t=>{var e=u[t],n=e?Object.keys(e):[],r={};return e&&n.length?n.forEach(t=>{if(c.has(t)){var n=e[t],i=function(t,e){switch(t){case"$eq":return{startKey:e,endKey:e,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:e,inclusiveEnd:!0};case"$gte":return{startKey:e,inclusiveStart:!0};case"$lt":return{endKey:e,inclusiveEnd:!1};case"$gt":return{startKey:e,inclusiveStart:!1};default:throw Error("SNH")}}(t,n);r=Object.assign(r,i)}}):r={startKey:v?a:s,endKey:f?s:a,inclusiveStart:!0,inclusiveEnd:!0},void 0===r.startKey&&(r.startKey=a),void 0===r.endKey&&(r.endKey=s),void 0===r.inclusiveStart&&(r.inclusiveStart=!0),void 0===r.inclusiveEnd&&(r.inclusiveEnd=!0),v&&!r.inclusiveStart&&(v=!1),f&&!r.inclusiveEnd&&(f=!1),r}),b=g.map(t=>t.startKey),w=g.map(t=>t.endKey),x={index:t,startKeys:b,endKeys:w,inclusiveEnd:f,inclusiveStart:v,sortSatisfiedByIndex:!d&&m===t.filter(t=>!p.has(t)).join(","),selectorSatisfiedByIndex:function(t,e,n,r){if(Object.entries(e).find(([e,n])=>!t.includes(e)||Object.entries(n).find(([t,e])=>!c.has(t)))||e.$and||e.$or)return!1;var i=[],o=new Set;for(var[s,a]of Object.entries(e)){if(!t.includes(s))return!1;var u=Object.keys(a).filter(t=>l.has(t));if(u.length>1)return!1;var f=u[0];if(f&&o.add(s),"$eq"!==f){if(i.length>0)return!1;i.push(f)}}var d=[],p=new Set;for(var[m,y]of Object.entries(e)){if(!t.includes(m))return!1;var v=Object.keys(y).filter(t=>h.has(t));if(v.length>1)return!1;var g=v[0];if(g&&p.add(m),"$eq"!==g){if(d.length>0)return!1;d.push(g)}}var b=0;for(var w of t){for(var x of[o,p]){if(!x.has(w)&&x.size>0)return!1;x.delete(w)}if(n[b]!==r[b]&&o.size>0&&p.size>0)return!1;b++}return!0}(t,e.selector,b,w)},_=(i=0,(o=t=>{t>0&&(i+=t)})(10*(0,r.r0)(x.startKeys,t=>t!==a&&t!==s)),o(10*(0,r.r0)(x.startKeys,t=>t!==s&&t!==a)),o(15*(0,r.r0)(x.startKeys,(t,e)=>t===x.endKeys[e])),o(x.sortSatisfiedByIndex?5:0),i);(_>=y||e.index)&&(y=_,n=x)}),!n)throw(0,i.f3)("SNH",{query:e});return n}var c=new Set(["$eq","$gt","$gte","$lt","$lte"]),l=new Set(["$eq","$gt","$gte"]),h=new Set(["$eq","$lt","$lte"])},2914:function(t,e,n){"use strict";n.d(e,{IA:function(){return i},v9:function(){return o}});var r=n(8757);function i(t){return t.documentData?t.documentData:t.previousDocumentData}function o(t){switch(t.operation){case"INSERT":return{operation:t.operation,id:t.documentId,doc:t.documentData,previous:null};case"UPDATE":return{operation:t.operation,id:t.documentId,doc:r.j.deepFreezeWhenDevMode(t.documentData),previous:t.previousDocumentData?t.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:t.operation,id:t.documentId,doc:null,previous:t.previousDocumentData}}}},4305:function(t,e,n){"use strict";n.d(e,{XP:function(){return y},j9:function(){return d},kH:function(){return p},sJ:function(){return m}});var r=n(4807),i=n(3886),o=n(5206),s=n(7986),a=n(6810),u=n(8159),c=n(2175),l=n(1162),h=n(8757),f=n(4121);function d(t,e){return e=(0,r.qu)(e),e=(0,a.QC)(t,e),"string"!=typeof t.jsonSchema.primaryKey&&(e=(0,a.Oq)(t.primaryPath,t.jsonSchema,e)),e._meta=(0,i.dy)(),Object.prototype.hasOwnProperty.call(e,"_deleted")||(e._deleted=!1),Object.prototype.hasOwnProperty.call(e,"_attachments")||(e._attachments={}),Object.prototype.hasOwnProperty.call(e,"_rev")||(e._rev=(0,i.i1)()),e}async function p(t,e){return e.multiInstance=t.multiInstance,await t.storage.createStorageInstance(e)}async function m(t,e,n,r,i,a,f){var d=(await (0,c.uz)(e)).filter(t=>t.data.name===i),p=[];d.forEach(t=>{p.push({collectionName:t.data.name,schema:t.data.schema,isCollection:!0}),t.data.connectedStorages.forEach(t=>p.push({collectionName:t.collectionName,isCollection:!1,schema:t.schema}))});var m=new Set;if(p=p.filter(t=>{var e=t.collectionName+"||"+t.schema.version;return!m.has(e)&&(m.add(e),!0)}),await Promise.all(p.map(async e=>{var o=await t.createStorageInstance({collectionName:e.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:!1,options:{},schema:e.schema,password:a,devMode:h.j.isDevMode()});await o.remove(),e.isCollection&&await (0,u.BU)("postRemoveRxCollection",{storage:t,databaseName:r,collectionName:i})})),f){var y=d.map(t=>{var e=(0,l._$)(t);return e._deleted=!0,e._meta.lwt=(0,o.z)(),e._rev=(0,s.Zo)(n,t),{previous:t,document:e}});await e.bulkWrite(y,"rx-database-remove-collection-all")}}function y(t){if(t.destroyed)throw(0,f.f3)("COL21",{collection:t.name,version:t.schema.version})}},5769:function(t,e,n){"use strict";n.d(e,{Ko:function(){return C},$O:function(){return j}});var r=n(4622),i=n(4465),o=n(5315),s=n(7449),a=n(8736),u=n(504),c=n(9533),l=n(4807),h=n(4566),f=n(3615),d=n(4305),p=n(4343),m=n(4121),y=n(4704),v=n(7611),g=n(71),b=function(){function t(t){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=t,this.subs.push(this.collection.database.eventBulks$.pipe((0,i.h)(t=>t.collectionName===this.collection.name),(0,i.h)(t=>!t.events[0].isLocal)).subscribe(t=>{this.tasks.add(()=>this._handleChangeEvents(t.events)),this.tasks.size<=1&&(0,a.y$)().then(()=>{this.processTasks()})}))}var e=t.prototype;return e.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(t=>t()),this.tasks.clear())},e._handleChangeEvents=function(t){var e=this.counter;this.counter=this.counter+t.length,t.length>this.limit?this.buffer=t.slice(-1*t.length):((0,g.gu)(this.buffer,t),this.buffer=this.buffer.slice(-1*this.limit));for(var n=e+1,r=this.eventCounterMap,i=0;i<t.length;i++){var o=t[i];r.set(o,n+i)}},e.getCounter=function(){return this.processTasks(),this.counter},e.getBuffer=function(){return this.processTasks(),this.buffer},e.getArrayIndexByPointer=function(t){this.processTasks();var e=this.buffer[0],n=this.eventCounterMap.get(e);return t<n?null:t-n},e.getFrom=function(t){this.processTasks();var e=[],n=this.getArrayIndexByPointer(t);if(null===n)return null;for(;;){var r=this.buffer[n];if(n++,!r)return e;e.push(r)}},e.runFrom=function(t,e){this.processTasks();var n=this.getFrom(t);if(null===n)throw Error("out of bounds");n.forEach(t=>e(t))},e.reduceByLastOfDoc=function(t){return this.processTasks(),t.slice(0)},e.destroy=function(){this.tasks.clear(),this.subs.forEach(t=>t.unsubscribe())},t}(),w=n(8159),x=n(8225),_=n(8757),k=new WeakMap,P=n(1162),E=n(701),S=function(t,e){var n=(0,P.vI)(t.newDocumentState),r=(0,P.vI)(t.realMasterState);return(0,E.v)(n,r)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:t.realMasterState})},O=n(9512),A=["pre","post"],D=["insert","save","remove","create"],T=!1,C=function(){function t(t,e,n,r,i={},o={},s={},a={},u={},c=v.XY,l={},h=S){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this.awaitBeforeReads=new Set,this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=(0,v.KQ)(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=t,this.name=e,this.schema=n,this.internalStorageInstance=r,this.instanceCreationOptions=i,this.migrationStrategies=o,this.methods=s,this.attachments=a,this.options=u,this.cacheReplacementPolicy=c,this.statics=l,this.conflictHandler=h,function(t){if(!T){T=!0;var e=Object.getPrototypeOf(t);D.forEach(t=>{A.map(n=>{e[n+(0,f.Ps)(t)]=function(e,r){return this.addHook(n,t,e,r)}})})}}(this.asRxCollection)}var e=t.prototype;return e.prepare=async function(){this.storageInstance=(0,P.GT)(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new O._l(this.storageInstance,this.schema.primaryPath,(t,e)=>(0,x.Mk)(this,t,e),t=>this._runHooks("post","save",t));var t,e=this.database.eventBulks$.pipe((0,i.h)(t=>t.collectionName===this.name));this.$=e.pipe((0,o.z)(t=>t.events)),this.checkpoint$=e.pipe((0,s.U)(t=>t.checkpoint)),this._changeEventBuffer=new b(this.asRxCollection),this._docCache=new y.K(this.schema.primaryPath,this.database.eventBulks$.pipe((0,i.h)(t=>t.collectionName===this.name&&!t.events[0].isLocal),(0,s.U)(t=>t.events)),e=>{var n,r,i,o;return t||(n=this.asRxCollection,t=(0,h.c)(k,n,()=>{var t,e,r,i;return(0,x.A9)((t=n.schema.getDocumentPrototype(),i={},Object.entries(n.methods).forEach(([t,e])=>{i[t]=e}),e=x.kJ,r={},[t,i,e].forEach(t=>{Object.getOwnPropertyNames(t).forEach(e=>{var n=Object.getOwnPropertyDescriptor(t,e),i=!0;(e.startsWith("_")||e.endsWith("_")||e.startsWith("$")||e.endsWith("$"))&&(i=!1),"function"==typeof n.value?Object.defineProperty(r,e,{get(){return n.value.bind(this)},enumerable:i,configurable:!1}):(n.enumerable=i,n.configurable=!1,n.writable&&(n.writable=!1),Object.defineProperty(r,e,n))})}),r))})),r=this.asRxCollection,i=t,o=(0,x.Zt)(i,r,_.j.deepFreezeWhenDevMode(e)),r._runHooksSync("post","create",e,o),(0,w.Cb)("postCreateRxDocument",o),o});var n=this.database.internalStore.changeStream().pipe((0,i.h)(t=>{var e=this.name+"-"+this.schema.version;return!!t.events.find(t=>"collection"===t.documentData.context&&t.documentData.key===e&&"DELETE"===t.operation)})).subscribe(async()=>{await this.destroy(),await Promise.all(this.onRemove.map(t=>t()))});this._subs.push(n);var r=await this.database.storageToken,u=this.storageInstance.changeStream().subscribe(t=>{for(var e=Array(t.events.length),n=t.events,i=this.name,o=_.j.deepFreezeWhenDevMode,s=0;s<n.length;s++){var a=n[s];e[s]={documentId:a.documentId,collectionName:i,isLocal:!1,operation:a.operation,documentData:o(a.documentData),previousDocumentData:o(a.previousDocumentData)}}var u={id:t.id,internal:!1,collectionName:this.name,storageToken:r,events:e,databaseToken:this.database.token,checkpoint:t.checkpoint,context:t.context,endTime:t.endTime,startTime:t.startTime};this.database.$emit(u)});return this._subs.push(u),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(t=>{this.conflictHandler(t.input,t.context).then(e=>{this.storageInstance.resolveConflictResultionTask({id:t.id,output:e})})})),a.$Y},e.cleanup=function(t){throw(0,d.XP)(this),(0,u.k)("cleanup")},e.migrationNeeded=function(){throw(0,u.k)("migration-schema")},e.getMigrationState=function(){throw(0,u.k)("migration-schema")},e.startMigration=function(t=10){return(0,d.XP)(this),this.getMigrationState().startMigration(t)},e.migratePromise=function(t=10){return this.getMigrationState().migratePromise(t)},e.insert=async function(t){(0,d.XP)(this);var e=await this.bulkInsert([t]),n=e.error[0];return(0,P.T_)(this,t[this.schema.primaryPath],t,n),(0,c.Is)(e.success[0])},e.bulkInsert=async function(t){if((0,d.XP)(this),0===t.length)return{success:[],error:[]};var e,n,r=this.schema.primaryPath,i=new Set;if(this.hasHooks("pre","insert"))e=await Promise.all(t.map(t=>{var e=(0,d.j9)(this.schema,t);return this._runHooks("pre","insert",e).then(()=>(i.add(e[r]),{document:e}))}));else{e=Array(t.length);for(var o=this.schema,s=0;s<t.length;s++){var a=t[s],u=(0,d.j9)(o,a);i.add(u[r]),e[s]={document:u}}}if(i.size!==t.length)throw(0,m.f3)("COL22",{collection:this.name,args:{documents:t}});var c=await this.storageInstance.bulkWrite(e,"rx-collection-bulk-insert"),l=this,h={get success(){if(!n){var f=(0,P.Qq)(l.schema.primaryPath,e,c);n=(0,y.B)(l._docCache,f)}return n},error:c.error};if(this.hasHooks("post","insert")){var p=new Map;e.forEach(t=>{var e=t.document;p.set(e[r],e)}),await Promise.all(h.success.map(t=>this._runHooks("post","insert",p.get(t.primary),t)))}return h},e.bulkRemove=async function(t){(0,d.XP)(this);var e=this.schema.primaryPath;if(0===t.length)return{success:[],error:[]};var n=await this.findByIds(t).exec(),r=[],i=new Map;Array.from(n.values()).forEach(t=>{var e=t.toMutableJSON(!0);r.push(e),i.set(t.primary,e)}),await Promise.all(r.map(t=>{var e=t[this.schema.primaryPath];return this._runHooks("pre","remove",t,n.get(e))}));var o=r.map(t=>{var e=(0,l.qu)(t);return e._deleted=!0,{previous:t,document:e}}),s=await this.storageInstance.bulkWrite(o,"rx-collection-bulk-remove"),a=(0,P.Qq)(this.schema.primaryPath,o,s).map(t=>t[e]);return await Promise.all(a.map(t=>this._runHooks("post","remove",i.get(t),n.get(t)))),{success:a.map(t=>(0,h.e)(n,t)),error:s.error}},e.bulkUpsert=async function(t){(0,d.XP)(this);var e=[],n=new Map;t.forEach(t=>{var r=(0,d.j9)(this.schema,t),i=r[this.schema.primaryPath];if(!i)throw(0,m.f3)("COL3",{primaryPath:this.schema.primaryPath,data:r,schema:this.schema.jsonSchema});n.set(i,r),e.push(r)});var r=await this.bulkInsert(e),i=r.success.slice(0),o=[];return await Promise.all(r.error.map(async t=>{if(409!==t.status)o.push(t);else{var e=t.documentId,r=(0,h.e)(n,e),s=(0,c.Is)(t.documentInDb),a=this._docCache.getCachedRxDocuments([s])[0],u=await a.incrementalModify(()=>r);i.push(u)}})),{error:o,success:i}},e.upsert=async function(t){(0,d.XP)(this);var e=await this.bulkUpsert([t]);return(0,P.T_)(this.asRxCollection,t[this.schema.primaryPath],t,e.error[0]),e.success[0]},e.incrementalUpsert=function(t){(0,d.XP)(this);var e=(0,d.j9)(this.schema,t),n=e[this.schema.primaryPath];if(!n)throw(0,m.f3)("COL4",{data:t});var r=this._incrementalUpsertQueues.get(n);return r||(r=a.$Y),r=r.then(()=>{var t,r;return t=this,(r=t._docCache.getLatestDocumentDataIfExists(n))?Promise.resolve({doc:t._docCache.getCachedRxDocuments([r])[0],inserted:!1}):t.findOne(n).exec().then(n=>n?{doc:n,inserted:!1}:t.insert(e).then(t=>({doc:t,inserted:!0})))}).then(t=>t.inserted?t.doc:t.doc.incrementalModify(t=>e)),this._incrementalUpsertQueues.set(n,r),r},e.find=function(t){if((0,d.XP)(this),"string"==typeof t)throw(0,m.f3)("COL5",{queryObj:t});return t||(t=(0,p.sU)()),(0,p.uy)("find",t,this)},e.findOne=function(t){var e;if((0,d.XP)(this),"number"==typeof t||Array.isArray(t))throw(0,m.zU)("COL6",{queryObj:t});if("string"==typeof t)e=(0,p.uy)("findOne",{selector:{[this.schema.primaryPath]:t},limit:1},this);else{if(t||(t=(0,p.sU)()),t.limit)throw(0,m.f3)("QU6");(t=(0,l.qu)(t)).limit=1,e=(0,p.uy)("findOne",t,this)}return e},e.count=function(t){return(0,d.XP)(this),t||(t=(0,p.sU)()),(0,p.uy)("count",t,this)},e.findByIds=function(t){(0,d.XP)(this);var e={selector:{[this.schema.primaryPath]:{$in:t.slice(0)}}};return(0,p.uy)("findByIds",e,this)},e.exportJSON=function(){throw(0,u.k)("json-dump")},e.importJSON=function(t){throw(0,u.k)("json-dump")},e.insertCRDT=function(t){throw(0,u.k)("crdt")},e.addPipeline=function(t){throw(0,u.k)("pipeline")},e.addHook=function(t,e,n,r=!1){if("function"!=typeof n)throw(0,m.zU)("COL7",{key:e,when:t});if(!A.includes(t))throw(0,m.zU)("COL8",{key:e,when:t});if(!D.includes(e))throw(0,m.f3)("COL9",{key:e});if("post"===t&&"create"===e&&!0===r)throw(0,m.f3)("COL10",{when:t,key:e,parallel:r});var i=n.bind(this),o=r?"parallel":"series";this.hooks[e]=this.hooks[e]||{},this.hooks[e][t]=this.hooks[e][t]||{series:[],parallel:[]},this.hooks[e][t][o].push(i)},e.getHooks=function(t,e){return this.hooks[e]&&this.hooks[e][t]?this.hooks[e][t]:{series:[],parallel:[]}},e.hasHooks=function(t,e){if(!this.hooks[e]||!this.hooks[e][t])return!1;var n=this.getHooks(t,e);return!!n&&(n.series.length>0||n.parallel.length>0)},e._runHooks=function(t,e,n,r){var i=this.getHooks(t,e);if(!i)return a.$Y;var o=i.series.map(t=>()=>t(n,r));return(0,a.Ze)(o).then(()=>Promise.all(i.parallel.map(t=>t(n,r))))},e._runHooksSync=function(t,e,n,r){if(this.hasHooks(t,e)){var i=this.getHooks(t,e);i&&i.series.forEach(t=>t(n,r))}},e.promiseWait=function(t){return new Promise(e=>{var n=setTimeout(()=>{this.timeouts.delete(n),e()},t);this.timeouts.add(n)})},e.destroy=async function(){return this.destroyed?a.kZ:(await Promise.all(this.onDestroy.map(t=>t())),this.destroyed=!0,Array.from(this.timeouts).forEach(t=>clearTimeout(t)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(t=>t.unsubscribe()),delete this.database.collections[this.name],(0,w.BU)("postDestroyRxCollection",this).then(()=>!0))))},e.remove=async function(){await this.destroy(),await Promise.all(this.onRemove.map(t=>t())),await (0,d.sJ)(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)},(0,r.Z)(t,[{key:"insert$",get:function(){return this.$.pipe((0,i.h)(t=>"INSERT"===t.operation))}},{key:"update$",get:function(){return this.$.pipe((0,i.h)(t=>"UPDATE"===t.operation))}},{key:"remove$",get:function(){return this.$.pipe((0,i.h)(t=>"DELETE"===t.operation))}},{key:"asRxCollection",get:function(){return this}}])}();function j({database:t,name:e,schema:n,instanceCreationOptions:r={},migrationStrategies:i={},autoMigrate:o=!0,statics:s={},methods:u={},attachments:c={},options:l={},localDocuments:h=!1,cacheReplacementPolicy:f=v.XY,conflictHandler:p=S}){var m={databaseInstanceToken:t.token,databaseName:t.name,collectionName:e,schema:n.jsonSchema,options:r,multiInstance:t.multiInstance,password:t.password,devMode:_.j.isDevMode()};return(0,w.Cb)("preCreateRxStorageInstance",m),(0,d.kH)(t,m).then(d=>{var m=new C(t,e,n,d,r,i,u,c,l,f,s,p);return m.prepare().then(()=>{Object.entries(s).forEach(([t,e])=>{Object.defineProperty(m,t,{get:()=>e.bind(m)})});var t=a.$Y;return o&&0!==m.schema.version&&(t=m.migratePromise()),t}).then(()=>((0,w.Cb)("createRxCollection",{collection:m,creator:{name:e,schema:n,storageInstance:d,instanceCreationOptions:r,migrationStrategies:i,methods:u,attachments:c,options:l,cacheReplacementPolicy:f,localDocuments:h,statics:s}}),m)).catch(t=>d.close().then(()=>Promise.reject(t)))})}},2175:function(t,e,n){"use strict";n.d(e,{Ln:function(){return f},PI:function(){return v},Sy:function(){return d},YA:function(){return g},q6:function(){return l},uz:function(){return p}});var r=n(4121),i=n(6810),o=n(1162),s=n(3615),a=n(3886),u=n(9533),c=n(4343),l="collection",h="storage-token",f=(0,i.El)({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[l,h,"rx-migration-status","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function d(t,e){return(0,i.r$)(f,{key:t,context:e})}async function p(t){var e=(0,c.AO)(t.schema,{selector:{context:l,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0});return(await t.query(e)).documents}var m="storageToken",y=d(m,h);async function v(t){var e=(0,s.sc)(10),n=t.password?await t.hashFunction(JSON.stringify(t.password)):void 0,i=[{document:{id:y,context:h,key:m,data:{rxdbVersion:t.rxdbVersion,token:e,instanceToken:t.token,passwordHash:n},_deleted:!1,_meta:(0,a.dy)(),_rev:(0,a.i1)(),_attachments:{}}}],c=await t.internalStore.bulkWrite(i,"internal-add-storage-token");if(!c.error[0])return(0,o.Qq)("id",i,c)[0];var l=(0,u.Is)(c.error[0]);if(l.isError&&(0,r.pi)(l)){if(f=l.documentInDb.data.rxdbVersion,d=t.rxdbVersion,!f||d.includes("beta")&&d!==f||f.split(".")[0]!==d.split(".")[0])throw(0,r.f3)("DM5",{args:{database:t.name,databaseStateVersion:l.documentInDb.data.rxdbVersion,codeVersion:t.rxdbVersion}});if(n&&n!==l.documentInDb.data.passwordHash)throw(0,r.f3)("DB1",{passwordHash:n,existingPasswordHash:l.documentInDb.data.passwordHash});var f,d,p=l.documentInDb;return(0,u.Is)(p)}throw l}function g(t,e){return t+"-"+e.version}},5627:function(t,e,n){"use strict";n.d(e,{s2:function(){return A},tl:function(){return T}});var r=n(4622),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function o(t,e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),t._pHM.has(e)){var n=t._pHM.get(e);t._hPM.delete(n),t._pHM.delete(e)}t._iC.delete(e)}}function s(t){t._tryIR||0===t._iC.size||(t._tryIR=!0,setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}setTimeout(function(){if(!t.isIdle()){t._tryIR=!1;return}0!==t._iC.size&&(t._iC.values().next().value._manRes(),setTimeout(function(){return s(t)},0)),t._tryIR=!1},0)},0))}i.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,s(this)},wrapCall:function(t){var e,n=this;this.lock();try{e=t()}catch(t){throw this.unlock(),t}return e.then&&"function"==typeof e.then?e.then(function(t){return n.unlock(),t}).catch(function(t){throw n.unlock(),t}):(this.unlock(),e)},requestIdlePromise:function(t){var e,n=this;t=t||{};var r=new Promise(function(t){return e=t});if(r._manRes=function(){o(n,r),e()},t.timeout){var i=setTimeout(function(){r._manRes()},t.timeout);r._timeoutObj=i}return this._iC.add(r),s(this),r},cancelIdlePromise:function(t){o(this,t)},requestIdleCallback:function(t,e){var n=this._lHN++,r=this.requestIdlePromise(e);return this._hPM.set(n,r),this._pHM.set(r,n),r.then(function(){return t()}),n},cancelIdleCallback:function(t){var e=this._hPM.get(t);this.cancelIdlePromise(e)},clear:function(){var t=this;this._iC.forEach(function(e){return o(t,e)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var a=n(8292),u=n(8736),c=n(3886),l=n(4807),h=n(9533),f=n(504),d=n(1559),p=n(3615),m=n(4121),y=n(5486),v=n(8159),g=n(2863),b=n(5315),w=n(5769),x=n(1162),_=n(1265),k=n(2175),P=n(4305),E=n(8757),S=new Set,O=0,A=function(){function t(t,e,n,r,o,s,c=!1,l={},h,f,d,p,m){this.idleQueue=new i,this.rxdbVersion=a.j,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new g.x,this.observable$=this.eventBulks$.pipe((0,b.z)(t=>t.events)),this.storageToken=u.kZ,this.storageTokenDocument=u.kZ,this.emittedEventBulkIds=new _.i(6e4),this.name=t,this.token=e,this.storage=n,this.instanceCreationOptions=r,this.password=o,this.multiInstance=s,this.eventReduce=c,this.options=l,this.internalStore=h,this.hashFunction=f,this.cleanupPolicy=d,this.allowSlowCount=p,this.reactivity=m,O++,"pseudoInstance"!==this.name&&(this.internalStore=(0,x.GT)(this.asRxDatabase,h,k.Ln),this.storageTokenDocument=(0,k.PI)(this.asRxDatabase).catch(t=>this.startupErrors.push(t)),this.storageToken=this.storageTokenDocument.then(t=>t.data.token).catch(t=>this.startupErrors.push(t)))}var e=t.prototype;return e.getReactivityFactory=function(){if(!this.reactivity)throw(0,m.f3)("DB14",{database:this.name});return this.reactivity},e.$emit=function(t){this.emittedEventBulkIds.has(t.id)||(this.emittedEventBulkIds.add(t.id),this.eventBulks$.next(t))},e.removeCollectionDoc=async function(t,e){var n=await (0,x.ov)(this.internalStore,(0,k.Sy)((0,k.YA)(t,e),k.q6));if(!n)throw(0,m.f3)("SNH",{name:t,schema:e});var r=(0,x._$)(n);r._deleted=!0,await this.internalStore.bulkWrite([{document:r,previous:n}],"rx-database-remove-collection")},e.addCollections=async function(t){var e={},n={},r=[],i={};await Promise.all(Object.entries(t).map(async([t,o])=>{var s=o.schema;e[t]=s;var a=(0,y.Dw)(s,this.hashFunction);if(n[t]=a,this.collections[t])throw(0,m.f3)("DB3",{name:t});var u=(0,k.YA)(t,s),h={id:(0,k.Sy)(u,k.q6),key:u,context:k.q6,data:{name:t,schemaHash:await a.hash,schema:a.jsonSchema,version:a.version,connectedStorages:[]},_deleted:!1,_meta:(0,c.dy)(),_rev:(0,c.i1)(),_attachments:{}};r.push({document:h});var f=Object.assign({},o,{name:t,schema:a,database:this}),d=(0,l.qu)(o);d.database=this,d.name=t,(0,v.Cb)("preCreateRxCollection",d),f.conflictHandler=d.conflictHandler,i[t]=f}));var o=await this.internalStore.bulkWrite(r,"rx-database-add-collection");await j(this),await Promise.all(o.error.map(async t=>{if(409!==t.status)throw(0,m.f3)("DB12",{database:this.name,writeError:t});var r=(0,h.Is)(t.documentInDb),i=r.data.name,o=n[i];if(r.data.schemaHash!==await o.hash)throw(0,m.f3)("DB6",{database:this.name,collection:i,previousSchemaHash:r.data.schemaHash,schemaHash:await o.hash,previousSchema:r.data.schema,schema:(0,h.Is)(e[i])})}));var s={};return await Promise.all(Object.keys(t).map(async t=>{var e=i[t],n=await (0,w.$O)(e);s[t]=n,this.collections[t]=n,this[t]||Object.defineProperty(this,t,{get:()=>this.collections[t]})})),s},e.lockedRun=function(t){return this.idleQueue.wrapCall(t)},e.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},e.exportJSON=function(t){throw(0,f.k)("json-dump")},e.addState=function(t){throw(0,f.k)("state")},e.importJSON=function(t){throw(0,f.k)("json-dump")},e.backup=function(t){throw(0,f.k)("backup")},e.leaderElector=function(){throw(0,f.k)("leader-election")},e.isLeader=function(){throw(0,f.k)("leader-election")},e.waitForLeadership=function(){throw(0,f.k)("leader-election")},e.migrationStates=function(){throw(0,f.k)("migration-schema")},e.destroy=async function(){return this.destroyed?u.kZ:(this.destroyed=!0,await (0,v.BU)("preDestroyRxDatabase",this),this.eventBulks$.complete(),O--,this._subs.map(t=>t.unsubscribe()),"pseudoInstance"===this.name)?u.kZ:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(t=>t()))).then(()=>Promise.all(Object.keys(this.collections).map(t=>this.collections[t]).map(t=>t.destroy()))).then(()=>this.internalStore.close()).then(()=>S.delete(this.storage.name+"|"+this.name)).then(()=>!0)},e.remove=function(){return this.destroy().then(()=>C(this.name,this.storage,this.password))},(0,r.Z)(t,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();async function D(t,e,n,r,i,o){return await e.createStorageInstance({databaseInstanceToken:t,databaseName:n,collectionName:x.DZ,schema:k.Ln,options:r,multiInstance:i,password:o,devMode:E.j.isDevMode()})}function T({storage:t,instanceCreationOptions:e,name:n,password:r,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:s=!1,options:a={},cleanupPolicy:u,allowSlowCount:c=!1,localDocuments:l=!1,hashFunction:h=d.nt,reactivity:f}){(0,v.Cb)("preCreateRxDatabase",{storage:t,instanceCreationOptions:e,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:s,options:a,localDocuments:l}),s||function(t,e){var n=e.name+"|"+t;if(S.has(n))throw(0,m.f3)("DB8",{name:t,storage:e.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}(n,t),S.add(t.name+"|"+n);var y=(0,p.sc)(10);return D(y,t,n,e,i,r).catch(e=>{throw S.delete(t.name+"|"+n),e}).then(d=>{var p=new A(n,y,t,e,r,i,o,a,d,h,u,c,f);return(0,v.BU)("createRxDatabase",{database:p,creator:{storage:t,instanceCreationOptions:e,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:s,options:a,localDocuments:l}}).then(()=>p)})}async function C(t,e,n){var r=(0,p.sc)(10),i=await D(r,e,t,{},!1,n),o=await (0,k.uz)(i),s=new Set;o.forEach(t=>s.add(t.data.name));var a=Array.from(s);return await Promise.all(a.map(o=>(0,P.sJ)(e,i,r,t,o,n))),await (0,v.BU)("postRemoveRxDatabase",{databaseName:t,storage:e}),await i.remove(),a}async function j(t){if(await t.storageToken,t.startupErrors[0])throw t.startupErrors[0]}},8225:function(t,e,n){"use strict";n.d(e,{A9:function(){return k},Mk:function(){return E},Zt:function(){return P},kJ:function(){return _}});var r=n(7449),i=n(4465),o=n(1186),s=n(8887),a=n(2937),u=n(9533),c=n(8153),l=n(8736),h=n(4807),f=n(504),d=n(4566),p=n(3615),m=n(4121),y=n(8159),v=n(2914),g=n(8757),b=n(6810),w=n(1162),x=n(9512),_={get primaryPath(){if(!this.isInstanceOfRxDocument)return;return this.collection.schema.primaryPath},get primary(){if(!this.isInstanceOfRxDocument)return;return this._data[this.primaryPath]},get revision(){if(!this.isInstanceOfRxDocument)return;return this._data._rev},get deleted$(){if(!this.isInstanceOfRxDocument)return;return this.$.pipe((0,r.U)(t=>t._data._deleted))},get deleted$$(){return this.collection.database.getReactivityFactory().fromObservable(this.deleted$,this.getLatest().deleted,this.collection.database)},get deleted(){if(!this.isInstanceOfRxDocument)return;return this._data._deleted},getLatest(){var t=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(t)},get $(){return this.collection.$.pipe((0,i.h)(t=>!t.isLocal),(0,i.h)(t=>t.documentId===this.primary),(0,r.U)(t=>(0,v.IA)(t)),(0,o.O)(this.collection._docCache.getLatestDocumentData(this.primary)),(0,s.x)((t,e)=>t._rev===e._rev),(0,r.U)(t=>this.collection._docCache.getCachedRxDocument(t)),(0,a.d)(u.kv))},get $$(){return this.collection.database.getReactivityFactory().fromObservable(this.$,this.getLatest()._data,this.collection.database)},get$(t){if(g.j.isDevMode()){if(t.includes(".item."))throw(0,m.f3)("DOC1",{path:t});if(t===this.primaryPath)throw(0,m.f3)("DOC2");if(this.collection.schema.finalFields.includes(t))throw(0,m.f3)("DOC3",{path:t});if(!(0,b._F)(this.collection.schema.jsonSchema,t))throw(0,m.f3)("DOC4",{path:t})}return this.$.pipe((0,r.U)(e=>(0,c.$s)(e,t)),(0,s.x)())},get$$(t){var e=this.get$(t);return this.collection.database.getReactivityFactory().fromObservable(e,this.getLatest().get(t),this.collection.database)},populate(t){var e=(0,b._F)(this.collection.schema.jsonSchema,t),n=this.get(t);if(!n)return l.m5;if(!e)throw(0,m.f3)("DOC5",{path:t});if(!e.ref)throw(0,m.f3)("DOC6",{path:t,schemaObj:e});var r=this.collection.database.collections[e.ref];if(!r)throw(0,m.f3)("DOC7",{ref:e.ref,path:t,schemaObj:e});return"array"===e.type?r.findByIds(n).exec().then(t=>Array.from(t.values())):r.findOne(n).exec()},get(t){return function t(e,n){return(0,d.c)(e._propertyCache,n,()=>{var r=(0,c.$s)(e._data,n);return"object"!=typeof r||null===r||Array.isArray(r)?g.j.deepFreezeWhenDevMode(r):new Proxy((0,h.qu)(r),{get(r,i){if("string"!=typeof i)return r[i];var o=i.charAt(i.length-1);if("$"===o){if(i.endsWith("$$")){var s=i.slice(0,-2);return e.get$$((0,p.Ny)(n+"."+s))}var a=i.slice(0,-1);return e.get$((0,p.Ny)(n+"."+a))}if("_"===o){var u=i.slice(0,-1);return e.populate((0,p.Ny)(n+"."+u))}var c=r[i];return"number"==typeof c||"string"==typeof c||"boolean"==typeof c?c:t(e,(0,p.Ny)(n+"."+i))}})})}(this,t)},toJSON(t=!1){if(t)return g.j.deepFreezeWhenDevMode(this._data);var e=(0,h.qu)(this._data);return delete e._rev,delete e._attachments,delete e._deleted,delete e._meta,g.j.deepFreezeWhenDevMode(e)},toMutableJSON(t=!1){return(0,h.d9)(this.toJSON(t))},update(t){throw(0,f.k)("update")},incrementalUpdate(t){throw(0,f.k)("update")},updateCRDT(t){throw(0,f.k)("crdt")},putAttachment(){throw(0,f.k)("attachments")},getAttachment(){throw(0,f.k)("attachments")},allAttachments(){throw(0,f.k)("attachments")},get allAttachments$(){throw(0,f.k)("attachments")},async modify(t,e){var n=this._data,r=await (0,x.Ll)(t)(n);return this._saveData(r,n)},incrementalModify(t,e){return this.collection.incrementalWriteQueue.addWrite(this._data,(0,x.Ll)(t)).then(t=>this.collection._docCache.getCachedRxDocument(t))},patch(t){var e=this._data,n=(0,h.d9)(e);return Object.entries(t).forEach(([t,e])=>{n[t]=e}),this._saveData(n,e)},incrementalPatch(t){return this.incrementalModify(e=>(Object.entries(t).forEach(([t,n])=>{e[t]=n}),e))},async _saveData(t,e){if(t=(0,h.qu)(t),this._data._deleted)throw(0,m.f3)("DOC11",{id:this.primary,document:this});await E(this.collection,t,e);var n=[{previous:e,document:t}],r=await this.collection.storageInstance.bulkWrite(n,"rx-document-save-data"),i=r.error[0];return(0,w.T_)(this.collection,this.primary,t,i),await this.collection._runHooks("post","save",t,this),this.collection._docCache.getCachedRxDocument((0,w.Qq)(this.collection.schema.primaryPath,n,r)[0])},remove(){var t,e=this.collection;if(this.deleted)return Promise.reject((0,m.f3)("DOC13",{document:this,id:this.primary}));var n=(0,h.qu)(this._data);return e._runHooks("pre","remove",n,this).then(async()=>{n._deleted=!0;var t=[{previous:this._data,document:n}],r=await e.storageInstance.bulkWrite(t,"rx-document-remove"),i=r.error[0];return(0,w.T_)(e,this.primary,n,i),(0,w.Qq)(this.collection.schema.primaryPath,t,r)[0]}).then(e=>(t=e,this.collection._runHooks("post","remove",n,this))).then(()=>this.collection._docCache.getCachedRxDocument(t))},incrementalRemove(){return this.incrementalModify(async t=>(await this.collection._runHooks("pre","remove",t,this),t._deleted=!0,t)).then(async t=>(await this.collection._runHooks("post","remove",t._data,t),t))},destroy(){throw(0,m.f3)("DOC14")}};function k(t=_){var e=function(t,e){this.collection=t,this._data=e,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return e.prototype=t,e}function P(t,e,n){var r=new t(e,n);return(0,y.Cb)("createRxDocument",r),r}function E(t,e,n){return e._meta=Object.assign({},n._meta,e._meta),g.j.isDevMode()&&t.schema.validateChange(n,e),t._runHooks("pre","save",e,n)}},4121:function(t,e,n){"use strict";n.d(e,{pi:function(){return v},f3:function(){return m},zU:function(){return y},A2:function(){return b}});var r=n(4622);function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||!function(t){try{return -1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(a())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&i(o,n.prototype),o}(t,arguments,s(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,t)})(t)}var c=n(8757);function l(t,e,n){var r;return"RxError ("+e+"):\n"+t+"\n"+(r="",0===Object.keys(n).length?r:r+="Given parameters: {\n"+Object.keys(n).map(t=>{var e="[object Object]";try{e="errors"===t?n[t].map(t=>JSON.stringify(t,Object.getOwnPropertyNames(t))):JSON.stringify(n[t],function(t,e){return void 0===e?null:e},2)}catch(t){}return t+":"+e}).join("\n")+"}")}var h=function(t){function e(e,n,r={}){var i,o=l(n,e,r);return(i=t.call(this,o)||this).code=e,i.message=o,i.url=d(e),i.parameters=r,i.rxdb=!0,i}return o(e,t),e.prototype.toString=function(){return this.message},(0,r.Z)(e,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(u(Error)),f=function(t){function e(e,n,r={}){var i,o=l(n,e,r);return(i=t.call(this,o)||this).code=e,i.message=o,i.url=d(e),i.parameters=r,i.rxdb=!0,i}return o(e,t),e.prototype.toString=function(){return this.message},(0,r.Z)(e,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(u(TypeError));function d(t){return"https://rxdb.info/errors.html?console=errors#"+t}function p(t){return"\n You can find out more about this error here: "+d(t)+" "}function m(t,e){return new h(t,c.j.tunnelErrorMessage(t)+p(t),e)}function y(t,e){return new f(t,c.j.tunnelErrorMessage(t)+p(t),e)}function v(t){return!!t&&409===t.status&&t}var g={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function b(t){return m("COL20",{name:g[t.status],document:t.documentId,writeError:t})}},1048:function(t,e,n){"use strict";n.d(e,{VL:function(){return T},Pk:function(){return D},tN:function(){return A},yA:function(){return C}});var r=n(1718),i=n(6810),o=n(4807),s=n(71),a=n(3106),u=n(4121),c=n(4490),l=n(4950);n(3358),n(6597);let h=(t,e,n)=>{if((0,a.xb)(e)||!(0,a.Kn)(e))return t;let r=a.qu,i=n.collation;return(0,a.Kn)(i)&&(0,a.HD)(i.locale)&&(r=function(t){let e={sensitivity:f[t.strength||3],caseFirst:"off"===t.caseFirst?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:"shifted"===t.alternate};!0===(t.caseLevel||!1)&&("base"===e.sensitivity&&(e.sensitivity="case"),"accent"===e.sensitivity&&(e.sensitivity="variant"));let n=new Intl.Collator(t.locale,e);return(t,e)=>{if(!(0,a.HD)(t)||!(0,a.HD)(e))return(0,a.qu)(t,e);let r=n.compare(t,e);return r<0?-1:r>0?1:0}}(i)),t.transform(t=>{for(let i of Object.keys(e).reverse()){let o=(0,a.vM)(t,t=>(0,a.DB)(t,i),n.hashFunction),s=Array.from(o.keys()).sort(r);-1===e[i]&&s.reverse(),t=[],s.reduce((t,e)=>(0,a.gi)(t,o.get(e)),t)}return t})},f={1:"base",2:"accent",3:"variant"};var d=n(1744);(0,d.hk)(d.IS);let p=(t,e)=>(n,r,i)=>{(0,a.hu)((0,a.kJ)(r),`${t}: expression must be an array.`);let o=(0,c.Kr)(n,r,null,i);return o.some(a.kK)?null:((0,a.hu)(o.every(a.hj),`${t}: expression must evalue to array of numbers.`),e(o))};p("$bitAnd",t=>t.reduce((t,e)=>t&e,-1)),p("$bitOr",t=>t.reduce((t,e)=>t|e,0)),p("$bitXor",t=>t.reduce((t,e)=>t^e,0)),n(9087),n(9075);let m=(t,e)=>{let n={};return t.split("").forEach((t,r)=>n[t]=e*(r+1)),n};({...m("ABCDEFGHIKLM",1),...m("NOPQRSTUVWXY",-1)});let y={undefined:null,null:null,NaN:NaN,Infinity:Error(),"-Infinity":Error()};function v(t,e=y){let n=Object.assign({},y,e),r=new Set(Object.keys(n));return(e,i,o)=>{let s=(0,c.Kr)(e,i,null,o);if(r.has(`${s}`)){let e=n[`${s}`];if(e instanceof Error)throw new a.QF(`cannot apply $${t.name} to -inf, value must in (-inf,inf)`);return e}return t(s)}}v(Math.acos,{Infinity:1/0,0:Error()}),v(Math.acosh,{Infinity:1/0,0:Error()}),v(Math.asin),v(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),v(Math.atan),v(Math.atanh,{1:1/0,"-1":-1/0}),v(Math.cos),v(Math.cosh,{"-Infinity":1/0,Infinity:1/0});let g=Math.PI/180;v(t=>t*g,{Infinity:1/0,"-Infinity":1/0});let b=180/Math.PI;v(t=>t*b,{Infinity:1/0,"-Infinity":-1/0}),v(Math.sin),v(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),v(Math.tan);let w=(t,e,n)=>{if((0,a.xb)(e))return t;let r=Object.keys(e),i=!1;x(e,n);let o=n.idKey;if((0,a.d3)(r,o)){let t=e[o];(0===t||!1===t)&&(i=0==(r=r.filter(a.Nl.bind(null,[o]))).length)}else r.push(o);let s=c.Cw.init(n);return t.map(t=>(function t(e,n,r,i,o){let s={},u=!1,l=!1,h=[];for(let f of(o&&h.push(r.idKey),i)){let i;let o=n[f];if(f!==r.idKey&&(0,a.d3)([0,!1],o)&&(l=!0),f===r.idKey&&(0,a.xb)(o))i=e[f];else if((0,a.HD)(o))i=(0,c.Kr)(e,o,f,r);else if((0,a.d3)([1,!0],o));else if(o instanceof Array)i=o.map(t=>{let n=(0,c.Kr)(e,t,null,r);return(0,a.kK)(n)?null:n});else if((0,a.Kn)(o)){let n=Object.keys(o),s=1==n.length?n[0]:"",l=(0,c.jQ)(c.$M.PROJECTION,s,r);if(l)"$slice"===s?(0,a.rY)(o[s]).every(a.hj)?(i=l(e,o[s],f,r),u=!0):i=(0,c.Kr)(e,o,f,r):i=l(e,o[s],f,r);else if((0,a.S6)(s))i=(0,c.Kr)(e,o[s],s,r);else if((0,a.e$)(e,f)){x(o,r);let s=e[f];i=s instanceof Array?s.map(e=>t(e,o,r,n,!1)):t(s=(0,a.Kn)(s)?s:e,o,r,n,!1)}else i=(0,c.Kr)(e,o,null,r)}else{h.push(f);continue}let d=(0,a.hB)(e,f,{preserveMissing:!0});void 0!==d&&(0,a.TS)(s,d,{flatten:!0}),(0,a.Nl)([0,1,!1,!0],o)&&(void 0===i?(0,a.fY)(s,f,{descendArray:!0}):(0,a.sO)(s,f,i))}if((0,a.TO)(s),(u||l||o)&&(s=(0,a.gi)({},e,s),h.length>0))for(let t of h)(0,a.fY)(s,t,{descendArray:!0});return s})(t,e,s.update(t),r,i))};function x(t,e){let n=[!1,!1];for(let[r,i]of Object.entries(t)){if(r===e?.idKey)return;0===i||!1===i?n[0]=!0:(1===i||!0===i)&&(n[1]=!0),(0,a.hu)(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}var _=n(2135),k=n(5009),P=n(7470),E=n(2624),S=n(7584),O=!1;function A(t,e){var n=(0,i.CT)(t.primaryKey);e=(0,o.qu)(e);var a=(0,o.d9)(e);if("number"!=typeof a.skip&&(a.skip=0),a.selector?(a.selector=a.selector,Object.entries(a.selector).forEach(([t,e])=>{("object"!=typeof e||null===e)&&(a.selector[t]={$eq:e})})):a.selector={},a.index){var u=(0,s.qo)(a.index);u.includes(n)||u.push(n),a.index=u}if(a.sort)a.sort.find(t=>(0,o.BT)(t)===n)||(a.sort=a.sort.slice(0),a.sort.push({[n]:"asc"}));else if(a.index)a.sort=a.index.map(t=>({[t]:"asc"}));else{if(t.indexes){var c,l=new Set;Object.entries(a.selector).forEach(([t,e])=>{("object"!=typeof e||null===e||Object.keys(e).find(t=>r.Os.has(t)))&&l.add(t)});var h=-1;t.indexes.forEach(t=>{var e=(0,s.AD)(t)?t:[t],n=e.findIndex(t=>!l.has(t));n>0&&n>h&&(h=n,c=e)}),c&&(a.sort=c.map(t=>({[t]:"asc"})))}a.sort||(a.sort=[{[n]:"asc"}])}return a}function D(t,e){if(!e.sort)throw(0,u.f3)("SNH",{query:e});var n=[];return e.sort.forEach(t=>{var e=Object.keys(t)[0],r=Object.values(t)[0];n.push({key:e,direction:r,getValueFn:(0,o.wN)(e)})}),(t,e)=>{for(var r=0;r<n.length;++r){var i=n[r],o=i.getValueFn(t),s=i.getValueFn(e);if(o!==s)return"asc"===i.direction?(0,a.qu)(o,s):(0,a.qu)(s,o)}}}function T(t,e){if(!e.sort)throw(0,u.f3)("SNH",{query:e});var n,r=(n=e.selector,O||((0,c.Qs)(c.$M.PIPELINE,{$sort:h,$project:w}),(0,c.Qs)(c.$M.QUERY,{$and:_.h$,$eq:k.l3,$elemMatch:E.rr,$exists:S.G,$gt:k.ok,$gte:k.m9,$in:k.FI,$lt:k.Ty,$lte:k.HG,$ne:k.ny,$nin:k.IS,$mod:P.JD,$nor:_.ps,$not:_._w,$or:_.Ko,$regex:P.GO,$size:E.QH,$type:S.e}),O=!0),new l.A(n));return t=>r.test(t)}async function C(t,e){var n=await t.exec();return n?Array.isArray(n)?Promise.all(n.map(t=>e(t))):n instanceof Map?Promise.all([...n.values()].map(t=>e(t))):await e(n):null}},4343:function(t,e,n){"use strict";let r;n.d(e,{OX:function(){return X},sU:function(){return J},uy:function(){return Z},AO:function(){return tn}});var i=n(4622),o=n(6200),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return(0,o.ZT)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n.closed||e.next(this._value),n},e.prototype.getValue=function(){var t=this.hasError,e=this.thrownError,n=this._value;if(t)throw e;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(n(2863).x),a=n(6904),u=n(6750),c=new(n(6553)).y(function(t){return t.complete()}),l=n(4146),h=n(2828),f=n(4465),d=n(1186),p=n(5315),m=n(7449),y=n(2937),v=n(8887),g=n(5206),b=n(8736),w=n(9533),x=n(4807),_=n(504),k=n(3886),P=n(71),E=n(4121),S=n(8159);let O=t=>{t.previousResults.unshift(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},A=t=>{t.previousResults.push(t.changeEvent.doc),t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,t.changeEvent.doc)},D=t=>{let e=t.previousResults.shift();t.keyDocumentMap&&e&&t.keyDocumentMap.delete(e[t.queryParams.primaryKey])},T=t=>{let e=t.previousResults.pop();t.keyDocumentMap&&e&&t.keyDocumentMap.delete(e[t.queryParams.primaryKey])},C=t=>{t.keyDocumentMap&&t.keyDocumentMap.delete(t.changeEvent.id);let e=t.queryParams.primaryKey,n=t.previousResults;for(let r=0;r<n.length;r++)if(n[r][e]===t.changeEvent.id){n.splice(r,1);break}},j=t=>{let e=t.changeEvent.id,n=t.changeEvent.doc;if(t.keyDocumentMap){if(t.keyDocumentMap.has(e))return;t.keyDocumentMap.set(e,n)}else if(t.previousResults.find(n=>n[t.queryParams.primaryKey]===e))return;!function(t,e,n,r){var i,o=t.length,s=o-1,a=0;if(0===o)return t.push(e);for(;r<=s;)0>=n(i=t[a=r+(s-r>>1)],e)?r=a+1:s=a-1;0>=n(i,e)&&a++,t.splice(a,0,e)}(t.previousResults,n,t.queryParams.sortComparator,0)},I=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],M={doNothing:t=>{},insertFirst:O,insertLast:A,removeFirstItem:D,removeLastItem:T,removeFirstInsertLast:t=>{D(t),A(t)},removeLastInsertFirst:t=>{T(t),O(t)},removeFirstInsertFirst:t=>{D(t),O(t)},removeLastInsertLast:t=>{T(t),A(t)},removeExisting:C,replaceExisting:t=>{let e=t.changeEvent.doc,n=t.queryParams.primaryKey,r=t.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===t.changeEvent.id){r[i]=e,t.keyDocumentMap&&t.keyDocumentMap.set(t.changeEvent.id,e);break}},alwaysWrong:t=>{let e={_id:"wrongHuman"+new Date().getTime()};t.previousResults.length=0,t.previousResults.push(e),t.keyDocumentMap&&(t.keyDocumentMap.clear(),t.keyDocumentMap.set(e._id,e))},insertAtSortPosition:j,removeExistingAndInsertAtSortPosition:t=>{C(t),j(t)},runFullQueryAgain:t=>{throw Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:t=>{throw Error("Action unknownAction should never be called")}};function R(t,e){let n=[];for(let r=0,i=t.length;r<i;r+=e)n.push(t.substring(r,r+e));return n}function B(t){return t.charCodeAt(0)-40}function $(t){return t[t.length-1]}function N(t,e,n){if(Array.isArray(e)&&(e=e.join(".")),!function(t){let e=typeof t;return null!==t&&("object"===e||"function"===e)}(t)||"string"!=typeof e)return void 0===n?t:n;let r=e.split(".");if(0===r.length)return n;for(let e=0;e<r.length;e++){let i=r[e];if(null==(t=!function(t,e){if("number"!=typeof e&&Array.isArray(t)){let n=Number.parseInt(e,10);return Number.isInteger(n)&&t[n]===t[e]}return!1}(t,i)?t[i]:e===r.length-1?void 0:null)){if(e!==r.length-1)return n;break}}return void 0===t?n:t}!function(t=6){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length;for(let r=0;r<t;r++)e.charAt(Math.floor(Math.random()*n))}(4);let F=t=>!!t.queryParams.limit,q={0:t=>"INSERT"===t.changeEvent.operation,1:t=>"UPDATE"===t.changeEvent.operation,2:t=>"DELETE"===t.changeEvent.operation,3:F,4:t=>1===t.queryParams.limit,5:t=>!!t.queryParams.skip&&t.queryParams.skip>0,6:t=>0===t.previousResults.length,7:t=>F(t)&&t.previousResults.length>=t.queryParams.limit,8:t=>{let e=t.previousResults[0];return!!e&&e[t.queryParams.primaryKey]===t.changeEvent.id},9:t=>{let e=$(t.previousResults);return!!e&&e[t.queryParams.primaryKey]===t.changeEvent.id},10:t=>{let e=t.queryParams.sortFields,n=t.changeEvent.previous,r=t.changeEvent.doc;if(!r)return!1;if(!n)return!0;for(let t=0;t<e.length;t++){let i=e[t];if(N(n,i)!==N(r,i))return!0}return!1},11:t=>{let e=t.changeEvent.id;if(t.keyDocumentMap)return t.keyDocumentMap.has(e);{let n=t.queryParams.primaryKey,r=t.previousResults;for(let t=0;t<r.length;t++)if(r[t][n]===e)return!0;return!1}},12:t=>{let e=t.changeEvent.previous;if(!e)return!1;let n=t.previousResults[0];return!!n&&(n[t.queryParams.primaryKey]===t.changeEvent.id||0>t.queryParams.sortComparator(e,n))},13:t=>{let e=t.changeEvent.previous;if(!e)return!1;let n=$(t.previousResults);return!!n&&(n[t.queryParams.primaryKey]===t.changeEvent.id||t.queryParams.sortComparator(e,n)>0)},14:t=>{let e=t.changeEvent.doc;if(!e)return!1;let n=t.previousResults[0];return!!n&&(n[t.queryParams.primaryKey]===t.changeEvent.id||0>t.queryParams.sortComparator(e,n))},15:t=>{let e=t.changeEvent.doc;if(!e)return!1;let n=$(t.previousResults);return!!n&&(n[t.queryParams.primaryKey]===t.changeEvent.id||t.queryParams.sortComparator(e,n)>0)},16:t=>{let e=t.changeEvent.previous;return!!e&&t.queryParams.queryMatcher(e)},17:t=>{let e=t.changeEvent.doc;return!!e&&t.queryParams.queryMatcher(e)}},L=t=>(function(t,e,n){let r=t,i=t.l;for(;;){if("number"==typeof(r=r[e[i](n)?"1":"0"])||"string"==typeof r)return r;i=r.l}})((r||(r=function(t){let e=new Map,n=2+2*parseInt(t.charAt(0)+t.charAt(1),10),r=R(t.substring(2,n),2);for(let t=0;t<r.length;t++){let n=r[t],i=n.charAt(0),o=B(n.charAt(1));e.set(i,o)}let i=R(t.substring(n,t.length-3),4);for(let t=0;t<i.length;t++){let n=i[t],r=n.charAt(0),o=n.charAt(1),s=n.charAt(2),a=B(n.charAt(3));if(!e.has(o))throw Error("missing node with id "+o);if(!e.has(s))throw Error("missing node with id "+s);let u={l:a,0:e.get(o),1:e.get(s)};e.set(r,u)}let o=t.slice(-3),s=o.charAt(0),a=o.charAt(1),u=B(o.charAt(2));return{l:u,0:e.get(s),1:e.get(a)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7fae9\xa1bf9\xa2bq9\xa3cg9\xa4ck9\xa5cn9\xa6nd9\xa7np9\xa8nq9\xa9nf9\xaang9\xabnm9\xacnk9\xadmr9\xaems9\xafmt9\xb0mj9\xb1mk9\xb2ml9\xb3mn9\xb4mc8\xb5\xb3{8\xb6\xaf}8\xb7\xb0\xa48\xb8\xb3\xa78\xb9mn8\xba\xb3\xab8\xbb\xb3m8\xbcm\xb44\xbdz\xb24\xbe\xb3w4\xbfz\xb54\xc0\xaf\xb64\xc1\xb0\xb74\xc2\xb3\xba4\xc3\xb3\xb84\xc4m\xb94\xc5v\xa47\xc6yn7\xc7\xc0\xc17\xc8~\x7f7\xc9\xa5\xa47\xca\xc3\xc47\xcb\xa8n7\xcc\xba\xb97\xcd\xad\xb07\xce\xaem7\xcf\xaf\xb07\xd0\xb1m7\xd1\xb3m7\xd2\xbcm5\xd3\xc4m5\xd4\xb9m5\xd5\xbd\xb05\xd6\xbem5\xd7\xbf\xb05\xd8\xc7\xcf5\xd9\xc2m5\xda\xca\xd15\xdb\xb1m5\xdc\xbam5\xdd\xcc\xd15\xde\xd5\xcd2\xdf|\x7f2\xe0\xa1u2\xe1\xa3\xc52\xe2\xd6\xce2\xe3\xa6\xc62\xe4\xa9x2\xe5\xaa\xc62\xe6\xd7\xd82\xe7|\xc82\xe8\xa1\xa22\xe9\xa3\xc92\xea\xa4\xa52\xeb\xd9\xda2\xec\xa6\xcb2\xed\xa9n2\xee\xaan2\xef\xdb\xd02\xf0\xdc\xdd2\xf1\xacn2\xf2\xd2\xd3/\xf3an/\xf4bn/\xf5cn/\xf6\xde\xe2/\xf7\xdf\xe3/\xf8\xe0\xe4/\xf9\xe1\xe5/\xfa\xe6\xeb/\xfb\xe7\xec/\xfc\xe8\xed/\xfd\xe9\xee/\xfe\xcd\xce/\xff\xcf\xd1/\xf2\xd4,cn,\xf6\xef,\xa4\xf1,\xfa\xf0,\xea\xf1,\xfe\xd0,\xff\xd1,ac0bc0\xf3\xf50\xf40\xdf\xe10\xe0\xa40\xe7\xe90\xe8\xea0\xf7\xf90\xf80\xfb\xfd0\xfc0m\xd2-m-\xde\xe6------\xb2\xbb-\xcd\xcf--\xb2\xb3-3333(((++++11*m*.")),r),q,t);var K=n(2914),U=n(4566),V=n(1048),z=new WeakMap,W=n(7611),Q=n(4704),H=function(){function t(t,e,n){this.time=(0,g.z)(),this.query=t,this.count=n,this.documents=(0,Q.B)(this.query.collection._docCache,e)}return t.prototype.getValue=function(t){var e=this.query.op;if("count"===e)return this.count;if("findOne"===e){var n=0===this.documents.length?null:this.documents[0];if(n||!t)return n;throw(0,E.f3)("QU10",{collection:this.query.collection.name,query:this.query.mangoQuery,op:e})}return"findByIds"===e?this.docsMap:this.documents.slice(0)},(0,i.Z)(t,[{key:"docsData",get:function(){return(0,x.IK)(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(e=>{t.set(e.primary,e._data)}),(0,x.IK)(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,e=this.documents,n=0;n<e.length;n++){var r=e[n];t.set(r.primary,r)}return(0,x.IK)(this,"docsMap",t)}}])}(),Y=n(1718),G=0,X=function(){function t(t,e,n,r={}){this.id=++G,this._execOverDatabaseCount=0,this._creationTime=(0,g.z)(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new s(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=b.kZ,this.op=t,this.mangoQuery=e,this.collection=n,this.other=r,e||(this.mangoQuery=J()),this.isFindOneByIdQuery=function(t,e){if(!e.skip&&e.selector&&1===Object.keys(e.selector).length&&e.selector[t]){var n=e.selector[t];if("string"==typeof n)return n;if(1===Object.keys(n).length&&"string"==typeof n.$eq||1===Object.keys(n).length&&Array.isArray(n.$eq)&&!n.$eq.find(t=>"string"!=typeof t))return n.$eq}return!1}(this.collection.schema.primaryPath,e)}var e=t.prototype;return e._setResultData=function(t){if(void 0===t)throw(0,E.f3)("QU18",{database:this.collection.database.name,collection:this.collection.name});if("number"==typeof t){this._result=new H(this,[],t);return}t instanceof Map&&(t=Array.from(t.values()));var e=new H(this,t,t.length);this._result=e},e._execOverDatabase=async function(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=(0,g.z)(),"count"===this.op){var t=this.getPreparedQuery(),e=await this.collection.storageInstance.count(t);if("slow"!==e.mode||this.collection.database.allowSlowCount)return e.count;throw(0,E.f3)("QU14",{collection:this.collection,queryObj:this.mangoQuery})}if("findByIds"===this.op){var n=(0,w.Is)(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,r=new Map,i=[];return n.forEach(t=>{var e=this.collection._docCache.getLatestDocumentDataIfExists(t);if(e){if(!e._deleted){var n=this.collection._docCache.getCachedRxDocument(e);r.set(t,n)}}else i.push(t)}),i.length>0&&(await this.collection.storageInstance.findDocumentsById(i,!1)).forEach(t=>{var e=this.collection._docCache.getCachedRxDocument(t);r.set(e.primary,e)}),r}return tr(this).then(t=>(this._lastExecEnd=(0,g.z)(),t))},e.exec=async function(t){if(t&&"findOne"!==this.op)throw(0,E.f3)("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return await te(this),(0,w.Is)(this._result).getValue(t)},e.toString=function(){var t=JSON.stringify((0,x.CV)({op:this.op,query:this.mangoQuery,other:this.other},!0));return this.toString=()=>t,t},e.getPreparedQuery=function(){var t={rxQuery:this,mangoQuery:(0,V.tN)(this.collection.schema.jsonSchema,this.mangoQuery)};t.mangoQuery.selector._deleted={$eq:!1},t.mangoQuery.index&&t.mangoQuery.index.unshift("_deleted"),(0,S.Cb)("prePrepareQuery",t);var e=tn(this.collection.schema.jsonSchema,t.mangoQuery);return this.getPreparedQuery=()=>e,e},e.doesDocumentDataMatch=function(t){return!t._deleted&&this.queryMatcher(t)},e.remove=function(){return this.exec().then(t=>Array.isArray(t)?Promise.all(t.map(t=>t.remove())):t.remove())},e.incrementalRemove=function(){return(0,V.yA)(this.asRxQuery,t=>t.incrementalRemove())},e.update=function(t){throw(0,_.k)("update")},e.patch=function(t){return(0,V.yA)(this.asRxQuery,e=>e.patch(t))},e.incrementalPatch=function(t){return(0,V.yA)(this.asRxQuery,e=>e.incrementalPatch(t))},e.modify=function(t){return(0,V.yA)(this.asRxQuery,e=>e.modify(t))},e.incrementalModify=function(t){return(0,V.yA)(this.asRxQuery,e=>e.incrementalModify(t))},e.where=function(t){throw(0,_.k)("query-builder")},e.sort=function(t){throw(0,_.k)("query-builder")},e.skip=function(t){throw(0,_.k)("query-builder")},e.limit=function(t){throw(0,_.k)("query-builder")},(0,i.Z)(t,[{key:"$",get:function(){if(!this._$){var t=this.collection.$.pipe((0,f.h)(t=>!t.isLocal),(0,d.O)(null),(0,p.z)(()=>te(this)),(0,m.U)(()=>this._result),(0,y.d)(w.kv),(0,v.x)((t,e)=>!!t&&t.time===(0,w.Is)(e).time),(0,f.h)(t=>!!t),(0,m.U)(t=>(0,w.Is)(t).getValue()));this._$=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,l.yG)(t),r=(0,l._6)(t,1/0);return t.length?1===t.length?(0,u.Xf)(t[0]):(0,a.J)(r)((0,h.D)(t,n)):c}(t,this.refCount$.pipe((0,f.h)(()=>!1)))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var t=this.collection.schema.jsonSchema,e=(0,V.tN)(this.collection.schema.jsonSchema,this.mangoQuery);return(0,x.IK)(this,"queryMatcher",(0,V.VL)(t,e))}},{key:"asRxQuery",get:function(){return this}}])}();function J(){return{selector:{}}}function Z(t,e,n,r){(0,S.Cb)("preCreateRxQuery",{op:t,queryObj:e,collection:n,other:r});var i,o=new X(t,e,n,r);return o=(i=o).collection._queryCache.getByQuery(i),(0,W.vT)(n),o}function tt(t){var e=t.asRxQuery.collection._changeEventBuffer.getCounter();return t._latestChangeEvent>=e}async function te(t){return t.collection.awaitBeforeReads.size>0&&await Promise.all(Array.from(t.collection.awaitBeforeReads).map(t=>t())),!(t.collection.database.destroyed||tt(t))&&(t._ensureEqualQueue=t._ensureEqualQueue.then(()=>(function(t){if(t._lastEnsureEqual=(0,g.z)(),t.collection.database.destroyed||tt(t))return b.kZ;var e=!1,n=!1;if(-1===t._latestChangeEvent&&(n=!0),!n){var r=t.asRxQuery.collection._changeEventBuffer.getFrom(t._latestChangeEvent+1);if(null===r)n=!0;else{t._latestChangeEvent=t.asRxQuery.collection._changeEventBuffer.getCounter();var i=t.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if("count"===t.op){var o=(0,w.Is)(t._result).count,s=o;i.forEach(e=>{var n=e.previousDocumentData&&t.doesDocumentDataMatch(e.previousDocumentData),r=t.doesDocumentDataMatch(e.documentData);!n&&r&&s++,n&&!r&&s--}),s!==o&&(e=!0,t._setResultData(s))}else{var a=function(t,e){if(!t.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=(0,U.c)(z,t,()=>{var e=t.collection,n=(0,V.tN)(e.storageInstance.schema,(0,x.d9)(t.mangoQuery)),r=e.schema.primaryPath,i=(0,V.Pk)(e.schema.jsonSchema,n),o=(0,V.VL)(e.schema.jsonSchema,n);return{primaryKey:t.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:n.sort&&0!==n.sort.length?n.sort.map(t=>Object.keys(t)[0]):[r],sortComparator:(t,e)=>i(t,e),queryMatcher:e=>o({doc:e,rxQuery:t}.doc)}}),r=(0,w.Is)(t._result).docsData.slice(0),i=(0,w.Is)(t._result).docsDataMap,o=!1;return e.map(t=>(0,K.v9)(t)).filter(P.S7).find(t=>{var e=I[L({queryParams:n,changeEvent:t,previousResults:r,keyDocumentMap:i})];return"runFullQueryAgain"===e||("doNothing"!==e?(o=!0,(0,M[e])({queryParams:n,changeEvent:t,previousResults:r,keyDocumentMap:i}),!1):void 0)})?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}(t,i);a.runFullQueryAgain?n=!0:a.changed&&(e=!0,t._setResultData(a.newResults))}}}return n?t._execOverDatabase().then(n=>((t._latestChangeEvent=t.collection._changeEventBuffer.getCounter(),"number"==typeof n)?t._result&&n===t._result.count||(e=!0,t._setResultData(n)):t._result&&(0,k.Oy)(t.collection.schema.primaryPath,n,t._result.docsData)||(e=!0,t._setResultData(n)),e)):Promise.resolve(e)})(t)),t._ensureEqualQueue)}function tn(t,e){if(!e.sort)throw(0,E.f3)("SNH",{query:e});var n=(0,Y.O7)(t,e);return{query:e,queryPlan:n}}async function tr(t){var e=[],n=t.collection;if(t.isFindOneByIdQuery){if(Array.isArray(t.isFindOneByIdQuery)){var r=t.isFindOneByIdQuery;if((r=r.filter(n=>{var r=t.collection._docCache.getLatestDocumentDataIfExists(n);return!r||(r._deleted||e.push(r),!1)})).length>0){var i=await n.storageInstance.findDocumentsById(r,!1);(0,P.gu)(e,i)}}else{var o=t.isFindOneByIdQuery,s=t.collection._docCache.getLatestDocumentDataIfExists(o);if(!s){var a=await n.storageInstance.findDocumentsById([o],!1);a[0]&&(s=a[0])}s&&!s._deleted&&e.push(s)}}else{var u=t.getPreparedQuery();e=(await n.storageInstance.query(u)).documents}return e}},6810:function(t,e,n){"use strict";n.d(e,{QC:function(){return v},Oq:function(){return l},El:function(){return p},r$:function(){return f},Qu:function(){return y},CT:function(){return h},_F:function(){return c},B:function(){return d}});var r=n(4121),i=/\./g,o=n(3615),s=n(8153),a=n(4807),u=n(71);function c(t,e){var n=e;return n="properties."+(n=n.replace(i,".properties.")),n=(0,o.Ny)(n),(0,s.$s)(t,n)}function l(t,e,n){if("string"==typeof e.primaryKey)return n;var i=f(e,n),o=n[t];if(o&&o!==i)throw(0,r.f3)("DOC19",{args:{documentData:n,existingPrimary:o,newPrimary:i},schema:e});return n[t]=i,n}function h(t){return"string"==typeof t?t:t.key}function f(t,e){if("string"==typeof t.primaryKey)return e[t.primaryKey];var n=t.primaryKey;return n.fields.map(t=>{var n=(0,s.$s)(e,t);if(void 0===n)throw(0,r.f3)("DOC18",{args:{field:t,documentData:e}});return n}).join(n.separator)}function d(t){return(0,a.CV)(t,!0)}function p(t){var e=h((t=(0,a.qu)(t)).primaryKey);t.properties=(0,a.qu)(t.properties),t.additionalProperties=!1,Object.prototype.hasOwnProperty.call(t,"keyCompression")||(t.keyCompression=!1),t.indexes=t.indexes?t.indexes.slice(0):[],t.required=t.required?t.required.slice(0):[],t.encrypted=t.encrypted?t.encrypted.slice(0):[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.properties._deleted={type:"boolean"},t.properties._meta=m,t.required=t.required?t.required.slice(0):[],t.required.push("_deleted"),t.required.push("_rev"),t.required.push("_meta"),t.required.push("_attachments");var n=y(t);(0,u.gu)(t.required,n),t.required=t.required.filter(t=>!t.includes(".")).filter((t,e,n)=>n.indexOf(t)===e),t.version=t.version||0;var r=t.indexes.map(t=>{var n=(0,u.AD)(t)?t.slice(0):[t];return n.includes(e)||n.push(e),"_deleted"!==n[0]&&n.unshift("_deleted"),n});0===r.length&&r.push(["_deleted",e]),r.push(["_meta.lwt",e]),t.internalIndexes&&t.internalIndexes.map(t=>{r.push(t)});var i=new Set;return r.filter(t=>{var e=t.join(",");return!i.has(e)&&(i.add(e),!0)}),t.indexes=r,t}var m={type:"object",properties:{lwt:{type:"number",minimum:n(3886).aA,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function y(t){var e=Object.keys(t.properties).filter(e=>t.properties[e].final),n=h(t.primaryKey);return e.push(n),"string"!=typeof t.primaryKey&&t.primaryKey.fields.forEach(t=>e.push(t)),e}function v(t,e){for(var n=Object.keys(t.defaultValues),r=0;r<n.length;++r){var i=n[r];Object.prototype.hasOwnProperty.call(e,i)&&void 0!==e[i]||(e[i]=t.defaultValues[i])}return e}},5486:function(t,e,n){"use strict";n.d(e,{Dw:function(){return f},os:function(){return h}});var r=n(4622),i=n(701),o=n(4807),s=n(71),a=n(4121),u=n(8159),c=n(6810),l=n(8757),h=function(){function t(t,e){this.jsonSchema=t,this.hashFunction=e,this.indexes=(this.jsonSchema.indexes||[]).map(t=>(0,s.AD)(t)?t:[t]),this.primaryPath=(0,c.CT)(this.jsonSchema.primaryKey),this.finalFields=(0,c.Qu)(this.jsonSchema)}var e=t.prototype;return e.validateChange=function(t,e){this.finalFields.forEach(n=>{if(!(0,i.v)(t[n],e[n]))throw(0,a.f3)("DOC9",{dataBefore:t,dataAfter:e,fieldName:n,schema:this.jsonSchema})})},e.getDocumentPrototype=function(){var t={};return Object.keys((0,c._F)(this.jsonSchema,"")).forEach(e=>{t.__defineGetter__(e,function(){if(this.get&&"function"==typeof this.get)return this.get(e)}),Object.defineProperty(t,e+"$",{get:function(){return this.get$(e)},enumerable:!1,configurable:!1}),Object.defineProperty(t,e+"$$",{get:function(){return this.get$$(e)},enumerable:!1,configurable:!1}),Object.defineProperty(t,e+"_",{get:function(){return this.populate(e)},enumerable:!1,configurable:!1})}),(0,o.IK)(this,"getDocumentPrototype",()=>t),t},e.getPrimaryOfDocumentData=function(t){return(0,c.r$)(this.jsonSchema,t)},(0,r.Z)(t,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var t={};return Object.entries(this.jsonSchema.properties).filter(([,t])=>Object.prototype.hasOwnProperty.call(t,"default")).forEach(([e,n])=>t[e]=n.default),(0,o.IK)(this,"defaultValues",t)}},{key:"hash",get:function(){return(0,o.IK)(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function f(t,e,n=!0){n&&(0,u.Cb)("preCreateRxSchema",t);var r=(0,c.El)(t);r=(0,c.B)(r),l.j.deepFreezeWhenDevMode(r);var i=new h(r,e);return(0,u.Cb)("createRxSchema",i),i}},1162:function(t,e,n){"use strict";n.d(e,{DF:function(){return v},DZ:function(){return p},GT:function(){return _},Qq:function(){return P},T_:function(){return y},_$:function(){return w},nR:function(){return k},ov:function(){return m},vI:function(){return b}});var r=n(8757),i=n(4121),o=n(6810),s=n(3615),a=n(5206),u=n(9533),c=n(4807),l=n(7986),h=n(71),f=n(3886),d=n(8159),p="_rxdb_internal";async function m(t,e){return(await t.findDocumentsById([e],!1))[0]||void 0}function y(t,e,n,r){if(r){if(409===r.status)throw(0,i.f3)("CONFLICT",{collection:t.name,id:e,writeError:r,data:n});if(422===r.status)throw(0,i.f3)("VD2",{collection:t.name,id:e,writeError:r,data:n});throw r}}function v(t,e,n,r,o,c,l){for(var h,f=!!t.schema.attachments,d=[],p=[],m=[],y={id:(0,s.sc)(10),events:[],checkpoint:null,context:o,startTime:(0,a.z)(),endTime:0},v=y.events,w=[],x=[],_=[],k=n.size>0,P=r.length,E=0;E<P;E++)if(function(){var t,o=r[E],s=o.document,a=o.previous,y=s[e],P=s._deleted,S=a&&a._deleted,O=void 0;if(k&&(O=n.get(y)),O){var A=O._rev;if(!a||a&&A!==a._rev){var D={isError:!0,status:409,documentId:y,writeRow:o,documentInDb:O};return m.push(D),1}var T=f?g(o):o;f&&(P?a&&Object.keys(a._attachments).forEach(t=>{x.push({documentId:y,attachmentId:t,digest:(0,u.Is)(a)._attachments[t].digest})}):(Object.entries(s._attachments).find(([e,n])=>((a?a._attachments[e]:void 0)||n.data||(t={documentId:y,documentInDb:O,isError:!0,status:510,writeRow:o,attachmentId:e}),!0)),t||Object.entries(s._attachments).forEach(([t,e])=>{var n=a?a._attachments[t]:void 0;if(n){var r=T.document._attachments[t].digest;e.data&&n.digest!==r&&_.push({documentId:y,attachmentId:t,attachmentData:e,digest:e.digest})}else w.push({documentId:y,attachmentId:t,attachmentData:e,digest:e.digest})}))),t?m.push(t):(f?p.push(g(T)):p.push(T),l&&l(s),h=T);var C=null,j=null,I=null;if(S&&!P)I="INSERT",C=f?b(s):s;else if(!a||S||P){if(P)I="DELETE",C=(0,u.Is)(s),j=a;else throw(0,i.f3)("SNH",{args:{writeRow:o}})}else I="UPDATE",C=f?b(s):s,j=a;var M={documentId:y,documentData:C,previousDocumentData:j,operation:I};v.push(M)}else if(f&&Object.entries(s._attachments).forEach(([e,n])=>{n.data?w.push({documentId:y,attachmentId:e,attachmentData:n,digest:n.digest}):(t={documentId:y,isError:!0,status:510,writeRow:o,attachmentId:e},m.push(t))}),t||(f?d.push(g(o)):d.push(o),c&&c(s),h=o),!P){var R={documentId:y,operation:"INSERT",documentData:f?b(s):s,previousDocumentData:f&&a?b(a):a};v.push(R)}}())continue;return{bulkInsertDocs:d,bulkUpdateDocs:p,newestRow:h,errors:m,eventBulk:y,attachmentsAdd:w,attachmentsRemove:x,attachmentsUpdate:_}}function g(t){return{previous:t.previous,document:b(t.document)}}function b(t){if(!t._attachments||0===Object.keys(t._attachments).length)return t;var e=(0,c.qu)(t);return e._attachments={},Object.entries(t._attachments).forEach(([t,n])=>{var r;e._attachments[t]=(r=n.data)?{length:atob(r).length,digest:n.digest,type:n.type}:n}),e}function w(t){return Object.assign({},t,{_meta:(0,c.qu)(t._meta)})}var x=new WeakMap;function _(t,e,n){r.j.deepFreezeWhenDevMode(n);var i=(0,o.CT)(e.schema.primaryKey),s={originalStorageInstance:e,schema:e.schema,internals:e.internals,collectionName:e.collectionName,databaseName:e.databaseName,options:e.options,bulkWrite(n,r){for(var o=t.token,s=Array(n.length),c=(0,a.z)(),f=0;f<n.length;f++){var p=n[f],m=w(p.document);m._meta.lwt=c;var y=p.previous;m._rev=(0,l.Zo)(o,y),s[f]={document:m,previous:y}}return(0,d.Cb)("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:s}),t.lockedRun(()=>e.bulkWrite(s,r)).then(n=>{var o={error:[]},a=P(i,s,n);x.set(o,a);var c=0===n.error.length?[]:n.error.filter(t=>409===t.status&&!t.writeRow.previous&&!t.writeRow.document._deleted&&!!(0,u.Is)(t.documentInDb)._deleted||(o.error.push(t),!1));if(c.length>0){var f=c.map(e=>({previous:e.documentInDb,document:Object.assign({},e.writeRow.document,{_rev:(0,l.Zo)(t.token,e.documentInDb)})}));return t.lockedRun(()=>e.bulkWrite(f,r)).then(t=>{(0,h.gu)(o.error,t.error);var e=P(i,f,t);return(0,h.gu)(a,e),o})}return o})},query:n=>t.lockedRun(()=>e.query(n)),count:n=>t.lockedRun(()=>e.count(n)),findDocumentsById:(n,r)=>t.lockedRun(()=>e.findDocumentsById(n,r)),getAttachmentData:(n,r,i)=>t.lockedRun(()=>e.getAttachmentData(n,r,i)),getChangedDocumentsSince:e.getChangedDocumentsSince?(n,r)=>t.lockedRun(()=>e.getChangedDocumentsSince((0,u.Is)(n),r)):void 0,cleanup:n=>t.lockedRun(()=>e.cleanup(n)),remove:()=>(t.storageInstances.delete(s),t.lockedRun(()=>e.remove())),close:()=>(t.storageInstances.delete(s),t.lockedRun(()=>e.close())),changeStream:()=>e.changeStream(),conflictResultionTasks:()=>e.conflictResultionTasks(),resolveConflictResultionTask(t){if(t.output.isEqual)return e.resolveConflictResultionTask(t);var n=Object.assign({},t.output.documentData,{_meta:(0,f.dy)(),_rev:(0,f.i1)(),_attachments:{}}),r=(0,c.qu)(n);return delete r._meta,delete r._rev,delete r._attachments,e.resolveConflictResultionTask({id:t.id,output:{isEqual:!1,documentData:r}})}};return t.storageInstances.add(s),s}function k(t){var e;if(t.schema.keyCompression)throw(0,i.f3)("UT5",{args:{params:t}});if((e=t.schema).encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)throw(0,i.f3)("UT6",{args:{params:t}});if(t.schema.attachments&&t.schema.attachments.compression)throw(0,i.f3)("UT7",{args:{params:t}})}function P(t,e,n){var r=x.get(n);if(r)return r;var i=[];if(n.error.length>0){for(var o=new Set,s=0;s<n.error.length;s++){var a=n.error[s];o.add(a.documentId)}for(var u=0;u<e.length;u++){var c=e[u].document;o.has(c[t])||i.push(b(c))}}else{i.length=e.length-n.error.length;for(var l=0;l<e.length;l++){var h=e[l].document;i[l]=b(h)}}return i}},4622:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(i.key),i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,{Z:function(){return o}})},6200:function(t,e,n){"use strict";n.d(e,{CR:function(){return u},FC:function(){return h},Jh:function(){return s},KL:function(){return f},XA:function(){return a},ZT:function(){return i},ev:function(){return c},mG:function(){return o},qq:function(){return l}});var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function l(t){return this instanceof l?(this.v=t,this):new l(t)}function h(t,e,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(t){return function(e){return Promise.resolve(e).then(t,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(t,e){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})},e&&(r[t]=e(r[t])))}function a(t,e){try{var n;(n=i[t](e)).value instanceof l?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}}function u(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function f(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=a(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}"function"==typeof SuppressedError&&SuppressedError}}]);